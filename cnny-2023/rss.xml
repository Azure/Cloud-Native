<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Building Cloud-Native Apps Blog</title>
        <link>https://azure.github.io/Cloud-Native/cnny-2023</link>
        <description>Building Cloud-Native Apps Blog</description>
        <lastBuildDate>Tue, 31 Jan 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[2-2. Kubernetes Fundamentals - Services and Ingress]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/fundamentals-day-2</link>
            <guid>fundamentals-day-2</guid>
            <pubDate>Tue, 31 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[A Step-by-Step Guide using Kubernetes Service and Ingress Resources on AKS]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Day 2 of Week 2</code> of #CloudNativeNewYear!</p><p>The theme for this week is #Kubernetes fundamentals. Yesterday we talked about how to deploy a containerized web app workload to Azure Kubernetes Service (AKS). Today we'll explore the topic of services and ingress and walk through the steps of making our containers accessible both internally as well as over the internet so that you can share it with the world üòä</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Friday, February 3rd at 11 AM PST</div><div class="admonitionContent_S0QG"><p>Join us for a live demo and let us answer your questions.</p><p><a href="https://aka.ms/cnny/live-coding" target="_blank" rel="noopener noreferrer">We'll be live on YouTube walking through today's (and the rest of this week's) demos</a>.  Join us Friday, February 3rd and bring your questions!</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Exposing Pods via Service</li><li>Exposing Services via Ingress</li><li>Takeaways</li><li>Resources</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exposing-pods-via-service">Exposing Pods via Service<a class="hash-link" href="#exposing-pods-via-service" title="Direct link to heading">‚Äã</a></h2><p>There are a few ways to expose your pod in Kubernetes. One way is to take an imperative approach and use the <code>kubectl expose</code> command. This is probably the quickest way to achieve your goal but it isn't the best way. A better way to expose your pod by taking a declarative approach by creating a <a href="https://learn.microsoft.com/azure/aks/concepts-network?WT.mc_id=containers-84290-pauyu#services" target="_blank" rel="noopener noreferrer">services</a> manifest file and deploying it using the <code>kubectl apply</code> command.</p><p>Don't worry if you are unsure of how to make this manifest, we'll use <code>kubectl</code> to help generate it.</p><p>First, let's ensure we have the database deployed on our AKS cluster.</p><blockquote><p>üìù NOTE: If you don't have an AKS cluster deployed, please head over to <a href="https://github.com/Azure-Samples/azure-voting-app-rust/tree/main" target="_blank" rel="noopener noreferrer">Azure-Samples/azure-voting-app-rust</a>, clone the repo, and follow the instructions in the <a href="https://github.com/Azure-Samples/azure-voting-app-rust/blob/main/README.md" target="_blank" rel="noopener noreferrer">README.md</a> to execute the Azure deployment and setup your <code>kubectl</code> context.  Check out <a href="/Cloud-Native/cnny-2023/fundamentals-day-1#setting-up-a-kubernetes-environment-in-azure">the first post this week for more on the environment setup</a>.</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/deployment-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, let's deploy the application. If you are following along from yesterday's content, there isn't anything you need to change; however, if you are deploy the app from scratch, you'll need to modify the <code>deployment-app.yaml</code> manifest and update it with your image tag and database pod's IP address.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/deployment-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, let's expose the database using a service so that we can leverage Kubernetes' built-in service discovery to be able to reference it by name; not pod IP. Run the following command.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl expose deployment azure-voting-db </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5432</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --target-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5432</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With the database exposed using service, we can update the app deployment manifest to use the service name instead of pod IP. This way, if the pod ever gets assigned a new IP, we don't have to worry about updating the IP each time and redeploying our web application. Kubernetes has internal service discovery mechanism in place that allows us to reference a service by its name.</p><p>Let's make an update to the manifest. Replace the environment variable for <code>DATABASE_SERVER</code> with the following:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DATABASE_SERVER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Re-deploy the app with the updated configuration.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/deployment-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>One service down, one to go. Run the following command to expose the web application.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl expose deployment azure-voting-app </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">LoadBalancer </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --target-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Notice the <code>--type</code> argument has a value of <code>LoadBalancer</code>. This service type is implemented by the <code>cloud-controller-manager</code> which is part of the Kubernetes control plane. When using a managed Kubernetes cluster such as Azure Kubernetes Service, a <a href="https://learn.microsoft.com/azure/aks/load-balancer-standard?WT.mc_id=containers-84290-pauyu#use-the-public-standard-load-balancer" target="_blank" rel="noopener noreferrer">public standard load balancer</a> will be able to provisioned when the service type is set to <code>LoadBalancer</code>. The load balancer will also have a public IP assigned which will make your deployment publicly available.</p><p>Kubernetes supports four <a href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types" target="_blank" rel="noopener noreferrer">service types</a>:</p><ul><li><strong>ClusterIP</strong>: this is the default and limits service access to internal traffic within the cluster</li><li><strong>NodePort</strong>: this assigns a port mapping on the node's IP address and allows traffic from the virtual network (outside the cluster)</li><li><strong>LoadBalancer</strong>: as mentioned above, this creates a cloud-based load balancer</li><li><strong>ExternalName</strong>: this is used in special case scenarios where you want to map a service to an external DNS name</li></ul><blockquote><p>üìù NOTE: When exposing a web application to the internet, allowing external users to connect to your <strong>Service</strong> directly is not the best approach. Instead, you should use an <strong>Ingress</strong>, which we'll cover in the next section.</p></blockquote><p>Now, let's confirm you can reach the web app from the internet. You can use the following command to print the URL to your terminal.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"http://</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">kubectl get </span><span class="token string variable function" style="color:#d73a49">service</span><span class="token string variable" style="color:#36acaa"> azure-voting-app -o </span><span class="token string variable assign-left variable" style="color:#36acaa">jsonpath</span><span class="token string variable operator" style="color:#393A34">=</span><span class="token string variable string" style="color:#e3116c">'{.status.loadBalancer.ingress[0].ip}'</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Great! The <code>kubectl expose</code> command gets the job done, but as mentioned above, it is not the best method of exposing deployments. It is better to expose deployments declaratively using a <a href="https://kubernetes.io/docs/concepts/services-networking/service/" target="_blank" rel="noopener noreferrer">service</a> manifest, so let's delete the services and redeploy using manifests.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> azure-voting-db azure-voting-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To use <code>kubectl</code> to generate our manifest file, we can use the same <code>kubectl expose</code> command that we ran earlier but this time, we'll include  <code>--output=yaml</code> and <code>--dry-run=client</code>. This will instruct the command to output the manifest that would be sent to the <code>kube-api</code> server in YAML format to the terminal.</p><p>Generate the manifest for the database service.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl expose deployment azure-voting-db </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ClusterIP </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5432</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --target-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5432</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --output</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yaml </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dry-run</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">client </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./manifests/service-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Generate the manifest for the application service.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl expose deployment azure-voting-app </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">LoadBalancer </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --target-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --output</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yaml </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dry-run</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">client </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./manifests/service-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The command above redirected the YAML output to your manifests directory. Here is what the web application service looks like.</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">status</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">loadBalancer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>üí° TIP: To view the schema of any <code>api-resource</code> in Kubernetes, you can use the <code>kubectl explain</code> command. In this case the <code>kubectl explain service</code> command will tell us exactly what each of these fields do.</p></blockquote><p>Re-deploy the services using the new service manifests.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/service-db.yaml -f ./manifests/service-app.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># You should see TYPE is set to LoadBalancer and the EXTERNAL-IP is set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> azure-voting-db azure-voting-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Confirm again that our application is accessible again. Run the following command to print the URL to the terminal.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"http://</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">kubectl get </span><span class="token string variable function" style="color:#d73a49">service</span><span class="token string variable" style="color:#36acaa"> azure-voting-app -o </span><span class="token string variable assign-left variable" style="color:#36acaa">jsonpath</span><span class="token string variable operator" style="color:#393A34">=</span><span class="token string variable string" style="color:#e3116c">'{.status.loadBalancer.ingress[0].ip}'</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>That was easy, right? We just exposed both of our pods using Kubernetes services. The database only needs to be accessible from within the cluster so <code>ClusterIP</code> is perfect for that. For the web application, we specified the type to be <code>LoadBalancer</code> so that we can access the application over the public internet.</p><p>But wait... remember that if you want to expose web applications over the public internet, a Service with a public IP is not the best way; the better approach is to use an Ingress resource.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exposing-services-via-ingress">Exposing Services via Ingress<a class="hash-link" href="#exposing-services-via-ingress" title="Direct link to heading">‚Äã</a></h2><p>If you read through the Kubernetes documentation on <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/#what-is-ingress" target="_blank" rel="noopener noreferrer">Ingress</a> you will see a diagram that depicts the Ingress sitting in front of the Service resource with a routing rule between it. In order to use Ingress, you need to deploy an Ingress Controller and it can be configured with many routing rules to forward traffic to one or many backend services. So effectively, an Ingress is a load balancer for your Services.</p><p>With that said, we no longer need a service type of <code>LoadBalancer</code> since the service does not need to be accessible from the internet. It only needs to be accessible from the Ingress Controller (internal to the cluster) so we can change the service type to <code>ClusterIP</code>.</p><p>Update your <code>service.yaml</code> file to look like this:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>üìù NOTE: The default service type is ClusterIP so we can omit the <code>type</code> altogether.</p></blockquote><p>Re-apply the app service manifest.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/service-app.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># You should see TYPE set to ClusterIP and EXTERNAL-IP set to &lt;none&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> azure-voting-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, we need to install an <a href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/" target="_blank" rel="noopener noreferrer">Ingress Controller</a>. There are quite a few options, and the Kubernetes-maintained <a href="https://github.com/kubernetes/ingress-nginx" target="_blank" rel="noopener noreferrer">NGINX Ingress Controller</a> is commonly deployed.</p><p>You could install this manually by following <a href="https://kubernetes.github.io/ingress-nginx/deploy/#azure" target="_blank" rel="noopener noreferrer">these instructions</a>, but if you do that you'll be responsible for maintaining and supporting the resource.</p><p>I like to take advantage of free maintenance and support when I can get it, so I'll opt to use the <a href="https://learn.microsoft.com/azure/aks/web-app-routing?WT.mc_id=containers-84290-pauyu&amp;tabs=without-osm" target="_blank" rel="noopener noreferrer">Web Application Routing add-on for AKS</a>.</p><blockquote><p>üí° TIP: Whenever you install an AKS add-on, it will be maintained and fully supported by Azure Support.</p></blockquote><p>Enable the web application routing add-on in our AKS cluster with the following command.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az aks addon </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">YOUR_AKS_NAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --resource-group </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">YOUR_AKS_RESOURCE_GROUP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --addon web_application_routing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>‚ö†Ô∏è WARNING: This command can take a few minutes to complete</p></blockquote><p>Now, let's use the same approach we took in creating our service to create our Ingress resource. Run the following command to generate the Ingress manifest.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create ingress azure-voting-app </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --class</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">webapprouting.kubernetes.azure.com </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --rule</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"/*=azure-voting-app:80"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --output yaml </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dry-run</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">client </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./manifests/ingress.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>--class=webapprouting.kubernetes.azure.com</code> option activates the AKS web application routing add-on. This AKS add-on can also integrate with other Azure services such as <a href="https://learn.microsoft.com/azure/dns/dns-overview?WT.mc_id=containers-84290-pauyu" target="_blank" rel="noopener noreferrer">Azure DNS</a> and <a href="https://learn.microsoft.com/azure/key-vault/general/overview?WT.mc_id=containers-84290-pauyu" target="_blank" rel="noopener noreferrer">Azure Key Vault</a> for TLS certificate management and this special class makes it all work.</p><p>The <code>--rule="/*=azure-voting-app:80"</code> option looks confusing but we can use <code>kubectl</code> again to help us understand how to format the value for the option.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create ingress --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the output you will see the following:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--rule=[]:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Rule in format host/path=service:port[,tls=secretname]. Paths containing the leading character '*' are</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    considered pathType=Prefix. tls argument is optional.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It expects a <code>host</code> and <code>path</code> separated by a forward-slash, then expects the backend <code>service</code> name and <code>port</code> separated by a colon. We're not using a hostname for this demo so we can omit it. For the path, an asterisk is used to specify a wildcard path prefix.</p><p>So, the value of <code>/*=azure-voting-app:80</code> creates a routing rule for all paths following the domain (or in our case since we don't have a hostname specified, the IP) to route traffic to our <code>azure-voting-app</code> backend service on port <code>80</code>.</p><blockquote><p>üìù NOTE: Configuring the hostname and TLS is outside the scope of this demo but please visit this URL <a href="https://bit.ly/aks-webapp-routing" target="_blank" rel="noopener noreferrer">https://bit.ly/aks-webapp-routing</a> for an in-depth hands-on lab centered around Web Application Routing on AKS.</p></blockquote><p>Your <code>ingress.yaml</code> file should look like this:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ingressClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webapprouting.kubernetes.azure.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">number</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">pathType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Prefix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">status</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">loadBalancer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Apply the app ingress manifest.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/ingress.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Validate the web application is available from the internet again. You can run the following command to print the URL to the terminal.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"http://</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">kubectl get ingress azure-voting-app -o </span><span class="token string variable assign-left variable" style="color:#36acaa">jsonpath</span><span class="token string variable operator" style="color:#393A34">=</span><span class="token string variable string" style="color:#e3116c">'{.status.loadBalancer.ingress[0].ip}'</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="takeaways">Takeaways<a class="hash-link" href="#takeaways" title="Direct link to heading">‚Äã</a></h2><p>Exposing your applications both internally and externally can be easily achieved using Service and Ingress resources respectively. If your service is HTTP or HTTPS based and needs to be accessible from outsie the cluster, use Ingress with an internal Service (i.e., ClusterIP or NodePort); otherwise, use the Service resource.  If your TCP-based Service needs to be publicly accessible, you set the type to LoadBalancer to expose a public IP for it. To learn more about these resources, please visit the links listed below.</p><p>Lastly, if you are unsure how to begin writing your service manifest, you can use <code>kubectl</code> and have it do most of the work for you ü•≥</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://learn.microsoft.com/azure/aks/concepts-network?WT.mc_id=containers-84290-pauyu#services" target="_blank" rel="noopener noreferrer">Services</a></li><li><a href="https://learn.microsoft.com/azure/aks/concepts-network?WT.mc_id=containers-84290-pauyu#ingress-controllers" target="_blank" rel="noopener noreferrer">Ingress Controllers</a></li><li><a href="https://aka.ms/aks-webapp-routing-lab" target="_blank" rel="noopener noreferrer">Hands-on Lab: Web Application Routing on AKS</a></li><li><a href="https://learn.microsoft.com/azure/aks/ingress-basic??WT.mc_id=containers-84290-pauyu&amp;tabs=azure-cli" target="_blank" rel="noopener noreferrer">How-to Guide: Ingress Controller in AKS</a></li></ul>]]></content:encoded>
            <category>cloud-native-new-year</category>
            <category>azure-kubernetes-service</category>
            <category>aks</category>
            <category>kubernetes</category>
            <category>service</category>
            <category>ingress</category>
        </item>
        <item>
            <title><![CDATA[2-1. Kubernetes Fundamentals - Pods and Deployments]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/fundamentals-day-1</link>
            <guid>fundamentals-day-1</guid>
            <pubDate>Mon, 30 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[The theme for this week is Kubernetes fundamentals. Today we'll explore the topic of Pods and Deployments in Kubernetes.]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Day #1 of Week 2</code> of #CloudNativeNewYear!</p><p>The theme for this week is Kubernetes fundamentals. Last week we talked about Cloud Native architectures and the Cloud Native landscape. Today we'll explore the topic of Pods and Deployments in Kubernetes.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Friday, February 3rd at 11 AM PST</div><div class="admonitionContent_S0QG"><p>Join us for a live demo and let us answer your questions.</p><p><a href="https://aka.ms/cnny/live-coding" target="_blank" rel="noopener noreferrer">We'll be live on YouTube walking through today's (and the rest of this week's) demos</a>.  Join us Friday, February 3rd and bring your questions!</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Setting Up A Kubernetes Environment in Azure</li><li>Running Containers in Kubernetes Pods</li><li>Making the Pods Resilient with Deployments</li><li>Exercise</li><li>Resources</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-a-kubernetes-environment-in-azure">Setting Up A Kubernetes Environment in Azure<a class="hash-link" href="#setting-up-a-kubernetes-environment-in-azure" title="Direct link to heading">‚Äã</a></h2><p>For this week, we'll be working with a simple app - <a href="https://aka.ms/azure-voting-app-rust" target="_blank" rel="noopener noreferrer">the Azure Voting App</a>. My teammate <a href="https://github.com/pauldotyu" target="_blank" rel="noopener noreferrer">Paul Yu</a> ported the app to Rust and we tweaked it a bit to let us highlight some of the basic features of Kubernetes.</p><p>You should be able to replicate this in just about any Kubernetes environment, but we'll use <a href="https://learn.microsoft.com/azure/aks/intro-kubernetes?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Azure Kubernetes Service</a> (AKS) as our working environment for this week.</p><p>To make it easier to get started, there's a <a href="https://learn.microsoft.com/azure/azure-resource-manager/bicep/overview?WT.mc_id=containers-84290-stmuraws&amp;tabs=bicep" target="_blank" rel="noopener noreferrer">Bicep</a> template to deploy an AKS cluster, an Azure Container Registry (ACR) (to host our container image), and connect the two so that we can easily deploy our application.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-0---prerequisites">Step 0 - Prerequisites<a class="hash-link" href="#step-0---prerequisites" title="Direct link to heading">‚Äã</a></h3><p>There are a few things you'll need if you want to work through this and the following examples this week.</p><p>Required:</p><ul><li>Git (and probably a GitHub account if you want to persist your work outside of your computer)</li><li>Azure CLI</li><li>An Azure subscription (if you want to follow along with the Azure steps)</li><li>Kubectl (the command line tool for managing Kubernetes)</li></ul><p>Helpful:</p><ul><li>Visual Studio Code (or equivalent editor)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1---clone-the-application-repository">Step 1 - Clone the application repository<a class="hash-link" href="#step-1---clone-the-application-repository" title="Direct link to heading">‚Äã</a></h3><p>First, I forked <a href="https://aka.ms/azure-voting-app-rust" target="_blank" rel="noopener noreferrer">the source repository</a> to my account.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$GitHubOrg = 'smurawski' # Replace this with your GitHub account name or org name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone "https://github.com/$GitHubOrg/azure-voting-app-rust"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd azure-voting-app-rust</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Leave your shell opened with your current location inside the application repository.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2---set-up-aks">Step 2 - Set up AKS<a class="hash-link" href="#step-2---set-up-aks" title="Direct link to heading">‚Äã</a></h3><p>Running the template deployment from the demo script (I'm using the PowerShell example in <a href="https://aka.ms/azure-voting-app-rust/setup-powershell" target="_blank" rel="noopener noreferrer">cnny23-week2-day1.ps1</a>, but there's a Bash variant at <a href="https://aka.ms/azure-voting-app-rust/setup-bash" target="_blank" rel="noopener noreferrer">cnny23-week2-day1.sh</a>) stands up the environment.  The second, third, and fourth commands take some of the output from the Bicep deployment to set up for later commands, so don't close out your shell after you run these commands.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az deployment sub create --template-file ./deploy/main.bicep --location eastus --parameters 'resourceGroup=cnny-week2'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$AcrName = az deployment sub show --name main --query 'properties.outputs.acr_name.value' -o tsv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$AksName = az deployment sub show --name main --query 'properties.outputs.aks_name.value' -o tsv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ResourceGroup = az deployment sub show --name main --query 'properties.outputs.resource_group_name.value' -o tsv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az aks get-credentials --resource-group $ResourceGroup --name $AksName</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3---build-our-application-container">Step 3 - Build our application container<a class="hash-link" href="#step-3---build-our-application-container" title="Direct link to heading">‚Äã</a></h3><p>Since we have an Azure Container Registry set up, I'll use ACR Build Tasks to build and store my container image.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az acr build --registry $AcrName --% --image cnny2023/azure-voting-app-rust:{{.Run.ID}} .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$BuildTag = az acr repository show-tags `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              --name $AcrName `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              --repository cnny2023/azure-voting-app-rust `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              --orderby time_desc `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              --query '[0]' -o tsv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Wondering what the <code>--%</code> is in the first command line?  That tells the PowerShell interpreter to pass the input after it "as is" to the command without parsing/evaluating it. Otherwise, PowerShell messes a bit with the templated <code>{{.Run.ID}}</code> bit.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-containers-in-kubernetes-pods">Running Containers in Kubernetes Pods<a class="hash-link" href="#running-containers-in-kubernetes-pods" title="Direct link to heading">‚Äã</a></h2><p>Now that we have our AKS cluster and application image ready to go, let's look into how Kubernetes runs containers.</p><p>If you've been in tech for any length of time, you've seen that every framework, runtime, orchestrator, etc.. can have their own naming scheme for their concepts. So let's get into some of what Kubernetes calls things.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-pod">The Pod<a class="hash-link" href="#the-pod" title="Direct link to heading">‚Äã</a></h3><p>A container running in Kubernetes is called a <a href="https://learn.microsoft.com/azure/aks/concepts-clusters-workloads?WT.mc_id=containers-84290-stmuraws#pods" target="_blank" rel="noopener noreferrer">Pod</a>. A Pod is basically a running container on a <a href="https://learn.microsoft.com/azure/aks/concepts-clusters-workloads?WT.mc_id=containers-84290-stmuraws#nodes-and-node-pools" target="_blank" rel="noopener noreferrer">Node</a> or VM. It can be more. For example you can run multiple containers and specify some funky configuration, but we'll keep it simple for now - add the complexity when you need it.</p><p>Our Pod definition can be created via the <code>kubectl</code> command imperatively from arguments or declaratively from a configuration file.  We'll do a little of both.  We'll use the <code>kubectl</code> command to help us write our configuration files.  Kubernetes configuration files are YAML, so having an editor that supports and can help you syntax check YAML is really helpful.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-pod-definition">Creating a Pod Definition<a class="hash-link" href="#creating-a-pod-definition" title="Direct link to heading">‚Äã</a></h3><p>Let's create a few Pod definitions.  Our application requires two containers to get working - the application and a database.</p><p>Let's create the database Pod first.  And before you comment, the configuration isn't secure nor best practice.  We'll fix that later this week.  For now, let's focus on getting up and running.</p><p>This is a trick I learned from one of my teammates - Paul.  By using the <code>--output yaml</code> and <code>--dry-run=client</code> options, we can have the command help us write our YAML.  And with a bit of output redirection, we can stash it safely in a file for later use.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl run azure-voting-db `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --image "postgres:15.0-alpine" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --env "POSTGRES_PASSWORD=mypassword" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --output yaml `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --dry-run=client &gt; manifests/pod-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This creates a file that looks like:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> POSTGRES_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mypassword</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">15.0</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">voting</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dnsPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterFirst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">restartPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">status</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The file, when supplied to the Kubernetes API, will identify what kind of resource to create, the API version to use, and the details of the container (as well as an environment variable to be supplied).</p><p>We'll get that container image started with the <code>kubectl</code> command.  Because the details of what to create are in the file, we don't need to specify much else to the <code>kubectl</code> command but the path to the file.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/pod-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>I'm going to need the IP address of the Pod, so that my application can connect to it, so we can use <code>kubectl</code> to get some information about our pod.  By default, <code>kubectl get pod</code> only displays certain information but it retrieves a lot more.  We can use the <a href="https://kubernetes.io/docs/reference/kubectl/jsonpath/" target="_blank" rel="noopener noreferrer">JSONPath syntax</a> to index into the response and get the information you want.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>To see what you can get, I usually run the <code>kubectl</code> command with the output type (<code>-o JSON</code>) of JSON and then I can find where the data I want is and create my JSONPath query to get it.</p></div></div><div class="language-powershell, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$DB_IP = kubectl get pod azure-voting-db -o jsonpath='{.status.podIP}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, let's create our Pod definition for our application.  We'll use the same technique as before.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl run azure-voting-app `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --image "$AcrName.azurecr.io/cnny2023/azure-voting-app-rust:$BuildTag" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --env "DATABASE_SERVER=$DB_IP" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --env "DATABASE_PASSWORD=mypassword`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --output yaml `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            --dry-run=client &gt; manifests/pod-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>That command gets us a similar YAML file to the database container - you can see <a href="https://github.com/azure-samples/azure-voting-app-rust/blob/week2/day1/manifests/pod-app.yaml" target="_blank" rel="noopener noreferrer">the full file here</a></p><p>Let's get our application container running.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/pod-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="now-that-the-application-is-running">Now that the Application is Running<a class="hash-link" href="#now-that-the-application-is-running" title="Direct link to heading">‚Äã</a></h3><p>We can check the status of our Pods with:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And we should see something like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-rust ‚ùØ  kubectl get pods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME               READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app   1/1     Running   0          36s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-db    1/1     Running   0          84s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once our pod is running, we can check to make sure everything is working by letting <code>kubectl</code> proxy network connections to our Pod running the application. If we get the voting web page, we'll know the application found the database and we can start voting!</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward pod/azure-voting-app 8080:8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Azure voting website in a browser with three buttons, one for Dogs, one for Cats, and one for Reset.  The counter is Dogs - 0 and Cats - 0." src="/Cloud-Native/assets/images/azure_voting_app-f23e02d61834bad88440b2aab40012fb.png" width="1590" height="1137" class="img_ev3q"></p><p>When you are done voting, you can stop the port forwarding by using Control-C to break the command.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clean-up">Clean Up<a class="hash-link" href="#clean-up" title="Direct link to heading">‚Äã</a></h3><p>Let's clean up after ourselves and see if we can't get Kubernetes to help us keep our application running.  We can use the same configuration files to ensure that Kubernetes only removes what we want removed.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f ./manifests/pod-app.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f ./manifests/pod-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary---pods">Summary - Pods<a class="hash-link" href="#summary---pods" title="Direct link to heading">‚Äã</a></h3><p>A Pod is the most basic unit of work inside Kubernetes. Once the Pod is deleted, it's gone.  That leads us to our next topic (and final topic for today.)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-the-pods-resilient-with-deployments">Making the Pods Resilient with Deployments<a class="hash-link" href="#making-the-pods-resilient-with-deployments" title="Direct link to heading">‚Äã</a></h2><p>We've seen how easy it is to deploy a Pod and get our containers running on Nodes in our Kubernetes cluster.  But there's a problem with that.  Let's illustrate it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-stuff">Breaking Stuff<a class="hash-link" href="#breaking-stuff" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-back-up">Setting Back Up<a class="hash-link" href="#setting-back-up" title="Direct link to heading">‚Äã</a></h4><p>First, let's redeploy our application environment.  We'll start with our application container.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/pod-db.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pod azure-voting-db -o jsonpath='{.status.podIP}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The second command will report out the new IP Address for our database container.  Let's open <code>./manifests/pod-app.yaml</code> and update the container IP to our new one.</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DATABASE_SERVER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> YOUR_NEW_IP_HERE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then we can deploy the application with the information it needs to find its database.  We'll also list out our pods to see what is running.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/pod-app.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Feel free to look back and use the port forwarding trick to make sure your app is running if you'd like.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="knocking-it-down">Knocking It Down<a class="hash-link" href="#knocking-it-down" title="Direct link to heading">‚Äã</a></h4><p>The first thing we'll try to break is our application pod.  Let's delete it.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete pod azure-voting-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, we'll check our pod's status:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which should show something like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-rust ‚ùØ  kubectl get pods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME              READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-db   1/1     Running   0          50s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We should be able to recreate our application pod deployment with no problem, since it has the current database IP address and nothing else depends on it.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/pod-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Again, feel free to do some fun port forwarding and check your site is running.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="uncomfortable-truths">Uncomfortable Truths<a class="hash-link" href="#uncomfortable-truths" title="Direct link to heading">‚Äã</a></h4><p>Here's where it gets a bit stickier, what if we delete the database container?</p><p>If we delete our database container and recreate it, it'll likely have a new IP address, which would force us to update our application configuration.  We'll look at some solutions for these problems in the next three posts this week.</p><p>Because our database problem is a bit tricky, we'll primarily focus on making our application layer more resilient and prepare our database layer for those other techniques over the next few days.</p><p>Let's clean back up and look into making things more resilient.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f ./manifests/pod-app.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f ./manifests/pod-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-deployment">The Deployment<a class="hash-link" href="#the-deployment" title="Direct link to heading">‚Äã</a></h3><p>One of the reasons you may want to use Kubernetes is it's ability to orchestrate workloads.  Part of that orchestration includes being able to ensure that certain workloads are running (regardless of what Node they might be on).</p><p>We saw that we could delete our application pod and then restart it from the manifest with little problem.  It just meant that we had to run a command to restart it.  We can use the <a href="https://learn.microsoft.com/azure/aks/concepts-clusters-workloads?WT.mc_id=containers-84290-stmuraws#deployments-and-yaml-manifests" target="_blank" rel="noopener noreferrer">Deployment</a> in Kubernetes to tell the orchestrator to ensure we have our application pod running.</p><p>The Deployment also can encompass a lot of extra configuration - controlling how many containers of a particular type should be running, how upgrades of container images should proceed, and more.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-deployment">Creating the Deployment<a class="hash-link" href="#creating-the-deployment" title="Direct link to heading">‚Äã</a></h4><p>First, we'll create a Deployment for our database. We'll use a technique similar to what we did for the Pod, with just a bit of difference.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create deployment azure-voting-db `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            --image "postgres:15.0-alpine" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            --port 5432 `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            --output yaml `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            --dry-run=client &gt; manifests/deployment-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Unlike our Pod definition creation, we can't pass in environment variable configuration from the command line.  We'll have to edit the YAML file to add that.</p><p>So, let's open <code>./manifests/deployment-db.yaml</code> in our editor and add the following in the <code>spec/containers</code> configuration.</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> POSTGRES_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"mypassword"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your file should look like this <a href="https://github.com/azure-samples/azure-voting-app-rust/blob/week2/day1/manifests/deployment-db.yaml" target="_blank" rel="noopener noreferrer">deployment-db.yaml</a>.</p><p>Once we have our configuration file updated, we can deploy our database container image.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/deployment-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For our application, we'll use the same technique.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create deployment azure-voting-app `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        --image "$AcrName.azurecr.io/cnny2023/azure-voting-app-rust:$BuildTag" `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        --port 8080 `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        --output yaml `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        --dry-run=client &gt; manifests/deployment-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, we'll need to add an environment variable to the generated configuration.  We'll also need the new IP address for the database deployment.</p><p>Previously, we named the pod and were able to ask for the IP address with <code>kubectl</code> and a bit of JSONPath. Now, the deployment created the pod for us, so there's a bit of random in the naming.  Check out:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Should return something like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-rust ‚ùØ  kubectl get pods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                               READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-db-686d758fbf-8jnq8   1/1     Running   0          7s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can either ask for the IP with the new pod name, or we can use a <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors" target="_blank" rel="noopener noreferrer">selector</a> to find our desired pod.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pod --selector app=azure-voting-db -o jsonpath='{.items[0].status.podIP}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, we can update our application deployment configuration file with:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DATABASE_SERVER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> YOUR_NEW_IP_HERE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DATABASE_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mypassword</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your file should look like this <a href="https://github.com/azure-samples/azure-voting-app-rust/blob/week2/day1/manifests/deployment-app.yaml" target="_blank" rel="noopener noreferrer">deployment-app.yaml</a> (but with IPs and image names matching your environment).</p><p>After we save those changes, we can deploy our application.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./manifests/deployment-app.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let's test the resilience of our app now. First, we'll delete the pod running our application, then we'll check to make sure Kubernetes restarted our application pod.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-rust ‚ùØ  kubectl get pods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-56c9ccc89d-skv7x   1/1     Running   0          71s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-db-686d758fbf-8jnq8    1/1     Running   0          12m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete pod azure-voting-app-56c9ccc89d-skv7x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-rust ‚ùØ  kubectl delete pod azure-voting-app-56c9ccc89d-skv7x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;&gt; kubectl get pods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod "azure-voting-app-56c9ccc89d-skv7x" deleted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-app-56c9ccc89d-2b5mx   1/1     Running   0          2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">azure-voting-db-686d758fbf-8jnq8    1/1     Running   0          14m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Your Pods will likely have different identifiers at the end, so adjust your commands to match the names in your environment.</p></div></div><p>As you can see, by the time the <code>kubectl get pods</code> command was run, Kubernetes had already spun up a new pod for the application container image.  Thanks Kubernetes!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clean-up-1">Clean up<a class="hash-link" href="#clean-up-1" title="Direct link to heading">‚Äã</a></h3><p>Since we can't just delete the pods, we have to delete the deployments.</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f ./manifests/deployment-app.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f ./manifests/deployment-db.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary---deployments">Summary - Deployments<a class="hash-link" href="#summary---deployments" title="Direct link to heading">‚Äã</a></h3><p>Deployments allow us to create more durable configuration for the workloads we deploy into Kubernetes. As we dig deeper, we'll discover more capabilities the deployments offer. Check out the Resources below for more.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>If you want to try these steps, head over to <a href="https://aka.ms/azure-voting-app-rust" target="_blank" rel="noopener noreferrer">the source repository</a>, fork it, clone it locally, and give it a spin!</p><p>You can check your manifests against the manifests in the <code>week2/day1</code> <a href="https://github.com/azure-samples/azure-voting-app-rust/tree/week2/day1/manifests" target="_blank" rel="noopener noreferrer">branch of the source repository</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a class="hash-link" href="#documentation" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="https://learn.microsoft.com/azure/aks/intro-kubernetes?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Azure Kubernetes Service</a></li><li><a href="https://learn.microsoft.com/azure/azure-resource-manager/bicep/overview?WT.mc_id=containers-84290-stmuraws&amp;tabs=bicep" target="_blank" rel="noopener noreferrer">Bicep</a></li><li><a href="https://aka.ms/azure-voting-app-rust" target="_blank" rel="noopener noreferrer">Azure Voting App in Rust</a></li><li><a href="https://learn.microsoft.com/azure/aks/concepts-clusters-workloads?WT.mc_id=containers-84290-stmuraws#pods" target="_blank" rel="noopener noreferrer">Pods</a>.</li><li><a href="https://learn.microsoft.com/azure/aks/concepts-clusters-workloads?WT.mc_id=containers-84290-stmuraws#nodes-and-node-pools" target="_blank" rel="noopener noreferrer">Nodes</a></li><li><a href="https://kubernetes.io/docs/reference/kubectl/kubectl/" target="_blank" rel="noopener noreferrer">kubectl</a></li><li><a href="https://kubernetes.io/docs/reference/kubectl/jsonpath/" target="_blank" rel="noopener noreferrer">JSONPath syntax</a></li><li><a href="https://learn.microsoft.com/azure/aks/concepts-clusters-workloads?WT.mc_id=containers-84290-stmuraws#deployments-and-yaml-manifests" target="_blank" rel="noopener noreferrer">Deployment</a></li><li><a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors" target="_blank" rel="noopener noreferrer">Labels and Selectors</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="training">Training<a class="hash-link" href="#training" title="Direct link to heading">‚Äã</a></h3><ul><li><a href="https://learn.microsoft.com/training/paths/intro-to-kubernetes-on-azure/?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Learning Path - Introduction to Kubernetes on Azure</a></li></ul>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
        </item>
        <item>
            <title><![CDATA[1-5. Exploring Cloud-Native Options]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/explore-options</link>
            <guid>explore-options</guid>
            <pubDate>Fri, 27 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[There are many cloud-native technologies - but which are the best fit for your projects?]]></description>
            <content:encoded><![CDATA[<p>We are excited to be wrapping up our first week of #CloudNativeNewYear! This week, we have tried to set the stage by covering the fundamentals of cloud-native practices and technologies, including primers on <a href="https://azure.github.io/Cloud-Native/cnny-2023/containers-101/" target="_blank" rel="noopener noreferrer">containerization</a>, <a href="https://azure.github.io/Cloud-Native/cnny-2023/microservices-101" target="_blank" rel="noopener noreferrer">microservices</a>, and <a href="https://azure.github.io/Cloud-Native/cnny-2023/Kubernetes-101" target="_blank" rel="noopener noreferrer">Kubernetes</a>.  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span><mdxadmonitiontitle>Don't forget to sign up for the the <a href="https://aka.ms/CNNY/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a>!</mdxadmonitiontitle></div><div class="admonitionContent_S0QG"></div></div><p>Today, we will do a brief recap of some of these technologies and provide some basic guidelines for when it is optimal to use each. </p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>To Containerize or not to Containerize?</li><li>The power of Kubernetes</li><li>Where does Serverless fit? </li><li>Resources</li><li>What's coming next!</li></ul><p><img loading="lazy" src="/Cloud-Native/assets/images/hero-banner-991129dffd470b38678db8972274c09a.png" width="3840" height="654" class="img_ev3q"></p><hr><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Just joining us now? Check out these other Week 1 posts:</div><div class="admonitionContent_S0QG"><ul><li><a href="https://azure.github.io/Cloud-Native/cnny-2023/cloud-native-fundamentals" target="_blank" rel="noopener noreferrer">Cloud-native fundamentals</a></li><li><a href="https://azure.github.io/Cloud-Native/cnny-2023/containers-101" target="_blank" rel="noopener noreferrer">Containers 101</a></li><li><a href="https://azure.github.io/Cloud-Native/cnny-2023/microservices-101" target="_blank" rel="noopener noreferrer">Microservices 101</a></li><li><a href="https://azure.github.io/Cloud-Native/cnny-2023/Kubernetes-101" target="_blank" rel="noopener noreferrer">Kubernetes 101</a></li></ul></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="to-containerize-or-not-to-containerize">To Containerize or not to Containerize?<a class="hash-link" href="#to-containerize-or-not-to-containerize" title="Direct link to heading">‚Äã</a></h2><p>As mentioned in our Containers 101 post earlier this week, containers can provide several benefits over traditional virtualization methods, which has made them popular within the software development community. Containers provide a consistent and predictable runtime environment, which can help reduce the risk of compatibility issues and simplify the deployment process. Additionally, containers can improve resource efficiency by allowing multiple applications to run on the same host while isolating their dependencies. </p><p>Some types of apps that are a particularly good fit for containerization include: </p><ol><li><strong>Microservices:</strong> Containers are particularly well-suited for microservices-based applications, as they can be used to isolate and deploy individual components of the system. This allows for more flexibility and scalability in the deployment process.</li><li><strong>Stateless applications:</strong> Applications that do not maintain state across multiple sessions, such as web applications, are well-suited for containers. Containers can be easily scaled up or down as needed and replaced with new instances, without losing data.</li><li><strong>Portable applications:</strong> Applications that need to be deployed in different environments, such as on-premises, in the cloud, or on edge devices, can benefit from containerization. The consistent and portable runtime environment of containers can make it easier to move the application between different environments.</li><li><strong>Legacy applications:</strong> Applications that are built using older technologies or that have compatibility issues can be containerized to run in an isolated environment, without impacting other applications or the host system.</li><li><strong>Dev and testing environments:</strong> Containerization can be used to create isolated development and testing environments, which can be easily created and destroyed as needed.</li></ol><p>While there are many types of applications that can benefit from a containerized approach, it's worth noting that containerization is not <strong>always</strong> the best option, and it's important to weigh the benefits and trade-offs before deciding to containerize an application. Additionally, some types of applications may not be a good fit for containers including:</p><ul><li>Apps that require full access to host resources: Containers are isolated from the host system, so if an application needs direct access to hardware resources such as GPUs or specialized devices, it might not work well in a containerized environment.</li><li>Apps that require low-level system access: If an application requires deep access to the underlying operating system, it may not be suitable for running in a container.</li><li>Applications that have specific OS dependencies: Apps that have specific dependencies on a certain version of an operating system or libraries may not be able to run in a container.</li><li>Stateful applications: Apps that maintain state across multiple sessions, such as databases, may not be well suited for containers. Containers are ephemeral by design, so the data stored inside a container may not persist between restarts.</li></ul><p>The good news is that some of these limitations can be overcome with the use of specialized containerization technologies such as Kubernetes, and by carefully designing the architecture of the application. </p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-power-of-kubernetes">The power of Kubernetes<a class="hash-link" href="#the-power-of-kubernetes" title="Direct link to heading">‚Äã</a></h2><p>Speaking of Kubernetes...</p><p>Kubernetes is a powerful tool for managing and deploying containerized applications in production environments, particularly for applications that need to scale, handle large numbers of requests, or run in multi-cloud or hybrid environments.</p><p>Kubernetes is well-suited for a wide variety of applications, but it is particularly well-suited for the following types of applications:</p><ol><li><strong>Microservices-based applications:</strong> Kubernetes provides a powerful set of tools for managing and deploying microservices-based applications, making it easy to scale, update, and manage the individual components of the application.</li><li><strong>Stateful applications:</strong> Kubernetes provides support for stateful applications through the use of Persistent Volumes and StatefulSets, allowing for applications that need to maintain state across multiple instances. </li><li><strong>Large-scale, highly-available systems:</strong> Kubernetes provides built-in support for scaling, self-healing, and rolling updates, making it an ideal choice for large-scale, highly-available systems that need to handle large numbers of users and requests.</li><li><strong>Multi-cloud and hybrid environments:</strong> Kubernetes can be used to deploy and manage applications across multiple cloud providers and on-premises environments, making it a good choice for organizations that want to take advantage of the benefits of multiple cloud providers or that need to deploy applications in a hybrid environment.</li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>New to Kubernetes?</div><div class="admonitionContent_S0QG"><p>Catch <a href="https://info.microsoft.com/ww-ondemand-a-quickstart-guide-to-kubernetes-concepts.html?lcid=en-us" target="_blank" rel="noopener noreferrer">A Quickstart Guide to Kubernetes Concepts</a> on demand, now!</p></div></div><hr><h1>Where does Serverless fit in?</h1><p>Serverless is a cloud computing model where the cloud provider (like Azure) is responsible for executing a piece of code by dynamically allocating the resources. With serverless, you only pay for the exact amount of compute time that you use, rather than paying for a fixed amount of resources. This can lead to significant cost savings, particularly for applications with variable or unpredictable workloads.</p><p>Serverless is commonly used for building applications like web or mobile apps, IoT, data processing, and real-time streaming - apps where the workloads are variable and high scalability is required.
It's important to note that serverless is not a replacement for all types of workloads - it's best suited for stateless, short-lived and small-scale workloads.</p><p>For a detailed look into the world of Serverless and lots of great learning content, revisit <a href="https://azure.github.io/Cloud-Native/serverless-september/30DaysOfServerless/" target="_blank" rel="noopener noreferrer">#30DaysofServerless</a>.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><strong>Register</strong> for the <a href="https://aka.ms/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a> - 30 days to complete it!</li><li><strong>Learning Resources</strong>: <a href="https://aka.ms/CNNY/collection" target="_blank" rel="noopener noreferrer">#30DaysOfCloudNative Collection</a></li><li><strong>eBook:</strong> <a href="https://azure.microsoft.com/resources/cloud-native-infrastructure-with-microsoft-azure/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Cloud Native Infrastructure with Azure</a></li><li><strong>eBook:</strong> <a href="https://azure.microsoft.com/resources/azure-cloud-native-architecture-mapbook/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Cloud-native Architecture Mapbook</a></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-up-next-in-cloudnativenewyear">What's up next in #CloudNativeNewYear?<a class="hash-link" href="#whats-up-next-in-cloudnativenewyear" title="Direct link to heading">‚Äã</a></h2><p>Week 1 has been all about the fundamentals of cloud-native. Next week, the team will be diving in to application deployment with Azure Kubernetes Service. Don't forget to <a href="https://azure.github.io/Cloud-Native/cnny-2023/rss.xml?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">subscribe</a> to the blog to get daily posts delivered directly to your favorite feed reader!</p><hr>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
        </item>
        <item>
            <title><![CDATA[1-4. Microservices 101]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/microservices-101</link>
            <guid>microservices-101</guid>
            <pubDate>Thu, 26 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[What are Microservices? Why are they a core pillar for Cloud-native and how does Kubernetes help in their deployment?]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Day 4 of Week 1</code> of #CloudNativeNewYear!</p><p>This week we'll focus on advanced topics and best practices for Cloud-Native practitioners, kicking off with this post on <em>Serverless Container Options</em> with Azure. We'll look at technologies, tools and best practices that range from managed services like Azure Kubernetes Service, to options allowing finer granularity of control and oversight.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>What is Microservice Architecture? </li><li>How do you design a Microservice? </li><li>What challenges do Microservices introduce?</li><li>Conclusion</li><li>Resources</li></ul><p><img loading="lazy" src="/Cloud-Native/assets/images/hero-banner-991129dffd470b38678db8972274c09a.png" width="3840" height="654" class="img_ev3q"></p><hr><p>Microservices are a modern way of designing and building software that increases deployment velocity by decomposing an application into small autonomous services that can be deployed independently. </p><p>By deploying loosely coupled microservices your applications can be developed, deployed, and scaled independently. Because each service is independent, it can be updated or replaced without having to worry about the impact on the rest of the application. This means that if a bug is found in one service, it can be fixed without having to redeploy the entire application. All of which gives an organization the ability to deliver value to their customers faster. </p><p>In this article, we will explore the basics of microservices architecture, its benefits and challenges, and how it can help improve the development, deployment, and maintenance of software applications. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-microservice-architecture">What is Microservice Architecture?<a class="hash-link" href="#what-is-microservice-architecture" title="Direct link to heading">‚Äã</a></h2><p>Before explaining what Microservice architecture is, it‚Äôs important to understand what problems microservices aim to address. </p><p>Traditional software development is centered around building monolithic applications. Monolithic applications are built as a single, large codebase. Meaning your code is tightly coupled causing the monolithic app to suffer from the following: </p><p><strong>Too much Complexity:</strong> Monolithic applications can become complex and difficult to understand and maintain as they grow. This can make it hard to identify and fix bugs and add new features. </p><p><strong>Difficult to Scale:</strong> Monolithic applications can be difficult to scale as they often have a single point of failure, which can cause the whole application to crash if a service fails. </p><p><strong>Slow Deployment:</strong> Deploying a monolithic application can be risky and time-consuming, as a small change in one part of the codebase can affect the entire application. </p><p>Microservice architecture (often called microservices) is an architecture style that addresses the challenges created by Monolithic applications. Microservices architecture is a way of designing and building software applications as a collection of small, independent services that communicate with each other through APIs. This allows for faster development and deployment cycles, as well as easier scaling and maintenance than is possible with a monolithic application. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-you-design-a-microservice">How do you design a Microservice?<a class="hash-link" href="#how-do-you-design-a-microservice" title="Direct link to heading">‚Äã</a></h2><p>Building applications with Microservices architecture requires a different approach. Microservices architecture focuses on business capabilities rather than technical layers, such as data access or messaging. Doing so requires that you shift your focus away from the technical stack and model your applications based upon the various domains that exist within the business. </p><p>Domain-driven design (DDD) is a way to design software by focusing on the business needs. You can use Domain-driven design as a framework that guides the development of well-designed microservices by building services that encapsulate knowledge in each domain and abstract that knowledge from clients. </p><p>In Domain-driven design you start by modeling the business domain and creating a domain model. A domain model is an abstract model of the business model that distills and organizes a domain of knowledge and provides a common language for developers and domain experts. It‚Äôs the resulting domain model that microservices a best suited to be built around because it helps establish a well-defined boundary between external systems and other internal applications. </p><p>In short, before you begin designing microservices, start by mapping the functions of the business and their connections to create a domain model for the microservice(s) to be built around. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-challenges-do-microservices-introduce">What challenges do Microservices introduce?<a class="hash-link" href="#what-challenges-do-microservices-introduce" title="Direct link to heading">‚Äã</a></h2><p>Microservices solve a lot of problems and have several advantages, but the grass isn‚Äôt always greener on the other side. </p><p>One of the key challenges of microservices is managing communication between services. Because services are independent, they need to communicate with each other through APIs. This can be complex and difficult to manage, especially as the number of services grows. To address this challenge, it is important to have a clear API design, with well-defined inputs and outputs for each service. It is also important to have a system for managing and monitoring communication between services, to ensure that everything is running smoothly.  </p><p>Another challenge of microservices is managing the deployment and scaling of services. Because each service is independent, it needs to be deployed and scaled separately from the rest of the application. This can be complex and difficult to manage, especially as the number of services grows. To address this challenge, it is important to have a clear and consistent deployment process, with well-defined steps for deploying and scaling each service. Furthermore, it is advisable to host them on a system with self-healing capabilities to reduce operational burden. </p><p>It is also important to have a system for monitoring and managing the deployment and scaling of services, to ensure optimal performance.  </p><p>Each of these challenges has created fertile ground for tooling and process that exists in the cloud-native ecosystem. Kubernetes, CI CD, and other DevOps practices are part of the package of adopting the microservices architecture. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>In summary, microservices architecture focuses on software applications as a collection of small, independent services that communicate with each other over well-defined APIs. </p><p>The main advantages of microservices include:</p><ul><li>increased flexibility and scalability per microservice, </li><li>efficient resource utilization (with help from a container orchestrator like Kubernetes), </li><li>and faster development cycles. </li></ul><p>Continue following along with this series to see how you can use Kubernetes to help adopt microservices patterns in your own environments!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://azure.microsoft.com/solutions/microservice-applications?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Microservice Applications</a></li><li><a href="https://learn.microsoft.com/azure/architecture/microservices?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Microservices architecture design - Azure Architecture Center | Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/azure/architecture/microservices/design?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Design a microservices architecture - Azure Architecture Center | Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/azure/architecture/microservices/model/domain-analysis?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Domain analysis for microservices - Azure Architecture Center | Microsoft Learn</a></li></ul>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
            <category>microservices</category>
        </item>
        <item>
            <title><![CDATA[1-3. Kubernetes 101]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/Kubernetes-101</link>
            <guid>Kubernetes-101</guid>
            <pubDate>Wed, 25 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[What is Kubernetes? And why is it so ubiquitous in Cloud-native solutions?]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Day 3 of Week 1</code> of #CloudNativeNewYear!</p><p>This week we'll focus on what Kubernetes is.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Introduction</li><li>What is Kubernetes? (Video)</li><li>How does Kubernetes Work? (Video)</li><li>Conclusion</li></ul><p><img loading="lazy" src="/Cloud-Native/assets/images/hero-banner-991129dffd470b38678db8972274c09a.png" width="3840" height="654" class="img_ev3q"></p><hr><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>REGISTER &amp; LEARN: KUBERNETES 101</div><div class="admonitionContent_S0QG"><p>Interested in a dive into Kubernetes and a chance to talk to experts? </p><p>üéô: Join us <strong>Jan 26 @1pm PST</strong>
<a href="https://info.microsoft.com/ww-landing-a-quickstart-guide-to-kubernetes-concepts.html?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">by registering here</a></p><p>Here's what you will learn:</p><ul><li>Key concepts and core principles of Kubernetes.</li><li>How to deploy, scale and manage containerized workloads.</li><li>Live Demo of the concepts explained</li><li>How to get started with Azure Kubernetes Service for free.</li></ul><p><strong>Start your free Azure Kubernetes Trial Today!!</strong>: <a href="https://aka.ms/TryAKS" target="_blank" rel="noopener noreferrer">aka.ms/TryAKS</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">‚Äã</a></h2><p>Kubernetes is an open source container orchestration engine that can help with automated deployment, scaling, and management of our applications.</p><p>Kubernetes takes physical (or virtual) resources and provides a consistent API over them, bringing a consistency to the management and runtime experience for our applications.  Kubernetes provides us with a number of capabilities such as:</p><ul><li>Container scheduling</li><li>Service discovery and load balancing</li><li>Storage orchestration</li><li>Automated rollouts and rollbacks</li><li>Automatic bin packing</li><li>Self-healing</li><li>Secret and configuration management</li></ul><p>We'll learn more about most of these topics as we progress through Cloud Native New Year.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-kubernetes">What is Kubernetes?<a class="hash-link" href="#what-is-kubernetes" title="Direct link to heading">‚Äã</a></h2><p>Let's hear from Brendan Burns, one of the founders of Kubernetes as to what Kubernetes actually is.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/q1PcAawa4Bg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-kubernetes-work">How does Kubernetes Work?<a class="hash-link" href="#how-does-kubernetes-work" title="Direct link to heading">‚Äã</a></h2><p>And Brendan shares a bit more with us about how Kubernetes works.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/daVUONZqn88" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>Kubernetes allows us to deploy and manage our applications effectively and consistently. </p><p>By providing a consistent API across many of the concerns our applications have, like load balancing, networking, storage, and compute, Kubernetes improves both our ability to build and ship new software. </p><p>There are standards for the applications to depend on for resources needed. Deployments, metrics, and logs are provided in a standardized fashion allowing more effecient operations across our application environments. </p><p>And since Kubernetes is an open source platform, it can be found in just about every type of operating environment - cloud, virtual machines, physical hardware, shared data centers, even small devices like Rasberry Pi's!</p><p>Want to learn more?  <a href="https://info.microsoft.com/ww-landing-a-quickstart-guide-to-kubernetes-concepts.html?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Join us for a webinar on Kubernetes Concepts (or catch the playback) on Thursday, January 26th at 1 PM PST</a> and watch for the rest of this series right here!</p>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
        </item>
        <item>
            <title><![CDATA[1-2. Containers 101]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/containers-101</link>
            <guid>containers-101</guid>
            <pubDate>Tue, 24 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Let's dive into the various technologies behind Cloud Native development, starting with Containers.]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Day 2 of Week 1</code> of #CloudNativeNewYear!</p><p>Today, we'll focus on building an understanding of containers.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Introduction</li><li>How do Containers Work?</li><li>Why are Containers Becoming so Popular?</li><li>Conclusion</li><li>Resources</li><li>Learning Path</li></ul><h2><img loading="lazy" src="/Cloud-Native/assets/images/hero-banner-991129dffd470b38678db8972274c09a.png" width="3840" height="654" class="img_ev3q"></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>REGISTER &amp; LEARN: KUBERNETES 101</div><div class="admonitionContent_S0QG"><p>Interested in a dive into Kubernetes and a chance to talk to experts? </p><p>üéô: Join us <strong>Jan 26 @1pm PST</strong>
<a href="https://info.microsoft.com/ww-landing-a-quickstart-guide-to-kubernetes-concepts.html?lcid=en-us" target="_blank" rel="noopener noreferrer">by registering here</a></p><p>Here's what you will learn:</p><ul><li>Key concepts and core principles of Kubernetes.</li><li>How to deploy, scale and manage containerized workloads.</li><li>Live Demo of the concepts explained</li><li>How to get started with Azure Kubernetes Service for free.</li></ul><p><strong>Start your free Azure Kubernetes Trial Today!!</strong>: <a href="https://aka.ms/TryAKS" target="_blank" rel="noopener noreferrer">aka.ms/TryAKS</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">‚Äã</a></h2><p>In the beginning, we deployed our applications onto physical servers.  We only had a certain number of those servers, so often they hosted multiple applications.  This led to some problems when those applications shared dependencies.  Upgrading one application could break another application on the same server.  </p><p>Enter virtualization.  Virtualization allowed us to run our applications in an isolated operating system instance.  This removed much of the risk of updating shared dependencies.  However, it increased our overhead since we had to run a full operating system for each application environment. </p><p>To address the challenges created by virtualization, containerization was created to improve isolation without duplicating kernel level resources. Containers provide efficient and consistent deployment and runtime experiences for our applications and have become very popular as a way of packaging and distributing applications. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-containers-work">How do Containers Work?<a class="hash-link" href="#how-do-containers-work" title="Direct link to heading">‚Äã</a></h2><p>Containers build on two capabilities in the Linux operating system, namespaces and cgroups.  These constructs allow the operating system to provide isolation to a process or group of processes, keeping their access to filesystem resources separate and providing controls on resource utilization.  This, combined with tooling to help package, deploy, and run container images has led to their popularity in today‚Äôs operating environment.  This provides us our isolation without the overhead of additional operating system resources. </p><p>When a container host is deployed on an operating system, it works at scheduling the access to the OS (operating systems) components. This is done by providing a logical isolated group that can contain processes for a given application, called a namespace. The container host then manages /schedules access from the namespace to the host OS.  The container host then uses cgroups to allocate compute resources. Together, the container host with the help of cgroups and namespaces can schedule multiple applications to access host OS resources.  </p><p>Overall, this gives the illusion of virtualizing the host OS, where each application gets its own OS. In actuality, all the applications are running on the same operating system and sharing the same kernel as the container host. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-containerization-so-popular">Why is Containerization so Popular?<a class="hash-link" href="#why-is-containerization-so-popular" title="Direct link to heading">‚Äã</a></h2><p>Containers are popular in the software development industry because they provide several benefits over traditional virtualization methods. Some of these benefits include: </p><ul><li><strong>Portability</strong>: Containers make it easy to move an application from one environment to another without having to worry about compatibility issues or missing dependencies. </li><li><strong>Isolation</strong>: Containers provide a level of isolation between the application and the host system, which means that the application running in the container cannot access the host system's resources. </li><li><strong>Scalability</strong>: Containers make it easy to scale an application up or down as needed, which is useful for applications that experience a lot of traffic or need to handle a lot of data. </li><li><strong>Resource Efficiency</strong>: Containers are more resource-efficient than traditional virtualization methods because they don't require a full operating system to be running on each virtual machine. </li><li><strong>Cost-Effective</strong>: Containers are more cost-effective than traditional virtualization methods because they don't require expensive hardware or licensing fees. </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>Containers are a powerful technology that allows developers to package and deploy applications in a portable and isolated environment. This technology is becoming increasingly popular in the world of software development and is being used by many companies and organizations to improve their application deployment and management processes. With the benefits of portability, isolation, scalability, resource efficiency, and cost-effectiveness, containers are definitely worth considering for your next application development project. </p><p>Containerizing applications is a key step in modernizing them, and there are many other patterns that can be adopted to achieve cloud-native architectures, including using serverless platforms, Kubernetes, and implementing DevOps practices. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://azure.microsoft.com/resources/cloud-computing-dictionary/what-is-a-container/?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">What are Containers</a> </li><li><a href="https://learn.microsoft.com/dotnet/architecture/microservices/container-docker-introduction/?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Containerizing .NET Applications</a> </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="learning-path">Learning Path<a class="hash-link" href="#learning-path" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://learn.microsoft.com/training/modules/intro-to-docker-containers/?WT.mc_id=containers-84290-stmuraws" target="_blank" rel="noopener noreferrer">Introduction to Docker Containers</a></li></ul>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
            <category>containers</category>
        </item>
        <item>
            <title><![CDATA[1-1. Cloud-native Fundamentals]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/cloud-native-fundamentals</link>
            <guid>cloud-native-fundamentals</guid>
            <pubDate>Mon, 23 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[The fundamentals of Cloud-native!]]></description>
            <content:encoded><![CDATA[<p>Welcome to <code>Week 1</code> of #CloudNativeNewYear!</p><p><img loading="lazy" alt="Cloud-native New Year" src="/Cloud-Native/assets/images/cnny-event-card-df287cbd24f042a3ac51e30b416f458d.png" width="1920" height="1080" class="img_ev3q"></p><p>You will often hear the term "cloud-native" when discussing modern application development, but even a quick online search will return a huge number of articles, tweets, and web pages with a variety of definitions. So, what does cloud-native actually mean? Also, what makes an application a <em>cloud-native application</em> versus a "regular" application? </p><p>Today, we will address these questions and more as we kickstart our learning journey (and our new year!) with an introductory dive into the wonderful world of cloud-native. </p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>What is cloud-native? </li><li>What is a cloud-native application?</li><li>The benefits of cloud-native</li><li>The five pillars of cloud-native </li><li><strong>Exercise</strong>: Take the <a href="https://aka.ms/CNNY/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a>!</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-what-is-cloud-native">1. What is cloud-native?<a class="hash-link" href="#1-what-is-cloud-native" title="Direct link to heading">‚Äã</a></h2><p>The term "cloud-native" can seem pretty self-evident (yes, hello, native to the cloud?), and in a way, it is.
While there are lots of definitions of cloud-native floating around, at it's core, cloud-native simply refers to a modern approach to building software that takes advantage of cloud services and environments. This includes using cloud-native technologies, such as containers, microservices, and serverless, and following best practices for deploying, scaling, and managing applications in a cloud environment.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><mdxadmonitiontitle><strong>Official definition</strong> from the <a href="https://www.cncf.io/" target="_blank" rel="noopener noreferrer">Cloud Native Computing Foundation</a>:</mdxadmonitiontitle></div><div class="admonitionContent_S0QG"><p><em>Cloud-native technologies empower organizations to build and run scalable applications in modern, dynamic environments such as public, private, and hybrid clouds. Containers, service meshes, microservices, immutable infrastructure, and declarative APIs exemplify this approach.</em></p><p><em>These techniques enable loosely coupled systems that are resilient, manageable, and observable. Combined with robust automation, they allow engineers to make high-impact changes frequently and predictably with minimal toil.</em> <a href="https://github.com/cncf/foundation/blob/main/charter.md" target="_blank" rel="noopener noreferrer">Source</a></p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-so-what-exactly-is-a-cloud-native-application">2. So, what exactly is a cloud-native application?<a class="hash-link" href="#2-so-what-exactly-is-a-cloud-native-application" title="Direct link to heading">‚Äã</a></h2><p> Cloud-native applications are <em>specifically</em> designed to take advantage of the scalability, resiliency, and distributed nature of modern cloud infrastructure.  But how does this differ from a "traditional" application?</p><p>Traditional applications are generally been built, tested, and deployed as a single, monolithic unit.  The monolithic nature of this type of architecture creates close dependencies between components.  This complexity and interweaving only increases as an application grows and can make it difficult to evolve (not to mention troubleshoot) and challenging to operate over time. </p><p>To contrast, in cloud-native architectures the application components are decomposed into loosely coupled services, rather than built and deployed as one block of code. This decomposition into multiple self-contained services enables teams to manage complexity and improve the speed, agility, and scale of software delivery. Many small parts enables teams to make targeted updates, deliver new features, and fix any issues without leading to broader service disruption. </p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-the-benefits-of-cloud-native">3. The benefits of cloud-native<a class="hash-link" href="#3-the-benefits-of-cloud-native" title="Direct link to heading">‚Äã</a></h2><p>Cloud-native architectures can bring many benefits to an organization, including: </p><ol><li><strong>Scalability:</strong> easily scale up or down based on demand, allowing organizations to adjust their resource usage and costs as needed.</li><li><strong>Flexibility:</strong> deploy and run on any cloud platform, and easily move between clouds and on-premises environments.</li><li><strong>High-availability:</strong> techniques such as redundancy, self-healing, and automatic failover help ensure that cloud-native applications are designed to be highly-available and fault tolerant.</li><li><strong>Reduced costs:</strong> take advantage of the pay-as-you-go model of cloud computing, reducing the need for expensive infrastructure investments.</li><li><strong>Improved security:</strong> tap in to cloud security features, such as encryption and identity management, to improve the security of the application.</li><li><strong>Increased agility:</strong> easily add new features or services to your applications to meet changing business needs and market demand.</li></ol><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-the-pillars-of-cloud-native">4. The pillars of cloud-native<a class="hash-link" href="#4-the-pillars-of-cloud-native" title="Direct link to heading">‚Äã</a></h2><p>There are five areas that are generally cited as the core building blocks of cloud-native architecture: </p><ol><li><a href="https://learn.microsoft.com/devops/deliver/what-are-microservices" target="_blank" rel="noopener noreferrer">Microservices</a>: Breaking down monolithic applications into smaller, independent, and loosely-coupled services that can be developed, deployed, and scaled independently.</li><li>Containers: Packaging software in lightweight, portable, and self-sufficient containers that can run consistently across different environments.</li><li>Automation: Using automation tools and DevOps processes to manage and operate the cloud-native infrastructure and applications, including deployment, scaling, monitoring, and self-healing.</li><li>Service discovery: Using service discovery mechanisms, such as APIs &amp; service meshes, to enable services to discover and communicate with each other.</li><li>Observability: Collecting and analyzing data from the infrastructure and applications to understand and optimize the performance, behavior, and health of the system.</li></ol><p>These can (and should!) be used in combination to deliver cloud-native solutions that are highly scalable, flexible, and available. </p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>WHAT'S NEXT</div><div class="admonitionContent_S0QG"><p>Stay tuned, as we will be diving deeper into these topics in the coming weeks:</p><ul><li><strong>Jan 24</strong>: Containers 101</li><li><strong>Jan 25</strong>: Adopting Microservices with Kubernetes</li><li><strong>Jan 26</strong>: Kubernetes 101</li><li><strong>Jan 27</strong>: Exploring your Cloud-native Options</li></ul></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><strong>Register</strong> for the <a href="https://aka.ms/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a> - 30 days to complete it!</li><li><strong>Resources</strong>: <a href="https://aka.ms/CNNY/collection" target="_blank" rel="noopener noreferrer">#30DaysOfCloudNative Collection</a></li><li><strong>eBook:</strong> <a href="https://azure.microsoft.com/resources/cloud-native-infrastructure-with-microsoft-azure/" target="_blank" rel="noopener noreferrer">Cloud Native Infrastructure with Azure</a></li></ul><hr><p>Don't forget to <a href="https://azure.github.io/Cloud-Native/cnny-2023/rss.xml?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">subscribe</a> to the blog to get daily posts delivered directly to your favorite feed reader!</p><hr>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
        </item>
        <item>
            <title><![CDATA[Kicking Off 30DaysOfCloudNative!]]></title>
            <link>https://azure.github.io/Cloud-Native/cnny-2023/cnny-kickoff</link>
            <guid>cnny-kickoff</guid>
            <pubDate>Sun, 22 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Let's  kick-off Cloud Native New Year with #30DaysOfCloudNative]]></description>
            <content:encoded><![CDATA[<p>Welcome to the <code>Kick-off Post</code> for #30DaysOfCloudNative - one of the core initiatives within #CloudNativeNewYear! Over the next four weeks, join us as we take you from fundamentals to functional usage of Cloud-native technologies, one blog post at a time! Read on to learn a little bit about this initiative and what you can expect to learn from this journey!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We'll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>What is Cloud-native New Year? (3 initiatives)</li><li>How can I <em>skill up</em> (30 days)</li><li>Who is behind this? (Team Contributors)</li><li><strong>Exercise</strong>: Take the <a href="https://aka.ms/CNNY/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a>!</li><li><strong>Resources</strong>: <a href="https://aka.ms/CNNY/collection" target="_blank" rel="noopener noreferrer">#30DaysOfCloudNative Collection</a>.</li></ul><hr><p><img loading="lazy" alt="Cloud-native New Year" src="/Cloud-Native/assets/images/cnny-event-card-df287cbd24f042a3ac51e30b416f458d.png" width="1920" height="1080" class="img_ev3q"></p><p>Welcome to <code>Week 01</code> of <a href="https://aka.ms/CNNY" target="_blank" rel="noopener noreferrer"> ü•≥ #CloudNativeNewYear </a>! Today, we kick off a full month of content and activities to skill you up on all things Cloud-native on Azure with content, events, and community interactions! Read on to learn about what we have planned!</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="explore-our-initiatives">Explore our initiatives<a class="hash-link" href="#explore-our-initiatives" title="Direct link to heading">‚Äã</a></h2><p>We have a number of initiatives planned for the month to help you learn and skill up on relevant technologies. Click on the links to visit the relevant pages for each. </p><ul><li><a href="/Cloud-Native/cnny-2023/">#30DaysOfCloudNative</a> - 4 themed weeks of daily articles in a structured roadmap</li><li><a href="https://aka.ms/CNNY/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a> - skill up by competing with peers to complete modules</li><li><a href="https://aka.ms/CNNY/ate" target="_blank" rel="noopener noreferrer">Ask The Expert</a> - join live Q&amp;A sessions with Product Engineering teams</li></ul><p>We'll go into more details about <strong>#30DaysOfCloudNative</strong> in this post - don't forget to <a href="https://azure.github.io/Cloud-Native/cnny-2023/rss.xml" target="_blank" rel="noopener noreferrer">subscribe</a> to the blog to get daily posts delivered directly to your preferred feed reader!</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="register-for-events">Register for events!<a class="hash-link" href="#register-for-events" title="Direct link to heading">‚Äã</a></h2><p>What are 3 things you can do today, to jumpstart your learning journey?</p><ul><li><strong>Register</strong> for live Q&amp;A sessions (free, online) <ul><li>Feb 9 - <a href="https://aka.ms/ATE0209/RSVP" target="_blank" rel="noopener noreferrer">Ask The Expert: Azure Kubernetes Service (PDT)</a></li><li>Feb 10 - <a href="https://aka.ms/ATE0209/APAC-RSVP" target="_blank" rel="noopener noreferrer">Ask the Expert: Azure Kubernetes Service (SGT)</a></li></ul></li><li><strong>Register</strong> for the <a href="https://aka.ms/Challenge" target="_blank" rel="noopener noreferrer">Cloud Skills Challenge</a> - 30 days to complete it!</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="30daysofcloudnative">#30DaysOfCloudNative<a class="hash-link" href="#30daysofcloudnative" title="Direct link to heading">‚Äã</a></h2><p><a href="https://azure.github.io/Cloud-Native/New-Year/" target="_blank" rel="noopener noreferrer">#30DaysOfCloudNative</a> is a month-long series of daily blog posts grouped into 4 themed weeks - taking you from core concepts to end-to-end solution examples in 30 days. Each article will be short (5-8 mins reading time) and provide exercises and resources to help you reinforce learnings and take next steps.</p><p>This series focuses on the <a href="https://azure.microsoft.com/solutions/cloud-native-apps/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Cloud-native On Azure</a> learning journey in <strong>four stages</strong>, each building on the previous week to help you skill up in a beginner-friendly way:</p><ul><li><strong>Week 1:</strong> Get started with <a href="https://azure.microsoft.com/solutions/cloud-native-apps/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Cloud-native Concepts</a> </li><li><strong>Week 2:</strong> Build &amp; deploy <a href="https://azure.microsoft.com/solutions/kubernetes-on-azure/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Kubernetes Apps on cloud</a>.</li><li><strong>Week 3:</strong> Migrate your applications to <a href="https://azure.microsoft.com/products/kubernetes-service/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Azure Kubernetes Service</a>.</li><li><strong>Week 4:</strong> Go from Code to Containers to Cloud with <a href="https://azure.microsoft.com/solutions/cloud-native-apps/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">Cloud-native solutions</a></li></ul><p><img loading="lazy" src="/Cloud-Native/assets/images/banner-a11b83bfb13e4ec7dfad48c200c24cf1.png" width="1600" height="672" class="img_ev3q"></p><p>We have a tentative weekly-themed roadmap for the topics we hope to cover and will keep this updated as we go with links to actual articles as they get published.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Week 1: FOCUS ON CLOUD-NATIVE FUNDAMENTALS</div><div class="admonitionContent_S0QG"><p>Here's a sneak peek at the week 1 schedule. We'll start with a broad review of cloud-native fundamentals and walkthrough the core concepts of microservices, containers and Kubernetes.</p><ul><li><strong>Jan 23</strong>: Learn Core Concepts for Cloud-native</li><li><strong>Jan 24</strong>: Container 101</li><li><strong>Jan 25</strong>: Adopting Microservices with Kubernetes</li><li><strong>Jan 26</strong>: Kubernetes 101</li><li><strong>Jan 27</strong>: Exploring your Cloud Native Options</li></ul></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lets-get-started">Let's Get Started!<a class="hash-link" href="#lets-get-started" title="Direct link to heading">‚Äã</a></h2><p>Now you know everything! We hope you are as excited as we are to dive into a full month of active learning and doing! Don't forget to <a href="https://azure.github.io/Cloud-Native/cnny-2023/rss.xml?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer">subscribe</a> for updates in your favorite feed reader! <strong>And look out for our first Cloud-native Fundamentals post on January 23rd!</strong></p><hr>]]></content:encoded>
            <category>cloud-native</category>
            <category>30daysofcloudnative</category>
            <category>zero-to-hero</category>
            <category>ask-the-expert</category>
            <category>azure-kubernetes-service</category>
        </item>
    </channel>
</rss>