"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[42613],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(n),m=r,g=p["".concat(l,".").concat(m)]||p[m]||c[m]||o;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},44504:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const o={slug:"aks-extensions-addons",title:"4-4. Azure Kubernetes Services Add-ons and Extensions",authors:["jorge"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["containers","aks","kubernetes","extensions","addons"],image:"https://azure.github.io/Cloud-Native/img/og/30-19.png",description:"In this article we are going to learn about the extensions and add-ons available to AKS - Azure Kubernetes Services",tags:["cloud-native","30daysofcloudnative","zero-to-hero","ask-the-expert","azure-kubernetes-service","containers","addons","extensions"]},i=void 0,s={permalink:"/Cloud-Native/cnny-2023/aks-extensions-addons",source:"@site/blog-cnny/2023-02-16/index.md",title:"4-4. Azure Kubernetes Services Add-ons and Extensions",description:"In this article we are going to learn about the extensions and add-ons available to AKS - Azure Kubernetes Services",date:"2023-02-16T00:00:00.000Z",formattedDate:"February 16, 2023",tags:[{label:"cloud-native",permalink:"/Cloud-Native/cnny-2023/tags/cloud-native"},{label:"30daysofcloudnative",permalink:"/Cloud-Native/cnny-2023/tags/30-daysofcloudnative"},{label:"zero-to-hero",permalink:"/Cloud-Native/cnny-2023/tags/zero-to-hero"},{label:"ask-the-expert",permalink:"/Cloud-Native/cnny-2023/tags/ask-the-expert"},{label:"azure-kubernetes-service",permalink:"/Cloud-Native/cnny-2023/tags/azure-kubernetes-service"},{label:"containers",permalink:"/Cloud-Native/cnny-2023/tags/containers"},{label:"addons",permalink:"/Cloud-Native/cnny-2023/tags/addons"},{label:"extensions",permalink:"/Cloud-Native/cnny-2023/tags/extensions"}],readingTime:3.38,hasTruncateMarker:!1,authors:[{name:"Jorge Arteiro",title:"Senior Cloud Advocate",url:"https://github.com/jorgearteiro",imageURL:"https://github.com/jorgearteiro.png",key:"jorge"}],frontMatter:{slug:"aks-extensions-addons",title:"4-4. Azure Kubernetes Services Add-ons and Extensions",authors:["jorge"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["containers","aks","kubernetes","extensions","addons"],image:"https://azure.github.io/Cloud-Native/img/og/30-19.png",description:"In this article we are going to learn about the extensions and add-ons available to AKS - Azure Kubernetes Services",tags:["cloud-native","30daysofcloudnative","zero-to-hero","ask-the-expert","azure-kubernetes-service","containers","addons","extensions"]},nextItem:{title:"4-3. Windows Containers",permalink:"/Cloud-Native/cnny-2023/windows-containers"}},l={authorsImageUrls:[void 0]},u=[{value:"What We&#39;ll Cover",id:"what-well-cover",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Add-ons",id:"add-ons",level:2},{value:"Extensions",id:"extensions",level:2},{value:"Add-ons vs Extensions",id:"add-ons-vs-extensions",level:2},{value:"Resources",id:"resources",level:2}],d={toc:u};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("head",null,(0,r.kt)("meta",{name:"twitter:url",content:"https://azure.github.io/Cloud-Native/cnny-2023/aks-extensions-addons"}),(0,r.kt)("meta",{name:"twitter:title",content:"Azure Kubernetes Services Add-ons and Extensions"}),(0,r.kt)("meta",{name:"twitter:description",content:"In this article we are going to learn about the extensions and addons available to AKS - Azure Kubernetes Services"}),(0,r.kt)("meta",{name:"twitter:image",content:"https://azure.github.io/Cloud-Native/img/og/30-19.png"}),(0,r.kt)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.kt)("meta",{name:"twitter:creator",content:"@jorgearteiro"}),(0,r.kt)("meta",{name:"twitter:site",content:"@AzureAdvocates"}),(0,r.kt)("link",{rel:"canonical",href:"https://azure.github.io/Cloud-Native/cnny-2023/aks-extensions-addons"})),(0,r.kt)("p",null,"Welcome to ",(0,r.kt)("inlineCode",{parentName:"p"},"Day 4 of Week 4")," of #CloudNativeNewYear!"),(0,r.kt)("p",null,"The theme for this week is going further with Cloud Native. Yesterday we talked about Windows Containers. Today we'll explore addons and extensions available to Azure Kubernetes Services (AKS)."),(0,r.kt)("h2",{id:"what-well-cover"},"What We'll Cover"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Introduction"),(0,r.kt)("li",{parentName:"ul"},"Add-ons"),(0,r.kt)("li",{parentName:"ul"},"Extensions"),(0,r.kt)("li",{parentName:"ul"},"Add-ons vs Extensions"),(0,r.kt)("li",{parentName:"ul"},"Resources")),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"Azure Kubernetes Service (AKS) is a fully managed container orchestration service that makes it easy to deploy and manage containerized applications on Azure. AKS offers a number of features and capabilities, including the ability to extend its supported functionality through the use of add-ons and extensions."),(0,r.kt)("p",null,"There are also integrations available from ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#open-source-and-third-party-integrations"},"open-source projects and third parties"),", but they are not covered by the ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/azure/aks/support-policies?WT.mc_id=containers-84290-joarteir"},"AKS support policy"),"."),(0,r.kt)("h2",{id:"add-ons"},"Add-ons"),(0,r.kt)("p",null,"Add-ons provide a supported way to extend AKS. Installation, configuration and lifecycle are managed by AKS following ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#add-ons"},"pre-determine updates rules"),"."),(0,r.kt)("p",null,"As an example, let's enable Container Insights with the monitoring addon. on an existing AKS cluster using ",(0,r.kt)("inlineCode",{parentName:"p"},"az aks enable-addons --addons")," CLI command  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-azurecli"},"az aks enable-addons \\\n  --name MyManagedCluster \\\n  --resource-group MyResourceGroup \\\n  --addons monitoring\n")),(0,r.kt)("p",null,"or you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"az aks create --enable-addons")," when creating new clusters"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-azurecli"},"az aks create \\\n  --name MyManagedCluster \\\n  --resource-group MyResourceGroup \\\n  --enable-addons monitoring\n")),(0,r.kt)("p",null,"The current available add-ons are:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"http_application_routing")," - Configure ingress with automatic public DNS name creation. Only recommended for development."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"monitoring")," - Container Insights monitoring."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"virtual-node")," - CNCF virtual nodes open source project."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"azure-policy")," - Azure Policy for AKS."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"ingress-appgw")," - Application Gateway Ingress Controller (AGIC)."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"open-service-mesh")," - CNCF Open Service Mesh project."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"azure-keyvault-secrets-provider")," - Azure Key Vault Secrets Provider for Secret Store CSI Driver."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"web_application_routing")," - Managed NGINX ingress Controller."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"keda")," - CNCF Event-driven autoscaling project.")),(0,r.kt)("p",null,"For more details, get the updated ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#available-add-ons"},"list of AKS Add-ons here")),(0,r.kt)("h2",{id:"extensions"},"Extensions"),(0,r.kt)("p",null,"Cluster Extensions uses Helm charts and integrates with Azure Resource Manager (ARM) to provide installation and lifecycle management of capabilities on top of AKS. "),(0,r.kt)("p",null,"Extensions can be auto upgraded using minor versions, but it requires extra management and configuration. Using Scope parameter, it can be installed on the whole cluster or per namespace."),(0,r.kt)("p",null,"AKS Extensions requires an Azure CLI extension to be installed. To add or update this CLI extension use the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-azurecli"},"az extension add --name k8s-extension\n")),(0,r.kt)("p",null,"and to update an existing extension"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-azurecli"},"az extension update --name k8s-extension\n")),(0,r.kt)("p",null,"There are only 3 available extensions:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Dapr")," - CNCF Dapr project."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Azure ML")," - Integrate Azure Machine Learning with AKS to train, inference and manage ML models."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Flux (GitOps)")," - CNCF Flux project integrated with AKS to enable cluster configuration and application deployment using GitOps.")),(0,r.kt)("p",null,"As an example, you can install Azure ML using the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-azurecli"},"az k8s-extension create \\\n  --name aml-compute --extension-type Microsoft.AzureML.Kubernetes \\\n  --scope cluster --cluster-name <clusterName> \\\n  --resource-group <resourceGroupName> \\\n  --cluster-type managedClusters \\\n  --configuration-settings enableInference=True allowInsecureConnections=True\n")),(0,r.kt)("p",null,"For more details, get the updated ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/azure/aks/cluster-extensions?tabs=azure-cli&WT.mc_id=containers-84290-joarteir#currently-available-extensions"},"list of AKS Extensions here")),(0,r.kt)("h2",{id:"add-ons-vs-extensions"},"Add-ons vs Extensions"),(0,r.kt)("p",null,"AKS Add-ons brings an advantage of been fully managed by AKS itself, and AKS Extensions are more flexible and configurable but requires extra level of management. "),(0,r.kt)("p",null,"Add-ons are part of the AKS resource provider in the Azure API, and AKS Extensions are a separate resource provider on the Azure API."),(0,r.kt)("h2",{id:"resources"},"Resources"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"It's not too late to sign up for and complete the ",(0,r.kt)("a",{parentName:"mdxAdmonitionTitle",href:"https://aka.ms/CNNY/Challenge"},"Cloud Skills Challenge"),"!")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir"},"Add-ons, Extensions, and other integrations with AKS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/azure/aks/integrations#available-add-ons?WT.mc_id=containers-84290-joarteir"},"Available Add-ons on AKS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/azure/aks/cluster-extensions?tabs=azure-cli&WT.mc_id=containers-84290-joarteir#currently-available-extensions"},"Available Extensions on AKS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#open-source-and-third-party-integrations"},"Open source and third-party integrations")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://dapr.io/"},"CNCF Dapr project")," "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fluxcd.io/"},"CNCF Flux project")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://keda.sh/"},"CNCF KEDA project"))))}c.isMDXComponent=!0}}]);