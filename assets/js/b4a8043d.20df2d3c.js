"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[27837],{95682:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var o=t(85893),i=t(11151);const a={slug:"zero2hero-aca-04",title:"\ud83d\ude80 | Journey to the Cloud With ACA",authors:["anthony"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["azure","functions","containerapps","serverless","concepts"],image:"./img/banner.png",description:"In this article, we discuss how Azure Container Apps is purpose-built to support Cloud-Native applications.",tags:["serverless-september","zero-to-hero","azure-functions","azure-container-apps","dapr"]},r=void 0,s={permalink:"/Cloud-Native/blog/zero2hero-aca-04",source:"@site/blog/zero-to-hero/2022-09-12-containerapps.md",title:"\ud83d\ude80 | Journey to the Cloud With ACA",description:"In this article, we discuss how Azure Container Apps is purpose-built to support Cloud-Native applications.",date:"2022-09-12T00:00:00.000Z",formattedDate:"September 12, 2022",tags:[{label:"serverless-september",permalink:"/Cloud-Native/blog/tags/serverless-september"},{label:"zero-to-hero",permalink:"/Cloud-Native/blog/tags/zero-to-hero"},{label:"azure-functions",permalink:"/Cloud-Native/blog/tags/azure-functions"},{label:"azure-container-apps",permalink:"/Cloud-Native/blog/tags/azure-container-apps"},{label:"dapr",permalink:"/Cloud-Native/blog/tags/dapr"}],readingTime:4.89,hasTruncateMarker:!1,authors:[{name:"Anthony Chu",title:"Principal Product Manager @Microsoft",url:"https://github.com/anthonychu",imageURL:"https://github.com/anthonychu.png",key:"anthony"}],frontMatter:{slug:"zero2hero-aca-04",title:"\ud83d\ude80 | Journey to the Cloud With ACA",authors:["anthony"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["azure","functions","containerapps","serverless","concepts"],image:"./img/banner.png",description:"In this article, we discuss how Azure Container Apps is purpose-built to support Cloud-Native applications.",tags:["serverless-september","zero-to-hero","azure-functions","azure-container-apps","dapr"]},unlisted:!1,prevItem:{title:"\ud83d\ude80 | Use Custom Handlers For Go",permalink:"/Cloud-Native/blog/zero2hero-func-03"},nextItem:{title:"11. Scaling Container Apps",permalink:"/Cloud-Native/blog/11-scaling-container-apps"}},l={image:t(65045).Z,authorsImageUrls:[void 0]},p=[{value:"What We&#39;ll Cover",id:"what-well-cover",level:2},{value:"Visual Studio",id:"visual-studio",level:2},{value:"Visual Studio Code",id:"visual-studio-code",level:2},{value:"Docker extension",id:"docker-extension",level:3},{value:"Azure Container Apps extension",id:"azure-container-apps-extension",level:3},{value:"Azure CLI",id:"azure-cli",level:2},{value:"CI/CD pipelines",id:"cicd-pipelines",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components},{Head:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a,{children:[(0,o.jsx)("meta",{name:"twitter:url",content:"https://azure.github.io/Cloud-Native/blog/zero2hero-aca-01"}),(0,o.jsx)("meta",{name:"twitter:title",content:"#ZeroToHero: Go Cloud-Native With Azure Container Apps"}),(0,o.jsx)("meta",{name:"twitter:description",content:"#ZeroToHero: Go Cloud-Native With Azure Container Apps"}),(0,o.jsx)("meta",{name:"twitter:image",content:"https://azure.github.io/Cloud-Native/img/banners/serverless-zero2hero.png"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{name:"twitter:creator",content:"@nitya"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@AzureAdvocates"}),(0,o.jsx)("link",{rel:"canonical",href:"https://techcommunity.microsoft.com/t5/apps-on-azure-blog/go-cloud-native-with-azure-container-apps/ba-p/3616407"})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Welcome to ",(0,o.jsx)(n.code,{children:"Day 12"})," of #30DaysOfServerless!"]}),"\n",(0,o.jsxs)(n.p,{children:["Today, we have a special set of posts from our ",(0,o.jsx)(n.a,{href:"/serverless-september/ZeroToHero",children:"Zero To Hero \ud83d\ude80"})," initiative, featuring blog posts authored by our Product Engineering teams for #ServerlessSeptember. ",(0,o.jsxs)(n.em,{children:["Posts were originally published on the ",(0,o.jsx)(n.a,{href:"https://techcommunity.microsoft.com/t5/apps-on-azure-blog/journey-to-the-cloud-with-azure-container-apps/ba-p/3622609?WT.mc_id=javascript-99907-cxa",children:"Apps on Azure"})," blog on Microsoft Tech Community."]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"what-well-cover",children:"What We'll Cover"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Using Visual Studio"}),"\n",(0,o.jsx)(n.li,{children:"Using Visual Studio Code: Docker, ACA extensions"}),"\n",(0,o.jsx)(n.li,{children:"Using Azure CLI"}),"\n",(0,o.jsx)(n.li,{children:"Using CI/CD Pipelines"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(35515).Z+"",width:"1600",height:"672"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Last week, ",(0,o.jsx)(n.a,{href:"https://techcommunity.microsoft.com/t5/user/viewprofilepage/user-id/296868?WT.mc_id=javascript-99907-cxa",children:"@kendallroden"})," wrote about ",(0,o.jsx)(n.a,{href:"https://techcommunity.microsoft.com/t5/apps-on-azure-blog/go-cloud-native-with-azure-container-apps/ba-p/3616407",children:"what it means to be Cloud-Native"})," and how Azure Container Apps provides a serverless containers platform for hosting all of your Cloud-Native applications. Today, we\u2019ll walk through a few ways to get your apps up and running on Azure Container Apps."]}),"\n",(0,o.jsx)(n.p,{children:"Depending on where you are in your Cloud-Native app development journey, you might choose to use different tools to deploy your apps."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u201cRight-click, publish\u201d"})," \u2013 Deploying an app directly from an IDE or code editor is often seen as a bad practice, but it\u2019s one of the quickest ways to test out an app in a cloud environment."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Command line interface"})," \u2013 CLIs are useful for deploying apps from a terminal. Commands can be run manually or in a script."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Continuous integration/deployment"})," \u2013 To deploy production apps, the recommended approach is to automate the process in a robust CI/CD pipeline."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Let's explore some of these options in more depth."}),"\n",(0,o.jsx)(n.h2,{id:"visual-studio",children:"Visual Studio"}),"\n",(0,o.jsx)(n.p,{children:"Visual Studio 2022 has built-in support for deploying .NET applications to Azure Container Apps. You can use the familiar publish dialog to provision Container Apps resources and deploy to them directly. This helps you prototype an app and see it run in Azure Container Apps with the least amount of effort."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Journey to the cloud with Azure Container Apps",src:t(79516).Z+"",width:"400",height:"306"})}),"\n",(0,o.jsx)(n.p,{children:"Once you\u2019re happy with the app and it\u2019s ready for production, Visual Studio allows you to push your code to GitHub and set up a GitHub Actions workflow to build and deploy your app every time you push changes. You can do this by checking a box."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Journey to the cloud with Azure Container Apps",src:t(54034).Z+"",width:"400",height:"281"})}),"\n",(0,o.jsx)(n.h2,{id:"visual-studio-code",children:"Visual Studio Code"}),"\n",(0,o.jsx)(n.p,{children:"There are a couple of valuable extensions that you\u2019ll want to install if you\u2019re working in VS Code."}),"\n",(0,o.jsx)(n.h3,{id:"docker-extension",children:"Docker extension"}),"\n",(0,o.jsx)(n.p,{children:"The Docker extension provides commands for building a container image for your app and pushing it to a container registry. It can even do this without requiring Docker Desktop on your local machine --- the \u201cBuild image in Azure\u201d command remotely builds and pushes a container image to Azure Container Registry."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Journey to the cloud with Azure Container Apps",src:t(12407).Z+"",width:"400",height:"170"})}),"\n",(0,o.jsx)(n.p,{children:"And if your app doesn\u2019t have a dockerfile, the extension will generate one for you."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Journey to the cloud with Azure Container Apps",src:t(61491).Z+"",width:"399",height:"54"})}),"\n",(0,o.jsx)(n.h3,{id:"azure-container-apps-extension",children:"Azure Container Apps extension"}),"\n",(0,o.jsx)(n.p,{children:"Once you\u2019ve built your container image and pushed it to a registry, the Azure Container Apps VS Code extension provides commands for creating a container app and deploying revisions using the image you\u2019ve built."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Journey to the cloud with Azure Container Apps",src:t(29559).Z+"",width:"399",height:"199"})}),"\n",(0,o.jsx)(n.h2,{id:"azure-cli",children:"Azure CLI"}),"\n",(0,o.jsx)(n.p,{children:"The Azure CLI can be used to manage pretty much anything in Azure. For Azure Container Apps, you\u2019ll find commands for creating, updating, and managing your Container Apps resources."}),"\n",(0,o.jsx)(n.p,{children:"Just like in VS Code, with a few commands in the Azure CLI, you can create your Azure resources, build and push your container image, and then deploy it to a container app."}),"\n",(0,o.jsx)(n.p,{children:"To make things as simple as possible, the Azure CLI also has an \u201caz containerapp up\u201d command. This single command takes care of everything that\u2019s needed to turn your source code from your local machine to a cloud-hosted application in Azure Container Apps."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"az containerapp up --name myapp --source ./src\n"})}),"\n",(0,o.jsx)(n.p,{children:"We saw earlier that Visual Studio can generate a GitHub Actions workflow to automatically build and deploy your app on every commit. \u201caz containerapp up\u201d can do this too. The following adds a workflow to a repo."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"az containerapp up --name myapp --repo https://github.com/myorg/myproject\n"})}),"\n",(0,o.jsx)(n.h2,{id:"cicd-pipelines",children:"CI/CD pipelines"}),"\n",(0,o.jsx)(n.p,{children:"When it\u2019s time to take your app to production, it\u2019s strongly recommended to set up a CI/CD pipeline to automatically and repeatably build, test, and deploy it. We\u2019ve already seen that tools such as Visual Studio and Azure CLI can automatically generate a workflow for GitHub Actions. You can set up a pipeline in Azure DevOps too. This is an example Azure DevOps pipeline."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"trigger:\n  branches:\n    include:\n    - main\n\npool:\n  vmImage: ubuntu-latest\n\nstages:\n\n- stage: Build\n\n  jobs:\n  - job: build\n    displayName: Build app\n\n    steps:\n    - task: Docker@2\n      inputs:\n        containerRegistry: 'myregistry'\n        repository: 'hello-aca'\n        command: 'buildAndPush'\n        Dockerfile: 'hello-container-apps/Dockerfile'\n        tags: '$(Build.BuildId)'\n\n- stage: Deploy\n\n  jobs:\n  - job: deploy\n    displayName: Deploy app\n\n    steps:\n    - task: AzureCLI@2\n      inputs:\n        azureSubscription: 'my-subscription(5361b9d6-46ea-43c3-a898-15f14afb0db6)'\n        scriptType: 'bash'\n        scriptLocation: 'inlineScript'\n        inlineScript: |\n          # automatically install Container Apps CLI extension\n          az config set extension.use_dynamic_install=yes_without_prompt\n\n          # ensure registry is configured in container app\n          az containerapp registry set \\\n            --name hello-aca \\\n            --resource-group mygroup \\\n            --server myregistry.azurecr.io \\\n            --identity system\n\n          # update container app\n          az containerapp update \\\n            --name hello-aca \\\n            --resource-group mygroup \\\n            --image myregistry.azurecr.io/hello-aca:$(Build.BuildId)\n"})}),"\n",(0,o.jsx)(n.p,{children:"Conclusion"}),"\n",(0,o.jsx)(n.p,{children:"In this article, we looked at a few ways to deploy your Cloud-Native applications to Azure Container Apps and how to decide which one to use based on where you are in your app\u2019s journey to the cloud."}),"\n",(0,o.jsxs)(n.p,{children:["To learn more, visit ",(0,o.jsx)(n.a,{href:"https://azure.microsoft.com/services/container-apps/?WT.mc_id=javascript-99907-cxa",children:"Azure Container Apps | Microsoft Azure"})," today!"]}),"\n",(0,o.jsxs)(n.admonition,{title:"ASK THE EXPERT: LIVE Q&A",type:"info",children:[(0,o.jsxs)(n.p,{children:["The Azure Container Apps team will answer questions live on ",(0,o.jsx)(n.strong,{children:"September 29"}),"."]}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://reactor.microsoft.com/reactor/events/17004/?WT.mc_id=javascript-99907-ninarasi",children:"Sign up to attend"})," for live Q&A with the team"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://github.com/Azure/Cloud-Native/issues/new?assignees=&labels=ask+the+expert&template=---ask-the-expert-.md&title=%5BAsk+The+Expert%5D++",children:"submit your questions"})," ahead of time, for prioritization."]}),"\n"]})]})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},65045:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/banner-89c6e86cfbf02935e85318d7a3d3b4ff.png"},29559:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/anthony-aca-extension-420d267387b72d29143f03f8833da305.png"},79516:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/anthony-create-new-3b4fb5406c400d538bab76fe7afe145f.png"},54034:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/anthony-deployment-type-7bdc05a874a9ccd029d95d29f291fa21.png"},12407:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/anthony-vscode-docker-6ea4d15571d8ece1448056dc390e467f.png"},61491:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/anthony-vscode-dockerfile-139bab8d59d5b6c201294b5bc8a24b5a.png"},35515:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/zero-to-hero-anthony-2bc58afc7d6bdff1e92a0c3b87ae02cc.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>r});var o=t(67294);const i={},a=o.createContext(i);function r(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);