"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8280],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(a),d=r,h=m["".concat(l,".").concat(d)]||m[d]||u[d]||o;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},60348:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const o={slug:"09-aca-fundamentals",title:"09. Hello, Azure Container Apps",authors:["nitya"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["azure","functions","serverless","concepts"],image:"./img/banner.png",description:"Kickstarting Week 2 of #30DaysOfServerless with an introduction to Azure Container Apps and core concepts relevant to building microservices-driven solutions",tags:["serverless-september","30-days-of-serverless","azure-container-apps","dapr","microservices"]},i=void 0,s={permalink:"/Cloud-Native/blog/09-aca-fundamentals",source:"@site/blog/2022-09-09/index.md",title:"09. Hello, Azure Container Apps",description:"Kickstarting Week 2 of #30DaysOfServerless with an introduction to Azure Container Apps and core concepts relevant to building microservices-driven solutions",date:"2022-09-09T00:00:00.000Z",formattedDate:"September 9, 2022",tags:[{label:"serverless-september",permalink:"/Cloud-Native/blog/tags/serverless-september"},{label:"30-days-of-serverless",permalink:"/Cloud-Native/blog/tags/30-days-of-serverless"},{label:"azure-container-apps",permalink:"/Cloud-Native/blog/tags/azure-container-apps"},{label:"dapr",permalink:"/Cloud-Native/blog/tags/dapr"},{label:"microservices",permalink:"/Cloud-Native/blog/tags/microservices"}],readingTime:11.7,hasTruncateMarker:!1,authors:[{name:"Nitya Narasimhan",title:"Senior Cloud Advocate, Illustrator",url:"https://github.com/nitya",imageURL:"https://github.com/nitya.png",key:"nitya"}],frontMatter:{slug:"09-aca-fundamentals",title:"09. Hello, Azure Container Apps",authors:["nitya"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["azure","functions","serverless","concepts"],image:"./img/banner.png",description:"Kickstarting Week 2 of #30DaysOfServerless with an introduction to Azure Container Apps and core concepts relevant to building microservices-driven solutions",tags:["serverless-september","30-days-of-serverless","azure-container-apps","dapr","microservices"]},prevItem:{title:"10. Microservices Communication",permalink:"/Cloud-Native/blog/microservices-10"},nextItem:{title:"08. Functions + Serverless On Azure",permalink:"/Cloud-Native/blog/08-functions-azure"}},l={image:a(22971).Z,authorsImageUrls:[void 0]},p=[{value:"What We&#39;ll Cover",id:"what-well-cover",level:2},{value:"The Week Ahead",id:"the-week-ahead",level:2},{value:"Azure Container Apps!",id:"azure-container-apps",level:2},{value:"Containerized App Defined",id:"containerized-app-defined",level:3},{value:"Cloud Native &amp; Microservices",id:"cloud-native--microservices",level:3},{value:"Hello, Azure Container Apps!",id:"hello-azure-container-apps",level:3},{value:"Deploy Your First ACA",id:"deploy-your-first-aca",level:2},{value:"Dev Options",id:"dev-options",level:3},{value:"1. Setup Resources",id:"1-setup-resources",level:3},{value:"2. Create Environment",id:"2-create-environment",level:3},{value:"3. Create Container App",id:"3-create-container-app",level:3},{value:"4. Verify Deployment",id:"4-verify-deployment",level:3},{value:"5. Clean Up Your Resources",id:"5-clean-up-your-resources",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Exercise",id:"exercise",level:2},{value:"Resources",id:"resources",level:2}],c={toc:p};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("head",null,(0,r.kt)("meta",{name:"twitter:url",content:"https://azure.github.io/Cloud-Native/blog/09-aca-fundamentals"}),(0,r.kt)("meta",{name:"twitter:title",content:"#30DaysOfServerless: Introduction to Container Apps Core Concepts"}),(0,r.kt)("meta",{name:"twitter:description",content:"#30DaysOfServerless: Introduction to Container Apps Core Concepts"}),(0,r.kt)("meta",{name:"twitter:image",content:"https://azure.github.io/Cloud-Native/assets/images/banner-2b8cf81d448cbb7f947a85dd71631b84.png"}),(0,r.kt)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.kt)("meta",{name:"twitter:creator",content:"@nitya"}),(0,r.kt)("meta",{name:"twitter:site",content:"@AzureAdvocates"}),(0,r.kt)("link",{rel:"canonical",href:"https://azure.github.io/Cloud-Native/blog/09-aca-fundamentals"})),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Welcome to ",(0,r.kt)("inlineCode",{parentName:"p"},"Day 9")," of #30DaysOfServerless!"),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"what-well-cover"},"What We'll Cover"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Week Ahead"),(0,r.kt)("li",{parentName:"ul"},"Hello, Container Apps!"),(0,r.kt)("li",{parentName:"ul"},"Quickstart: Build Your First ACA!"),(0,r.kt)("li",{parentName:"ul"},"Under The Hood: Core ACA Concepts"),(0,r.kt)("li",{parentName:"ul"},"Exercise: Try this yourself!"),(0,r.kt)("li",{parentName:"ul"},"Resources: For self-study!")),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(22971).Z,width:"1600",height:"672"})),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"the-week-ahead"},"The Week Ahead"),(0,r.kt)("p",null,"Welcome to Week 2 of #ServerlessSeptember, where we put the focus on ",(0,r.kt)("strong",{parentName:"p"},"Microservices")," and building Cloud Native applications that are optimized for ",(0,r.kt)("strong",{parentName:"p"},"serverless")," solutions on Azure. One week is not enough to do this complex topic justice so consider this a 7-part jumpstart to the longer journey."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Hello, Container Apps (ACA)")," - Learn about Azure Container Apps, a key service that helps you ",(0,r.kt)("em",{parentName:"li"},"run microservices and containerized apps on a serverless platform"),". Know the core concepts. (",(0,r.kt)("em",{parentName:"li"},"Tutorial 1: First ACA"),")"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Communication with Microservices")," - Dive deeper into two key concepts: ",(0,r.kt)("em",{parentName:"li"},"environments")," and ",(0,r.kt)("em",{parentName:"li"},"virtual networking"),". Learn how microservices communicate in ACA, and walkthrough an example. ",(0,r.kt)("em",{parentName:"li"},"(Tutorial 2: ACA with 3 Microservices)")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Scaling Your Container Apps")," - Learn about KEDA. Understand how to configure your ACA for auto-scaling with KEDA-supported triggers. Put this into action by walking through a tutorial. ",(0,r.kt)("em",{parentName:"li"},"(Tutorial 3: Configure Autoscaling"),")"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Hello, Distributed Application Runtime (Dapr)")," - Learn about Dapr and how its ",(0,r.kt)("em",{parentName:"li"},"Building Block APIs")," simplify microservices development with ACA. Know how the ",(0,r.kt)("em",{parentName:"li"},"sidecar pattern")," enables incremental adoption of Dapr APIs without requiring any Dapr code integration in app. (",(0,r.kt)("em",{parentName:"li"},"Tutorial 4: Setup & Explore Dapr"),")"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Building ACA with Dapr")," - See how Dapr works with ACA by building a Dapr-enabled Azure Container App. Walk through a .NET tutorial using Pub/Sub and State Management APIs in an enterprise scenario. (",(0,r.kt)("em",{parentName:"li"},"Tutorial 5: Build ACA with Dapr"),")"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Managing Secrets With Dapr")," - We'll look at the Secrets API (a key Building Block of Dapr) and learn how it simplifies management of sensitive information in ACA."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Microservices + Serverless On Azure")," - We recap Week 2 (",(0,r.kt)("em",{parentName:"li"},"Microservices"),") and set the stage for Week 3 ( ",(0,r.kt)("em",{parentName:"li"},"Integrations"),") of Serverless September. Plus, self-study resources including ACA development tutorials in different languages.")),(0,r.kt)("p",null,"Ready? Let's go!"),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"azure-container-apps"},"Azure Container Apps!"),(0,r.kt)("p",null,"When building your application, your first decision is about ",(0,r.kt)("em",{parentName:"p"},"where you host your application"),". The ",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/azure/architecture/guide/technology-choices/compute-decision-tree?WT.mc_id=javascript-74010-ninarasi"},"Azure Architecture Center has a handy chart")," to help you decide between choices like Azure Functions, Azure App Service, Azure Container Instances, Azure Container Apps and more. But if you are new to this space, you'll need a good understanding of the terms and concepts behind the services Today, we'll focus on ",(0,r.kt)("em",{parentName:"p"},"Azure Container Apps")," (ACA) - so let's start with the fundamentals."),(0,r.kt)("h3",{id:"containerized-app-defined"},"Containerized App Defined"),(0,r.kt)("p",null,"A containerized app is one where the application components, dependencies, and configuration, are packaged into a single file (",(0,r.kt)("strong",{parentName:"p"},"container image"),"), which can be instantiated in an isolated runtime environment (",(0,r.kt)("strong",{parentName:"p"},"container"),") that is portable across hosts (OS). This makes containers lightweight and scalable - and ensures that applications behave consistently on different host platforms."),(0,r.kt)("p",null,"Container images can be shared via  ",(0,r.kt)("strong",{parentName:"p"},"container registries")," (public or private) helping developers discover and deploy related apps with less effort. ",(0,r.kt)("strong",{parentName:"p"},"Scaling")," a containerized app can be as simple as activating more instances of its container image. However, this requires ",(0,r.kt)("strong",{parentName:"p"},"container orchestrators")," to automate the management of container apps for efficiency. Orchestrators use technologies like Kubernetes to support capabilities like ",(0,r.kt)("em",{parentName:"p"},"workload scheduling, self-healing and auto-scaling on demand"),"."),(0,r.kt)("h3",{id:"cloud-native--microservices"},"Cloud Native & Microservices"),(0,r.kt)("p",null,"Containers are seen as one of the ",(0,r.kt)("a",{parentName:"p",href:"https://techcommunity.microsoft.com/t5/apps-on-azure-blog/go-cloud-native-with-azure-container-apps/ba-p/3616407?WT.mc_id=javascript-74010-cxa"},"5 pillars of Cloud Native app development"),", an approach where applications are designed explicitly to take advantage of the unique benefits of modern dynamic environments (involving public, private and hybrid clouds). Containers are particularly suited to ",(0,r.kt)("strong",{parentName:"p"},"serverless solutions based on microservices"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"With serverless")," - developers use ",(0,r.kt)("strong",{parentName:"li"},"managed services")," instead of managing their own infrastructure. Services are typically event-driven and can be configured for autoscaling with rules tied to event triggers. Serverless is cost-effective, with developers paying only for the compute cycles and resources they use."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"With microservices")," - developers ",(0,r.kt)("strong",{parentName:"li"},"compose their applications from independent components"),". Each component can be deployed in its own container, and scaled at that granularity. This simplifies component reuse (across apps) and maintainability (over time) - with developers evolving functionality at microservice (vs. app) levels.")),(0,r.kt)("h3",{id:"hello-azure-container-apps"},"Hello, Azure Container Apps!"),(0,r.kt)("p",null,"Azure Container Apps is the managed service that helps you run containerized apps and microservices as a serverless compute solution, on Azure. You can:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"deploy serverless API endpoints")," - autoscaled by HTTP request traffic"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"host background processing apps")," - autoscaled by CPU or memory load"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"handle event-driven processing")," - autoscaled by #messages in queue"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"run microservices")," - autoscaled by any KEDA-supported scaler.")),(0,r.kt)("p",null,"Want a quick intro to the topic? Start by watching the short video below - then read these two posts from our ",(0,r.kt)("em",{parentName:"p"},"ZeroToHero")," series:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://techcommunity.microsoft.com/t5/apps-on-azure-blog/go-cloud-native-with-azure-container-apps/ba-p/3616407?WT.mc_id=javascript-74010-cxa"},"Go cloud native with Azure Container Apps")," - also see ",(0,r.kt)("a",{parentName:"li",href:"http://localhost:3000/Cloud-Native/assets/images/Go-Cloud-Native-f6ac3225c3d9741a1fbff81030f7f830.png"},"the illustrated guide")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://techcommunity.microsoft.com/t5/apps-on-azure-blog/journey-to-the-cloud-with-azure-container-apps/ba-p/3622609?WT.mc_id=javascript-74010-cxa"},"Journey to the cloud with Azure Container Apps")," - for developer tooling options.")),(0,r.kt)("iframe",{width:"600",height:"400",src:"https://www.youtube.com/embed/b3dopSTnSRg",title:"How to Build and Deliver Apps Fast and Scalable with Azure Container Apps",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"deploy-your-first-aca"},"Deploy Your First ACA"),(0,r.kt)("h3",{id:"dev-options"},"Dev Options"),(0,r.kt)("p",null,"We typically have ",(0,r.kt)("strong",{parentName:"p"},"three options")," for development:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use the ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/get-started-existing-container-image-portal?pivots=container-apps-private-registry"},"Azure Portal")," - provision and deploy from a browser."),(0,r.kt)("li",{parentName:"ul"},"Use ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/deploy-visual-studio-code"},"Visual Studio Code")," (with relevant extensions) - if you prefer an IDE"),(0,r.kt)("li",{parentName:"ul"},"Using ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/get-started-existing-container-image?tabs=bash&pivots=container-apps-private-registry"},"Azure CLI")," - if you prefer to build and deploy from command line.")),(0,r.kt)("p",null,"The documentation site has quickstarts for three contexts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/quickstart-portal"},"using a sample container image")," - pre-existing example on Azure for convenience"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/get-started-existing-container-image-portal?pivots=container-apps-private-registry"},"using a custom container image")," - to understand container registry usage"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/quickstart-code-to-cloud?tabs=bash%2Ccsharp&pivots=acr-remote"},"using code on your local machine")," - to start from source repo")),(0,r.kt)("p",null,"For this quickstart, we'll go with the first option (sample image) so we can move quickly to core concepts. We'll leave the others as an exercise for you to explore."),(0,r.kt)("h3",{id:"1-setup-resources"},"1. Setup Resources"),(0,r.kt)("admonition",{title:"PRE-REQUISITES",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You need:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"An Azure account with an active subscription"),(0,r.kt)("li",{parentName:"ul"},"An installed ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/cli/azure/install-azure-cli"},"Azure CLI")))),(0,r.kt)("p",null,"Start by logging into Azure from the CLI. The command should launch a browser to complete the auth flow (or give you an option to take an alternative path)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ az login\n")),(0,r.kt)("p",null,"Successful authentication will result in extensive command-line output detailing the status of your subscription. "),(0,r.kt)("p",null,"Next, install the Azure Container Apps extension for the CLI"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ az extension add --name containerapp --upgrade\n...\nThe installed extension 'containerapp' is in preview.\n")),(0,r.kt)("p",null,"Once successfully installed, register the ",(0,r.kt)("inlineCode",{parentName:"p"},"Microsoft.App")," namespace."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ az provider register --namespace Microsoft.App\n")),(0,r.kt)("p",null,"Then set local ",(0,r.kt)("em",{parentName:"p"},"environment variables")," in that terminal - and verify they are set correctly:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ RESOURCE_GROUP="my-container-apps"\n$ LOCATION="canadacentral"\n$ CONTAINERAPPS_ENVIRONMENT="my-environment"\n\n$ echo $LOCATION $RESOURCE_GROUP $CONTAINERAPPS_ENVIRONMENT\ncanadacentral my-container-apps my-environment\n')),(0,r.kt)("p",null,"Now you can use Azure CLI to provision a ",(0,r.kt)("em",{parentName:"p"},"resource group")," for this tutorial. Creating a resource group also makes it easier for us to delete/reclaim all resources used at the end of this tutorial."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"az group create \\\n  --name $RESOURCE_GROUP \\\n  --location $LOCATION\n")),(0,r.kt)("admonition",{title:"Congratulations",type:"success"},(0,r.kt)("p",{parentName:"admonition"},"You completed the Setup step!"),(0,r.kt)("p",{parentName:"admonition"},"On completion, the console should print out the details of the newly created resource group. You should also be able to visit the Azure Portal and find the newly-active ",(0,r.kt)("inlineCode",{parentName:"p"},"my-container-apps")," resource group under your active subscription.")),(0,r.kt)("h3",{id:"2-create-environment"},"2. Create Environment"),(0,r.kt)("p",null,"An environment is like the picket fence around your property. It creates a ",(0,r.kt)("em",{parentName:"p"},"secure boundary")," that contains a group of container apps - such that all apps deployed to it share the same virtual network and logging resources."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ az containerapp env create \\\n  --name $CONTAINERAPPS_ENVIRONMENT \\\n  --resource-group $RESOURCE_GROUP \\\n  --location $LOCATION\n\nNo Log Analytics workspace provided.\nGenerating a Log Analytics workspace with name ...\n")),(0,r.kt)("p",null,"This can take a few minutes. When done, you will see the terminal display more details. You can also check the resource group in the portal and see that a ",(0,r.kt)("em",{parentName:"p"},"Container Apps Environment")," and a ",(0,r.kt)("em",{parentName:"p"},"Log Analytics Workspace")," are created for you as part of this step."),(0,r.kt)("p",null,"You've got the fence set up. Now it's time to build your home - er, container app!"),(0,r.kt)("h3",{id:"3-create-container-app"},"3. Create Container App"),(0,r.kt)("p",null,"Here's the command we'll use to create our first Azure Container App. Note that the ",(0,r.kt)("inlineCode",{parentName:"p"},"--image")," argument provides the link to a pre-existing ",(0,r.kt)("inlineCode",{parentName:"p"},"containerapps-helloworld")," image. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"az containerapp create \\\n  --name my-container-app \\\n  --resource-group $RESOURCE_GROUP \\\n  --environment $CONTAINERAPPS_ENVIRONMENT \\\n  --image mcr.microsoft.com/azuredocs/containerapps-helloworld:latest \\\n  --target-port 80 \\\n  --ingress 'external' \\\n  --query properties.configuration.ingress.fqdn\n...\n...\n\nContainer app created. Access your app at <URL>\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"--ingress")," property shows that the app is open to ",(0,r.kt)("em",{parentName:"p"},"external")," requests; in other words, it is publicly visible at the ",(0,r.kt)("inlineCode",{parentName:"p"},"<URL>")," that is printed out on the terminal on successsful completion of this step."),(0,r.kt)("h3",{id:"4-verify-deployment"},"4. Verify Deployment"),(0,r.kt)("p",null,"Let's see if this works. You can verify that your container app by visitng the URL returned above in your browser. You should see something like this!"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Container App Hello World",src:a(63530).Z,width:"613",height:"429"})),(0,r.kt)("p",null,"You can also visit the Azure Portal and look under the created Resource Group. You should see a new ",(0,r.kt)("inlineCode",{parentName:"p"},"Container App")," type of resource was created after this step."),(0,r.kt)("admonition",{title:"Congratulations",type:"success"},(0,r.kt)("p",{parentName:"admonition"},'You just created and deployed your first "Hello World" Azure Container App! This validates your local development environment setup and existence of a valid Azure subscription.')),(0,r.kt)("h3",{id:"5-clean-up-your-resources"},"5. Clean Up Your Resources"),(0,r.kt)("p",null,"It's good practice to clean up resources once you are done with a tutorial. "),(0,r.kt)("admonition",{title:"THIS ACTION IS IRREVERSIBLE",type:"warning"},(0,r.kt)("p",{parentName:"admonition"}," This command deletes the resource group we created above - and all resources in it. So make sure you specified the right name, then confirm deletion.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ az group delete --name $RESOURCE_GROUP\nAre you sure you want to perform this operation? (y/n): \n")),(0,r.kt)("p",null,"Note that you can also delete the resource group from the Azure Portal interface if that feels more comfortable. For now, we'll just use the Portal to verify that deletion occurred. If you had previously opened the Resource Group page for the created resource, just refresh it. You should see something like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Resource Not Found",src:a(62872).Z,width:"438",height:"216"})),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"core-concepts"},"Core Concepts"),(0,r.kt)("admonition",{title:"COMING SOON",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"An illustrated guide summarizing these concepts in a single sketchnote.")),(0,r.kt)("p",null,"We covered a lot today - we'll stop with a quick overview of core concepts behind Azure Container Apps, each linked to documentation for self-study. We'll dive into more details on ",(0,r.kt)("em",{parentName:"p"},"some")," of these concepts in upcoming articles:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/environment"},"Environments")," - are the ",(0,r.kt)("em",{parentName:"li"},"secure boundary")," around a group of container apps that are deployed in the same virtual network. They write logs to a shared Log Analytics workspace and can communicate seamlessly using Dapr, if used."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/containers"},"Containers")," refer to the ",(0,r.kt)("em",{parentName:"li"},"container image")," deployed in the Azure Container App. They can use any runtime, programming language, or development stack - and be discovered using any public or private container registry. A container app can support multiple containers."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/revisions"},"Revisions")," are ",(0,r.kt)("em",{parentName:"li"},"immutable")," snapshots of an Azure Container App. The first revision is created when the ACA is first deployed, with new revisions created when redeployment occurs with ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/revisions#revision-scope-changes"},"revision-scope changes"),". Multiple revisions can run concurrently in an environment."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/application-lifecycle-management"},"Application Lifecycle Management")," revolves around these revisions, with a container app having three phases: ",(0,r.kt)("em",{parentName:"li"},"deployment"),", ",(0,r.kt)("em",{parentName:"li"},"update")," and ",(0,r.kt)("em",{parentName:"li"},"deactivation"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/microservices"},"Microservices")," are independent units of functionality in cloud native architectures. ",(0,r.kt)("em",{parentName:"li"},"A single container app typically represents a single microservice"),", and can be composed from one or more containers. Microservices can now be scaled and upgraded indepedently, giving your application more flexbility and control."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/networking"},"Networking")," architecture consist of a virtual network (VNET) associated with the environment. Unless you provide a custom VNET at environment creation time, a default VNET is automatically created. The VNET configuration determines access (ingress, internal vs. external) and can influence auto-scaling choices (e.g., use HTTP Edge Proxy and scale based on number of HTTP requests)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/observability"},"Observability")," is about monitoring the health of your application and diagnosing it to improve reliability or performance. Azure Container Apps has a number of features - from Log streaming and Container console to integration with Azure Monitor - to provide a holistic view of application status over time."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/authentication"},"Easy Auth")," is possible with built-in support for authentication and authorization including support for popular identity providers like Facebook, Google, Twitter and GitHub - alongside the Microsoft Identity Platform.")),(0,r.kt)("p",null,"Keep these terms in mind as we walk through more tutorials this week, to see how they find application in real examples. Finally, a note on Dapr, the ",(0,r.kt)("a",{parentName:"p",href:"http://dapr.io"},"Distributed Application Runtime")," that abstracts away many of the challenges posed by distributed systems - and lets you focus on your application logic."),(0,r.kt)("admonition",{title:"DAPR INTEGRATION MADE EASY",type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/azure/container-apps/dapr-overview?tabs=bicep1%2Cyaml"},"Dapr")," uses a sidecar architecture, allowing Azure Container Apps to communicate with Dapr Building Block APIs over either gRPC or HTTP. Your ACA can be built to run with or without Dapr - giving you the flexibility to ",(0,r.kt)("em",{parentName:"p"},"incrementally adopt")," specific APIs and unlock related capabilities as the need arises.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://docs.dapr.io/images/overview-sidecar-model.png",alt:null})),(0,r.kt)("p",null,"In later articles this week, we'll do a deeper dive into Dapr and build our first Dapr-enable Azure Container App to get a better understanding of this integration."),(0,r.kt)("h2",{id:"exercise"},"Exercise"),(0,r.kt)("p",null,"Congratulations! You made it! By now you should have a good idea of what Cloud Native development means, why Microservices and Containers are important to that vision - and how Azure Container Apps helps simplify the building and deployment of ",(0,r.kt)("em",{parentName:"p"},"microservices based applications")," using ",(0,r.kt)("em",{parentName:"p"},"serverless architectures")," on Azure."),(0,r.kt)("p",null,"Now it's your turn to reinforce learning by doing."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Try walking through this quickstart yourself, but ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/quickstart-portal"},"using the Azure Portal")," option."),(0,r.kt)("li",{parentName:"ul"},"Then try a ",(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/deploy-visual-studio-code"},"custom container image")," option using Visual Studio Code, and validate your IDE-based setup for future tutorials.")),(0,r.kt)("h2",{id:"resources"},"Resources"),(0,r.kt)("p",null,"Three key resources to bookmark and explore:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/"},"Azure Container Apps")," - documentation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.dapr.io/"},"Distributed Application Runtime (Dapr)")," - documentation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/azure/container-apps/samples"},"Azure Container Apps")," - samples for exploration")))}u.isMDXComponent=!0},22971:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/banner-2b8cf81d448cbb7f947a85dd71631b84.png"},63530:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/container-app-1a029ba3f5cdc98611115e803e2b3faf.png"},62872:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/resource-not-found-110bd93de87498c4c7a70722f1ee7c01.png"}}]);