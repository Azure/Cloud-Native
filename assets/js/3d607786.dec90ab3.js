"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[42613],{75423:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var s=t(85893),r=t(11151);const i={slug:"aks-extensions-addons",title:"4-4. Azure Kubernetes Services Add-ons and Extensions",authors:["jorge"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["containers","aks","kubernetes","extensions","addons"],image:"https://azure.github.io/Cloud-Native/img/og/30-19.png",description:"In this article we are going to learn about the extensions and add-ons available to AKS - Azure Kubernetes Services",tags:["cloud-native","30daysofcloudnative","zero-to-hero","ask-the-expert","azure-kubernetes-service","containers","addons","extensions"]},a=void 0,o={permalink:"/Cloud-Native/cnny-2023/aks-extensions-addons",source:"@site/blog-cnny/2023-02-16/index.md",title:"4-4. Azure Kubernetes Services Add-ons and Extensions",description:"In this article we are going to learn about the extensions and add-ons available to AKS - Azure Kubernetes Services",date:"2023-02-16T00:00:00.000Z",formattedDate:"February 16, 2023",tags:[{label:"cloud-native",permalink:"/Cloud-Native/cnny-2023/tags/cloud-native"},{label:"30daysofcloudnative",permalink:"/Cloud-Native/cnny-2023/tags/30-daysofcloudnative"},{label:"zero-to-hero",permalink:"/Cloud-Native/cnny-2023/tags/zero-to-hero"},{label:"ask-the-expert",permalink:"/Cloud-Native/cnny-2023/tags/ask-the-expert"},{label:"azure-kubernetes-service",permalink:"/Cloud-Native/cnny-2023/tags/azure-kubernetes-service"},{label:"containers",permalink:"/Cloud-Native/cnny-2023/tags/containers"},{label:"addons",permalink:"/Cloud-Native/cnny-2023/tags/addons"},{label:"extensions",permalink:"/Cloud-Native/cnny-2023/tags/extensions"}],readingTime:3.38,hasTruncateMarker:!1,authors:[{name:"Jorge Arteiro",title:"Senior Cloud Advocate",url:"https://github.com/jorgearteiro",imageURL:"https://github.com/jorgearteiro.png",key:"jorge"}],frontMatter:{slug:"aks-extensions-addons",title:"4-4. Azure Kubernetes Services Add-ons and Extensions",authors:["jorge"],draft:!1,hide_table_of_contents:!1,toc_min_heading_level:2,toc_max_heading_level:3,keywords:["containers","aks","kubernetes","extensions","addons"],image:"https://azure.github.io/Cloud-Native/img/og/30-19.png",description:"In this article we are going to learn about the extensions and add-ons available to AKS - Azure Kubernetes Services",tags:["cloud-native","30daysofcloudnative","zero-to-hero","ask-the-expert","azure-kubernetes-service","containers","addons","extensions"]},unlisted:!1,prevItem:{title:"4-3. Windows Containers",permalink:"/Cloud-Native/cnny-2023/windows-containers"},nextItem:{title:"4-5. Cloud Native New Year Wrap Up",permalink:"/Cloud-Native/cnny-2023/cnny-wrap-up"}},l={authorsImageUrls:[void 0]},d=[{value:"What We&#39;ll Cover",id:"what-well-cover",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Add-ons",id:"add-ons",level:2},{value:"Extensions",id:"extensions",level:2},{value:"Add-ons vs Extensions",id:"add-ons-vs-extensions",level:2},{value:"Resources",id:"resources",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components},{Head:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t,{children:[(0,s.jsx)("meta",{name:"twitter:url",content:"https://azure.github.io/Cloud-Native/cnny-2023/aks-extensions-addons"}),(0,s.jsx)("meta",{name:"twitter:title",content:"Azure Kubernetes Services Add-ons and Extensions"}),(0,s.jsx)("meta",{name:"twitter:description",content:"In this article we are going to learn about the extensions and addons available to AKS - Azure Kubernetes Services"}),(0,s.jsx)("meta",{name:"twitter:image",content:"https://azure.github.io/Cloud-Native/img/og/30-19.png"}),(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,s.jsx)("meta",{name:"twitter:creator",content:"@jorgearteiro"}),(0,s.jsx)("meta",{name:"twitter:site",content:"@AzureAdvocates"}),(0,s.jsx)("link",{rel:"canonical",href:"https://azure.github.io/Cloud-Native/cnny-2023/aks-extensions-addons"})]}),"\n",(0,s.jsxs)(n.p,{children:["Welcome to ",(0,s.jsx)(n.code,{children:"Day 4 of Week 4"})," of #CloudNativeNewYear!"]}),"\n",(0,s.jsx)(n.p,{children:"The theme for this week is going further with Cloud Native. Yesterday we talked about Windows Containers. Today we'll explore addons and extensions available to Azure Kubernetes Services (AKS)."}),"\n",(0,s.jsx)(n.h2,{id:"what-well-cover",children:"What We'll Cover"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Introduction"}),"\n",(0,s.jsx)(n.li,{children:"Add-ons"}),"\n",(0,s.jsx)(n.li,{children:"Extensions"}),"\n",(0,s.jsx)(n.li,{children:"Add-ons vs Extensions"}),"\n",(0,s.jsx)(n.li,{children:"Resources"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"Azure Kubernetes Service (AKS) is a fully managed container orchestration service that makes it easy to deploy and manage containerized applications on Azure. AKS offers a number of features and capabilities, including the ability to extend its supported functionality through the use of add-ons and extensions."}),"\n",(0,s.jsxs)(n.p,{children:["There are also integrations available from ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#open-source-and-third-party-integrations",children:"open-source projects and third parties"}),", but they are not covered by the ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/support-policies?WT.mc_id=containers-84290-joarteir",children:"AKS support policy"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"add-ons",children:"Add-ons"}),"\n",(0,s.jsxs)(n.p,{children:["Add-ons provide a supported way to extend AKS. Installation, configuration and lifecycle are managed by AKS following ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#add-ons",children:"pre-determine updates rules"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["As an example, let's enable Container Insights with the monitoring addon. on an existing AKS cluster using ",(0,s.jsx)(n.code,{children:"az aks enable-addons --addons"})," CLI command"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-azurecli",children:"az aks enable-addons \\\n  --name MyManagedCluster \\\n  --resource-group MyResourceGroup \\\n  --addons monitoring\n"})}),"\n",(0,s.jsxs)(n.p,{children:["or you can use ",(0,s.jsx)(n.code,{children:"az aks create --enable-addons"})," when creating new clusters"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-azurecli",children:"az aks create \\\n  --name MyManagedCluster \\\n  --resource-group MyResourceGroup \\\n  --enable-addons monitoring\n"})}),"\n",(0,s.jsx)(n.p,{children:"The current available add-ons are:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"http_application_routing"})," - Configure ingress with automatic public DNS name creation. Only recommended for development."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"monitoring"})," - Container Insights monitoring."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"virtual-node"})," - CNCF virtual nodes open source project."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"azure-policy"})," - Azure Policy for AKS."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ingress-appgw"})," - Application Gateway Ingress Controller (AGIC)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"open-service-mesh"})," - CNCF Open Service Mesh project."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"azure-keyvault-secrets-provider"})," - Azure Key Vault Secrets Provider for Secret Store CSI Driver."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"web_application_routing"})," - Managed NGINX ingress Controller."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"keda"})," - CNCF Event-driven autoscaling project."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For more details, get the updated ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#available-add-ons",children:"list of AKS Add-ons here"})]}),"\n",(0,s.jsx)(n.h2,{id:"extensions",children:"Extensions"}),"\n",(0,s.jsx)(n.p,{children:"Cluster Extensions uses Helm charts and integrates with Azure Resource Manager (ARM) to provide installation and lifecycle management of capabilities on top of AKS."}),"\n",(0,s.jsx)(n.p,{children:"Extensions can be auto upgraded using minor versions, but it requires extra management and configuration. Using Scope parameter, it can be installed on the whole cluster or per namespace."}),"\n",(0,s.jsx)(n.p,{children:"AKS Extensions requires an Azure CLI extension to be installed. To add or update this CLI extension use the following commands:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-azurecli",children:"az extension add --name k8s-extension\n"})}),"\n",(0,s.jsx)(n.p,{children:"and to update an existing extension"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-azurecli",children:"az extension update --name k8s-extension\n"})}),"\n",(0,s.jsx)(n.p,{children:"There are only 3 available extensions:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dapr"})," - CNCF Dapr project."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Azure ML"})," - Integrate Azure Machine Learning with AKS to train, inference and manage ML models."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flux (GitOps)"})," - CNCF Flux project integrated with AKS to enable cluster configuration and application deployment using GitOps."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"As an example, you can install Azure ML using the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-azurecli",children:"az k8s-extension create \\\n  --name aml-compute --extension-type Microsoft.AzureML.Kubernetes \\\n  --scope cluster --cluster-name <clusterName> \\\n  --resource-group <resourceGroupName> \\\n  --cluster-type managedClusters \\\n  --configuration-settings enableInference=True allowInsecureConnections=True\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For more details, get the updated ",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/cluster-extensions?tabs=azure-cli&WT.mc_id=containers-84290-joarteir#currently-available-extensions",children:"list of AKS Extensions here"})]}),"\n",(0,s.jsx)(n.h2,{id:"add-ons-vs-extensions",children:"Add-ons vs Extensions"}),"\n",(0,s.jsx)(n.p,{children:"AKS Add-ons brings an advantage of been fully managed by AKS itself, and AKS Extensions are more flexible and configurable but requires extra level of management."}),"\n",(0,s.jsx)(n.p,{children:"Add-ons are part of the AKS resource provider in the Azure API, and AKS Extensions are a separate resource provider on the Azure API."}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.mdxAdmonitionTitle,{children:["It's not too late to sign up for and complete the ",(0,s.jsx)(n.a,{href:"https://aka.ms/CNNY/Challenge",children:"Cloud Skills Challenge"}),"!"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir",children:"Add-ons, Extensions, and other integrations with AKS"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/integrations#available-add-ons?WT.mc_id=containers-84290-joarteir",children:"Available Add-ons on AKS"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/cluster-extensions?tabs=azure-cli&WT.mc_id=containers-84290-joarteir#currently-available-extensions",children:"Available Extensions on AKS"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/azure/aks/integrations?WT.mc_id=containers-84290-joarteir#open-source-and-third-party-integrations",children:"Open source and third-party integrations"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://dapr.io/",children:"CNCF Dapr project"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://fluxcd.io/",children:"CNCF Flux project"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://keda.sh/",children:"CNCF KEDA project"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var s=t(67294);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);