<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-blog-30daysofIA" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">21 posts tagged with &quot;community-buzz&quot; | Build Intelligent Apps On Azure</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:title" content="#IntelligentApps start today | Microsoft Azure"><meta data-rh="true" name="og:description" content="Develop adaptive, responsive, and personalized experiences by building and modernizing intelligent applications with Azure!"><meta data-rh="true" name="og:url" content="https://aka.ms/FallForIA"><meta data-rh="true" name="awa-env" content="Production"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" property="og:url" content="https://azure.github.io/cloud-native/30daysofia/scaling-intelligent-apps-on-azure-kubernetes-services-1"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:title" content="Build Intelligent Apps!| Build AI Apps On Azure"><meta data-rh="true" property="og:description" content="Dive into how to harness AKS‚Äô powerful features like auto-scaling and high availability to manage variable workloads and maintain continuous service."><meta data-rh="true" property="og:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta data-rh="true" name="twitter:url" content="https://azure.github.io/Cloud-Native/30daysofIA/scaling-intelligent-apps-on-azure-kubernetes-services-1"><meta data-rh="true" name="twitter:title" content="Build Intelligent Apps! | Build AI Apps On Azure"><meta data-rh="true" name="twitter:description" content="2-5.Dive into how to harness AKS‚Äô powerful features like auto-scaling and high availability to manage variable workloads and maintain continuous service."><meta data-rh="true" name="twitter:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@devanshidiaries"><meta data-rh="true" name="twitter:site" content="@AzureAdvocates"><link data-rh="true" rel="icon" href="/Cloud-Native/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/30DaysOfIA/tags/community-buzz/page/12" hreflang="en"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/30DaysOfIA/tags/community-buzz/page/12" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://azure.github.io/Cloud-Native/30daysofIA/scaling-intelligent-apps-on-azure-kubernetes-services-1"><link rel="alternate" type="application/rss+xml" href="/Cloud-Native/blog/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/blog/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">





<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/cnny-2023/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/cnny-2023/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/30DaysOfIA/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/30DaysOfIA/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/60DaysOfIA/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/60DaysOfIA/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/d61n997vq9",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js"></script><link rel="stylesheet" href="/Cloud-Native/assets/css/styles.f3055625.css">
<script src="/Cloud-Native/assets/js/runtime~main.ae8d3e97.js" defer="defer"></script>
<script src="/Cloud-Native/assets/js/main.64fd059b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><header><div></div></header><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Cloud-Native/"><div class="navbar__logo"><img src="/Cloud-Native/img/logo-2024.png" alt="Azure Cloud Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Cloud-Native/img/logo-2024.png" alt="Azure Cloud Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Cloud-Native</b></a><a class="navbar__item navbar__link" href="/Cloud-Native/Build-IA/">Home</a><a class="navbar__item navbar__link" href="/Cloud-Native/60DaysOfIA">Blog</a><a class="navbar__item navbar__link" href="/Cloud-Native/Build-IA/calendar/">Calendar</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Intelligent Apps</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/Build-IA/">Build Intelligent Apps | 2024</a></li><li><a class="dropdown__link" href="/Cloud-Native/60DaysOfIA">#60DaysOfIA</a></li><li><a class="dropdown__link" href="/Cloud-Native/30DaysOfIA">#30DaysOfIA</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Cloud Native</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/New-Year/">ü•≥ | New Year 2023</a></li><li><a class="dropdown__link" href="/Cloud-Native/cnny-2023">#30DaysOfCloudNative</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Serverless</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/serverless-september">üçÇ September | 2022</a></li><li><a href="https://dev.to/azure/serverlessseptember-2020-content-collection-443k" target="_blank" rel="noopener noreferrer" class="dropdown__link">üçÇ September | 2020<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://dev.to/azure/serverless-september-content-collection-2fhb" target="_blank" rel="noopener noreferrer" class="dropdown__link">üçÇ September | 2019<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/Cloud-Native/blog">#30DaysOfServerless</a></li></ul></div><a href="https://github.com/azure/cloud-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://azure.github.io/Cloud-Native/60DaysOfIA/rss.xml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="Subscribe to RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="announcementBarContainer_QNjo"><div class="announcementBarContent_tvcd">Check out the <a class="announcementLink_qKCm" target="_blank" href="https://developer.microsoft.com/en-us/reactor/series/S-1308/?wt.mc_id=blog_S-1308_webpage_reactor" data-bi-area="AnnouncementBar" data-bi-name="Intelligent Apps on Azure Container Apps">Intelligent Apps on Azure Container Apps</a> series for quick demo bytes | Give us a üåü <a class="announcementLink_qKCm" target="_blank" href="https://github.com/azure/cloud-native" data-bi-area="AnnouncementBar" data-bi-name="Give us a star on GitHub">on GitHub</a></div></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">#30DaysOfIA</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/kick-off">Kick-off #30DaysofIA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/demystifying-intelligent-applications">1-1. Demystifying Intelligent Applications</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/harnessing-the-power-of-intelligent-apps">1-2. Harnessing the Power of Intelligent Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/reimagine-app-development-with-ai">1-3. Reimagine App Development with AI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/how-digital-natives-leverage-generative-ai">1-4. How Digital Natives leverage Generative AI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/preparing-the-path-for-intelligent-apps">1-5. Preparing the Path for Intelligent Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/cultivating-a-culture-for-intelligent-apps">1-6. Cultivating a Culture for Intelligent Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/build-your-first-intelligent-app-with-azure-ai-and-aks-1">2-1. Build Your First Intelligent App with Azure AI and AKS (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/build-your-first-intelligent-app-with-azure-ai-and-aks-2">2-2. Build Your First Intelligent App with Azure AI and AKS (2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/powering-intelligent-apps-with-azure-cosmos-db-1">2-3. Powering Intelligent Apps with Azure Cosmos DB (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/powering-intelligent-apps-with-azure-cosmos-db-2">2-4. Powering Intelligent Apps with Azure Cosmos DB (2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/scaling-intelligent-apps-on-azure-kubernetes-services-1">2-5. Scaling Intelligent Apps on Azure Kubernetes Services (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/scaling-intelligent-apps-on-azure-kubernetes-services-2">2-6. Scaling Intelligent Apps on Azure Kubernetes Services (2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/deploy-an-intelligent-app-on-azure-container-apps-1">3-1. Deploy an Intelligent App on Azure Container Apps (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/deploy-an-intelligent-app-on-azure-container-apps-2">3-2. Deploy an Intelligent App on Azure Container Apps (2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/taking-intelligent-apps-to-the-next-level-implementing-advanced-features-with-azure-machine-learning-1">3-3. Taking Intelligent Apps to the Next Level - Implementing Advanced Features with Azure Machine Learning (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/taking-intelligent-apps-to-the-next-level-implementing-advanced-features-with-azure-machine-learning-2">3-4. Taking Intelligent Apps to the Next Level - Implementing Advanced Features with Azure Machine Learning (2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/building-an-ai-powered-logo-variation-generator-with-azure-openai-and-aks-1">4-1. Building an AI-Powered Logo Variation Generator with Azure OpenAI and AKS (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/building-an-ai-powered-logo-variation-generator-with-azure-openai-and-aks-2">4-2. Building an AI-Powered Logo Variation Generator with Azure OpenAI and AKS (2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/fortifying-cybersecurity-using-intelligent-apps-on-aks-1">4-3. Fortifying Cybersecurity Using Intelligent Apps on AKS (1)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/30DaysOfIA/fortifying-cybersecurity-using-intelligent-apps-on-aks-2">4-4. Fortifying Cybersecurity Using Intelligent Apps on AKS (2)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>21 posts tagged with &quot;community-buzz&quot;</h1><a href="/Cloud-Native/30DaysOfIA/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Explore the power of multi-model databases for Intelligent Apps and their integration with Azure Cosmos DB and Azure Kubernetes Service (AKS)."><link itemprop="image" href="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta itemprop="keywords" content="Cloud,Data,AI,AI/ML,intelligent apps,cloud-native,30-days,enterprise apps,digital experiences,app modernization,serverless,ai apps,data"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/Cloud-Native/30DaysOfIA/scaling-intelligent-apps-on-azure-kubernetes-services-1">2-5. Scaling Intelligent Apps on Azure Kubernetes Services (1)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-10T09:00:00.000Z" itemprop="datePublished">October 10, 2023</time> ¬∑ <!-- -->17 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://azure.github.io/Cloud-Native/Build-IA/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://azure.github.io/Cloud-Native/img/logo-ms-cloud-native.png" alt="It&#x27;s 30DaysOfIA" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://azure.github.io/Cloud-Native/Build-IA/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">It&#x27;s 30DaysOfIA</span></a></div><small class="avatar__subtitle" itemprop="description">BuildIA Content Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p>In this article, dive into how to harness AKS‚Äô powerful features like auto-scaling and high availability to manage variable workloads and monitoring to maintain continuous service.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We&#x27;ll Cover:<a href="#what-well-cover" class="hash-link" aria-label="Direct link to What We&#x27;ll Cover:" title="Direct link to What We&#x27;ll Cover:">‚Äã</a></h2>
<ul>
<li>Deploying on Azure Kubernetes Service (AKS)</li>
<li>Configuring AKS for dynamic application scaling</li>
<li>Ensuring High Availability with Azure Load Balancer and AKS</li>
</ul>
<p><img loading="lazy" alt="image of node settings in Azure portal" src="/Cloud-Native/assets/images/blog-image-2-5-1-4fa8cc4a31e772d8316415e09e1aca46.jpg" width="624" height="380" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scaling-intelligent-apps-on-azure-kubernetes-services-1">Scaling Intelligent Apps on Azure Kubernetes Services (1)‚ÄØ<a href="#scaling-intelligent-apps-on-azure-kubernetes-services-1" class="hash-link" aria-label="Direct link to Scaling Intelligent Apps on Azure Kubernetes Services (1)‚ÄØ" title="Direct link to Scaling Intelligent Apps on Azure Kubernetes Services (1)‚ÄØ">‚Äã</a></h2>
<p>In the <a href="https://azure.github.io/Cloud-Native/30daysofIA/build-your-first-intelligent-app-with-azure-ai-and-aks-1" target="_blank" rel="noopener noreferrer">first topic of this week</a>, we explored how to use Azure Cognitive Services for Vision within Azure Kubernetes Service (AKS) to create an Intelligent App capable of analyzing images and extracting valuable data through optical character recognition (OCR). The week‚Äôs <a href="https://azure.github.io/Cloud-Native/30DaysOfIA/build-your-first-intelligent-app-with-azure-ai-and-aks-2" target="_blank" rel="noopener noreferrer">second article</a>, focused on the advantages of Azure Cosmos DB, highlighting its multi-model database and ability to handle diverse data resulting from OCR analysis in our Intelligent App.</p>
<p>In this third topic, we‚Äôll configure <a href="https://learn.microsoft.com/en-us/azure/aks/?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Azure Kubernetes Service (AKS)</a> to manage varying workloads and smoothly scale our Intelligent App, ensuring it can handle intense and fluctuating workloads without compromising performance or availability.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mastering-azure-kubernetes-services-aks-for-intelligent-app">Mastering Azure Kubernetes Services (AKS) for Intelligent App<a href="#mastering-azure-kubernetes-services-aks-for-intelligent-app" class="hash-link" aria-label="Direct link to Mastering Azure Kubernetes Services (AKS) for Intelligent App" title="Direct link to Mastering Azure Kubernetes Services (AKS) for Intelligent App">‚Äã</a></h3>
<p>At the core of the Azure ecosystem lies AKS. It plays a crucial role in optimizing application performance and efficient resource use. We can deploy, manage, and scale applications across different environments by precisely orchestrating containerized workloads.</p>
<p>AKS offers several robust features that help applications scale smoothly and stay available even during heavy demand, including the following:</p>
<ul>
<li>The <a href="https://learn.microsoft.com/en-us/azure/aks/cluster-autoscaler?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">cluster autoscaler</a> adjusts the number of nodes in your cluster based on how much work you have. This way, it uses resources efficiently and keeps costs in check.</li>
<li>The <a href="https://azure.microsoft.com/en-ca/products/load-balancer?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Azure Load Balancer</a> is created automatically with AKS and acts like an intelligent traffic controller. It ensures incoming network traffic is distributed well across your cluster‚Äôs nodes, optimizing resource usage.</li>
</ul>
<p>Together, these features give your applications a solid base to handle different workloads and keep running nonstop.</p>
<p>The following sections provide hands-on demonstrations of setting up, monitoring, and optimizing AKS to drive application efficiency and performance</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">‚Äã</a></h4>
<p>To follow this tutorial, ensure you have the following:‚ÄØ</p>
<ul>
<li>Read through the <a href="https://azure.github.io/Cloud-Native/30daysofIA/build-your-first-intelligent-app-with-azure-ai-and-aks-1" target="_blank" rel="noopener noreferrer">first</a> and <a href="https://azure.github.io/Cloud-Native/30DaysOfIA/powering-intelligent-apps-with-azure-cosmos-db-1" target="_blank" rel="noopener noreferrer">second</a> topics of this week</li>
<li><a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">Python 3.7</a> or later installed‚ÄØ</li>
<li><a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">VS Code</a> or another integrated development environment (IDE) for writing Python code‚ÄØ</li>
<li>The <a href="https://github.com/contentlab-io/Microsoft-Powering-Intelligent-Apps-with-Cosmos-DB-and-Azure-Kubernetes-Service/tree/main/PartTwo_IntelligentApp_After" target="_blank" rel="noopener noreferrer">sample Python application</a> from the second article of this series downloaded. Open the project before getting started.</li>
<li><a href="https://pip.pypa.io/en/stable/installing/" target="_blank" rel="noopener noreferrer">pip</a>, the package manager for Python, installed‚ÄØ</li>
<li>A <a href="https://azure.microsoft.com/free/?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">free Azure account</a>. Sign up if you don‚Äôt have one yet.‚ÄØ</li>
<li>The <a href="https://learn.microsoft.com/cli/azure/install-azure-cli?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Azure command-line interface</a> (CLI)</li>
</ul>
<p>Check out the <a href="https://github.com/contentlab-io/Microsoft-Scaling-Intelligent-Apps-on-Azure-Kubernetes-Services/tree/main/Microsoft_21_Code/Deployment" target="_blank" rel="noopener noreferrer">complete project code</a> for a preview of the final project.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Complete the <strong><a href="https://aka.ms/fallforIA/apps-csc" target="_blank" rel="noopener noreferrer">Apps Cloud Skills Challenge</a></strong> to build on your AKS app dev skills.</p><p>To start with the basics for developing‚ÄØ<a href="https://azure.microsoft.com/en-us/products/kubernetes-service/?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Kubernetes</a>‚ÄØapplications, explore‚ÄØ<a href="https://azure.github.io/Cloud-Native/cnny-2023" target="_blank" rel="noopener noreferrer">#30DaysOfCloudNative</a>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="solution-architecture">Solution Architecture<a href="#solution-architecture" class="hash-link" aria-label="Direct link to Solution Architecture" title="Direct link to Solution Architecture">‚Äã</a></h4>
<p>The image below shows the architecture of the solution we‚Äôre aiming for in this article.</p>
<p><img loading="lazy" alt="Image of solution architecture" src="/Cloud-Native/assets/images/blog-image-2-5-sa-9917e8a07e6469d673689f859dfe6e7a.png" width="624" height="403" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-aks-for-dynamic-app-scaling">Configuring AKS for Dynamic App Scaling<a href="#configuring-aks-for-dynamic-app-scaling" class="hash-link" aria-label="Direct link to Configuring AKS for Dynamic App Scaling" title="Direct link to Configuring AKS for Dynamic App Scaling">‚Äã</a></h4>
<p>The cluster autoscaler and Kubernetes Horizontal Pod Autoscaling (HPA) are essential in achieving dynamic app scaling within an AKS environment.</p>
<p>The cluster autoscaler ensures our cluster scales its resources intelligently based on workload demand. It optimizes cost-effectiveness by adding or removing nodes dynamically, thus efficiently managing resources.</p>
<p>The HPA complements this by automatically scaling individual Pods within the cluster, monitoring metrics like CPU usage or custom metrics and adjusting the number of running pods to match application demand.</p>
<p>To understand how these two concepts work seamlessly to provide a comprehensive scaling solution, let‚Äôs now get into the details of cluster autoscaler configuration. Later, we‚Äôll discuss how to set up HPA in our AKS cluster.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-cluster-autoscaler-in-aks">Setting Up the Cluster Autoscaler in AKS<a href="#setting-up-the-cluster-autoscaler-in-aks" class="hash-link" aria-label="Direct link to Setting Up the Cluster Autoscaler in AKS" title="Direct link to Setting Up the Cluster Autoscaler in AKS">‚Äã</a></h5>
<p>Setting up the cluster autoscaler in AKS involves a combination of Azure CLI and kubectl commands. Here‚Äôs a step-by-step guide to help you through the process, including initial setup, configuring minimum and maximum node counts per node pool, and monitoring the cluster autoscaler‚Äôs performance.</p>
<p>To follow along, ensure you‚Äôre logged in to your Azure account. To log in, run the following command in your terminal:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az login</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the first part of this series, we created an AKS cluster named <code>aks-intelligent-app</code>. The picture below shows that AKS creates a single node pool named <code>nodepool1</code> by default. We can access the AKS cluster nodes and visualize the default <code>nodepool1</code> by clicking the <strong>Node pools</strong> menu in the <strong>Settings</strong> section:</p>
<p><img loading="lazy" alt="image of node pools in Azure portal" src="/Cloud-Native/assets/images/blog-image-2-5-2-1416ed05e85ba3331e8fc828df06d82d.png" width="624" height="179" class="img_ev3q"></p>
<p>In the image above, ‚ÄúNode count: 1/1 ready‚Äù indicates that we have one virtual machine (node) allocated in the node pool <code>nodepool1</code> within our AKS cluster. That node is currently healthy and operational, meaning it‚Äôs ready to accept and execute workloads.</p>
<p>In the context of an AKS cluster, a node pool is a set of virtual machines with similar configurations and capacities. These node pools are distinct virtual machine (VM) groups forming the cluster‚Äôs computing resources. Node pools allow for workload segregation and resource allocation optimization, as we can tailor each pool to handle specific tasks or workloads. This modular approach enhances flexibility and resource management within the AKS cluster.</p>
<p>Using kubectl, retrieve information on the current nodes by running the command below:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command above should retrieve results similar to those below:</p>
<table><thead><tr><th style="text-align:left">NAME</th><th style="text-align:left">STATUS</th><th style="text-align:left">ROLES</th><th style="text-align:left">AGE</th><th style="text-align:left">VERSION</th></tr></thead><tbody><tr><td style="text-align:left">aks-nodepool1-27122202-vmss000000</td><td style="text-align:left">Ready</td><td style="text-align:left">agent</td><td style="text-align:left">59m</td><td style="text-align:left">v1.26.6</td></tr></tbody></table>
<p>Let‚Äôs say we want our app to support more than one node. In this case, we have two options: customize <code>nodepool1</code> or add more node pools as needed. In this guide, we‚Äôll review how to update the existing <code>nodepool1</code> node pool to support multiple nodes.</p>
<p>Run the following command in your terminal to update the existing node pool:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az aks update --resource-group computer-vision --name aks-intelligent-app --enable-cluster-autoscaler --min-count 2 --max-count 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This change ensures the node pool will always have at least two nodes available and can scale up to a maximum of three nodes, depending on the workload demand. This approach helps manage resource allocation based on varying needs within the AKS cluster.</p>
<p>Now, run the <code>kubectl</code> get nodes command again to retrieve the new node count:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your results should appear similar to those below:</p>
<table><thead><tr><th style="text-align:left">NAME</th><th style="text-align:left">STATUS</th><th style="text-align:left">ROLES</th><th style="text-align:left">AGE</th><th style="text-align:left">VERSION</th></tr></thead><tbody><tr><td style="text-align:left">aks-nodepool1-27122202-vmss000000</td><td style="text-align:left">Ready</td><td style="text-align:left">agent</td><td style="text-align:left">2d5h</td><td style="text-align:left">v1.26.6</td></tr><tr><td style="text-align:left">aks-nodepool1-27122202-vmss000001</td><td style="text-align:left">Ready</td><td style="text-align:left">agent</td><td style="text-align:left">2d54</td><td style="text-align:left">v1.26.6</td></tr></tbody></table>
<p>Refresh the <strong>Node pools</strong> page of your <code>aks-intelligent-app</code> AKS cluster in the Azure Portal:</p>
<p><img loading="lazy" alt="image of refreshed node pools in Azure portal" src="/Cloud-Native/assets/images/blog-image-2-5-3-21bab172d266de4714b2e522f1bbc124.png" width="624" height="179" class="img_ev3q"></p>
<p>The ‚ÄúNode count: 2/2 ready‚Äù above indicates that you now have two nodes allocated, both in a healthy and operational state.</p>
<p>To view more information about the node in your cluster, select the <strong>Nodes</strong> tab on the <strong>Node pools</strong> page:</p>
<p><img loading="lazy" alt="image of nodes tab results in Azure portal" src="/Cloud-Native/assets/images/blog-image-2-5-4-a6847a5ee50feb961551e20bebff6228.png" width="624" height="215" class="img_ev3q"></p>
<p>Here, the CPU, memory, disks, and Pods information provide a comprehensive view of the cluster‚Äôs resource utilization and workload distribution.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="how-the-cluster-autoscaler-dynamically-scales-resources">How the Cluster Autoscaler Dynamically Scales Resources<a href="#how-the-cluster-autoscaler-dynamically-scales-resources" class="hash-link" aria-label="Direct link to How the Cluster Autoscaler Dynamically Scales Resources" title="Direct link to How the Cluster Autoscaler Dynamically Scales Resources">‚Äã</a></h5>
<p>The cluster autoscaler is pivotal in maintaining the optimal performance and cost-effectiveness of Intelligent Apps within cloud environments.</p>
<p>The cluster autoscaler in AKS continuously monitors the cluster‚Äôs resource use, including CPU and memory, and compares it to the resource requests and limits defined in the Pod specifications. When the autoscaler detects that additional resources are required to meet the workloads‚Äô demands, it automatically provisions new nodes, expanding the cluster‚Äôs capacity. Conversely, when there‚Äôs a decrease in resource demands, the cluster autoscaler scales in by removing underused nodes, optimizing cost efficiency.</p>
<p>By dynamically scaling resources in response to fluctuations in workload demand, the autoscaler ensures they are efficiently allocated, preventing overprovisioning during periods of low activity and scaling up when demand peaks. This adaptive approach enhances the responsiveness of Intelligent Apps and mitigates unnecessary expenses by rightsizing the infrastructure.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-horizontal-pod-autoscaler">Configuring the Horizontal Pod Autoscaler<a href="#configuring-the-horizontal-pod-autoscaler" class="hash-link" aria-label="Direct link to Configuring the Horizontal Pod Autoscaler" title="Direct link to Configuring the Horizontal Pod Autoscaler">‚Äã</a></h5>
<p>The <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" target="_blank" rel="noopener noreferrer">Kubernetes HorizontalPodAutoscaler</a> (HPA) is a powerful tool that ensures optimal application performance and resource use. It dynamically adjusts the number of running pods in a Kubernetes deployment based on either CPU usage, memory usage or custom metrics defined by the user.</p>
<p>To configure it, we must first define the desired target for resource use. For instance, if using a CPU, we‚Äôd specify a target percentage of CPU usage per Pod. Once we set the target, the HPA constantly monitors the metrics and automatically scales the number of Pods to maintain the desired use level.</p>
<p>To demonstrate what HPA can do, let‚Äôs write a YAML file and configure it to work with our Intelligent App. Create a file named <code>intelligent-app-hpa.yml</code> in the <code>Deployment</code> folder with the following contents:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: autoscaling/v1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: HorizontalPodAutoscaler </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: intelligent-app-hpa </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  maxReplicas: 10 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  minReplicas: 3 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scaleTargetRef: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apiVersion: apps/v1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind: Deployment </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: intelligent-app </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  targetCPUUtilizationPercentage: 50 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note: You can also enable pod autoscaling but including the spec above in your pod definition yaml file.</p>
<p>The <code>intelligent-app-hpa.yml</code> file above defines an HPA resource in Kubernetes. It configures the autoscaler for the <code>intelligent-app</code> Deployment to automatically adjust the number of replicas (Pods) based on CPU usage. The HPA ensures the number of replicas ranges from a minimum of 3 to a maximum of 10, targeting a CPU use of 50 percent.</p>
<p>As the CPU usage changes, the HPA automatically scales the number of replicas to maintain the desired CPU use level. This process allows the <code>intelligent-app</code> Deployment to handle varying workloads efficiently while staying within specified resource boundaries.</p>
<p>To apply HPA, change the terminal to the deployment folder and run the <code>kubectl</code> command below:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f intelligent-app-hpa.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command applies the configuration described in the <code>intelligent-app-hpa.yml</code> file to create an HPA resource within the Kubernetes cluster.</p>
<p>To review the created HPA resource in your terminal, run the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get hpa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The terminal will display information about the HPA resources present in the Kubernetes cluster, providing details including target deployments, desired replicas, current replicas, and usage metrics for autoscaling:</p>
<table><thead><tr><th style="text-align:left">NAME</th><th style="text-align:left">REFERENCE</th><th style="text-align:left">TARGETS</th><th style="text-align:left">MINPODS</th><th style="text-align:left">MAXPODS</th><th style="text-align:left">REPLICAS</th><th style="text-align:left">AGE</th></tr></thead><tbody><tr><td style="text-align:left">intelligent-app-hpa</td><td style="text-align:left">Deployment/intelligent-app</td><td style="text-align:left">1%/50%</td><td style="text-align:left">3</td><td style="text-align:left">10</td><td style="text-align:left">3</td><td style="text-align:left">36s</td></tr></tbody></table>
<p>As we can see in the results, the <code>HorizontalPodAutoscaler</code> resource is linked to the <code>intelligent-app</code> Deployment. The ‚Äú1%/50%‚Äù indicates that the current CPU use is 1 percent of the target use of 50 percent. The HPA maintains a minimum of 3 replicas (Pods) and can scale up to a maximum of 10 replicas. Currently, only three replicas are running.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ensuring-high-availability-with-azure-load-balancer-and-aks">Ensuring High Availability with Azure Load Balancer and AKS<a href="#ensuring-high-availability-with-azure-load-balancer-and-aks" class="hash-link" aria-label="Direct link to Ensuring High Availability with Azure Load Balancer and AKS" title="Direct link to Ensuring High Availability with Azure Load Balancer and AKS">‚Äã</a></h4>
<p>We can configure and manage Azure Load Balancer, availability zones (AZs), and Pod disruption budgets to ensure high availability in our application. In this section, we cover these concepts in detail.</p>
<p>In the first article of this series, we learned we can run the <code>kubectl get services</code> command to list the services and their corresponding details, such as the Service name, cluster IP address, external IP, and ports.</p>
<p>The <code>kubectl get services</code> command offers a quick and comprehensive snapshot of the services deployed within your Kubernetes cluster, providing key details such as service names, cluster IPs, external IPs, ports, and associated endpoints. This information enables administrators and developers to monitor, troubleshoot, and manage the connectivity and accessibility of services.</p>
<p>Run this command in your terminal:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get services</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You should receive an output similar to the following:</p>
<table><thead><tr><th style="text-align:left">NAME</th><th style="text-align:left">TYPE</th><th style="text-align:left">CLUSTER-IP</th><th style="text-align:left">EXTERNAL-IP</th><th style="text-align:left">PORT(S)</th><th style="text-align:left">AGE</th></tr></thead><tbody><tr><td style="text-align:left">intelligent-app-service</td><td style="text-align:left">LoadBalancer</td><td style="text-align:left">10.0.77.60</td><td style="text-align:left">20.121.76.153</td><td style="text-align:left">80:30936/TCP</td><td style="text-align:left">47s</td></tr><tr><td style="text-align:left">kubernetes</td><td style="text-align:left">ClusterIP</td><td style="text-align:left">10.0.0.1</td><td style="text-align:left">&lt;none&gt;</td><td style="text-align:left">443/TCP</td><td style="text-align:left">14m</td></tr></tbody></table>
<p>In this output, we can see a Kubernetes Service named <code>intelligent-app-service</code> with a type of <code>LoadBalancer</code>, reachable from the cluster through the IP <code>10.0.77.60</code>. It‚Äôs accessible via <code>20.121.76.153</code> on port 80, mapped to port 30936.</p>
<p>The <a href="https://learn.microsoft.com/azure/load-balancer/load-balancer-overview?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Azure Load Balancer</a> continuously monitors the health and responsiveness of each Pod or node and actively distributes incoming requests to maintain a balanced load across pods. It ensures even traffic distribution among the Pods, preventing any one Pod or node from becoming overwhelmed and promoting optimal resource use.</p>
<p>The Load Balancer‚Äôs ability to intelligently route requests to healthy Pods, combined with the service‚Äôs configuration for <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/" target="_blank" rel="noopener noreferrer">health probes</a> and backend pool setup, promotes the high availability and responsiveness of the application.</p>
<p>These features allow it to adapt seamlessly to varying workloads and potential node failures while delivering a reliable user experience.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="availability-zones-in-aks">Availability Zones in AKS<a href="#availability-zones-in-aks" class="hash-link" aria-label="Direct link to Availability Zones in AKS" title="Direct link to Availability Zones in AKS">‚Äã</a></h5>
<p>Azure AZs are crucial in enhancing the resilience and availability of applications within AKS. Deploying AKS clusters across multiple AZs involves distributing cluster resources across physically isolated data centers. This approach ensures that if one zone experiences an outage, perhaps due to a natural disaster in that region, the application can continue operating from another.</p>
<p>In the first article, we created an AKS cluster. Now, we can use the <code>kubectl</code> command and <code>grep</code> to check the AZs for nodes in this AKS cluster. Run this command in your terminal:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes -o custom-columns=&quot;NAME:.metadata.name,AVAILABILITY_ZONE:.metadata.labels.topology\.kubernetes\.io/zone&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You should receive results similar to those below:</p>
<table><thead><tr><th style="text-align:left">NAME</th><th style="text-align:left">AVAILABILITY_ZONE</th></tr></thead><tbody><tr><td style="text-align:left">aks-nodepool1-57155478-vmss000001</td><td style="text-align:left">0</td></tr></tbody></table>
<p>The output shows that the node <code>aks-nodepool1-57155478-vmss000001</code> is in availability zone 0. This information helps us understand how Kubernetes distributes the nodes in the cluster across AZs‚Äîvital for achieving high availability and fault tolerance in our Kubernetes-based applications.</p>
<p>Notably, after we create our AKS cluster, we cannot directly modify it to enable or disable AZs. To create a cluster that works across AZs 1, 2, and 3, modify the <code>az aks</code> create command as follows:
‚ÄØ</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az aks create --resource-group computer-vision --name aks-intelligent-app --node-count 1 --generate-ssh-keys --zones 1 2 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note: We can discover the AZs in Azure for a specific region using the Azure CLI. Open your command-line terminal and run the following command to list the available AZs for a specific Azure region:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az vm list-skus --location &lt;region-name&gt; --output table</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Replace <code>&lt;region-name&gt;</code> with the name of the Azure region you want to check. For example, if you want to check AZs for the East US region:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az vm list-skus --location eastus --output table</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="maintaining-service-during-voluntary-disruptions-using-disruption-budgets">Maintaining Service During Voluntary Disruptions Using Disruption Budgets<a href="#maintaining-service-during-voluntary-disruptions-using-disruption-budgets" class="hash-link" aria-label="Direct link to Maintaining Service During Voluntary Disruptions Using Disruption Budgets" title="Direct link to Maintaining Service During Voluntary Disruptions Using Disruption Budgets">‚Äã</a></h5>
<p>In AKS, <a href="https://learn.microsoft.com/azure/aks/operator-best-practices-scheduler#voluntary-disruptions" target="_blank" rel="noopener noreferrer">Pod disruption budgets</a> (PDBs) are critical in maintaining service availability during updates or planned disruptions. PDBs set guidelines for how many Pods can be unavailable simultaneously, preventing excessive downtime by ensuring that only a controlled number of Pods are taken offline at any given time. This design lets us maintain service during voluntary disruptions.</p>
<p>Here‚Äôs a step-by-step guide on creating and managing PDBs where we define a minimum available or maximum unavailable resource count.</p>
<p>To create a PDB, you will define a YAML configuration file that specifies the desired criteria for your budget. First, create a file named <code>pdb-config.yml</code> in the <code>Deployment</code> folder with the following contents:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: policy/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: PodDisruptionBudget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   name: intelligent-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   minAvailable: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      app: intelligent-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here, the <code>minAvailable</code> field specifies the minimum number of Pods that must remain available (not disrupted or terminated) during voluntary disruptions like maintenance or updates. Setting this field to <code>3</code> means that when disruptions occur, Kubernetes will ensure that at least three Pods of the specified application are running at all times.</p>
<p>Now, ensure you are in the Deployment folder and apply the PDB configuration using the <code>kubectl</code> apply command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f pdb-config.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To verify that you‚Äôve successfully created the PDB, run the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pdb intelligent-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command will give you the following results:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Name:           intelligent-app </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Namespace:      default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Min available:  3 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Selector:       app=intelligent-app </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Status: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Allowed disruptions:  0 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Current:              1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Desired:              3 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Total:                1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Events:                   &lt;none&gt; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now let‚Äôs analyze the output:</p>
<ul>
<li><strong>Name and namespace</strong>‚ÄîThe PDB is named ‚Äúintelligent-app‚Äù and belongs to the ‚Äúdefault‚Äù namespace.</li>
<li><strong>Min available</strong>‚ÄîThe PDB specifies that at least three Pods must always be available. So, even during planned disruptions, there will always be at least three application Pods running.</li>
<li><strong>Selector</strong>‚ÄîThe PDB applies to Pods labeled <code>app=intelligent-app</code>.</li>
<li><strong>Status</strong> ‚Äî<!-- -->
<ul>
<li><strong>Allowed disruptions</strong>‚ÄîThe value 0 means that the PDB doesn‚Äôt allow any disruptions or evictions of Pods that match its selector. In this example, it ensures that at least three healthy Pods are always available and no disruptions are permitted.</li>
<li><strong>Current</strong>‚ÄîShows the current number of available healthy replicas that match the PDB‚Äôs selector. In this case, it‚Äôs 1, meaning there is currently one healthy Pod.</li>
<li><strong>Desired</strong>‚ÄîIndicates the desired number of replicas that should be available. It‚Äôs also set to 3, meaning the PDB wants to maintain three replicas.</li>
<li><strong>Total</strong>‚ÄîThe total number of replicas matching the PDB&#x27;s selector. It‚Äôs 1, indicating that there is one replica.</li>
</ul>
</li>
<li><strong>Events</strong>‚ÄîThe <code>&lt;none&gt;</code> entry under <code>Events</code> indicates no recent events or changes associated with this PDB.</li>
</ul>
<p>By implementing these budgets, AKS ensures a gradual and controlled update process, minimizing service disruption and providing a reliable user experience. It‚Äôs a strategic approach to balance necessary updates with keeping the service responsive and available to users.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-azure-load-balancer-in-aks-for-high-availability">Configuring Azure Load Balancer in AKS for High Availability<a href="#configuring-azure-load-balancer-in-aks-for-high-availability" class="hash-link" aria-label="Direct link to Configuring Azure Load Balancer in AKS for High Availability" title="Direct link to Configuring Azure Load Balancer in AKS for High Availability">‚Äã</a></h5>
<p>To ensure that your applications can withstand failures and maintain continuous service availability, you must configure the Azure Load Balancer in AKS for high availability. You can take many measures to increase Azure Load Balancer‚Äôs availability in your AKS cluster.</p>
<p>To demonstrate, open your terminal and run the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">az aks update --resource-group computer-vision --name aks-intelligent-app --load-balancer-managed-outbound-ip-count 2 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The Azure CLI command above updates the <code>aks-intelligent-app</code> AKS cluster, setting the managed outbound IP count for the cluster‚Äôs load balancer to 2. This command increases the number of managed outbound IPs associated with the cluster‚Äôs load balancer, which can be helpful where multiple outbound IP addresses are required for load balancing and network egress, improving the cluster‚Äôs networking capabilities and allowing for more flexible outbound traffic management.</p>
<p>To configure Azure Load Balancer in AKS for high availability, consider implementing the following additional measures:</p>
<ul>
<li><strong>Use Azure AZs</strong>‚ÄîDeploy your AKS cluster across multiple <a href="https://azure.microsoft.com/explore/global-infrastructure/availability-zones?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Azure AZs</a> to ensure redundancy and fault tolerance.</li>
<li><strong>Configure health probes</strong>‚ÄîDefine <a href="https://learn.microsoft.com/azure/load-balancer/load-balancer-custom-probe-overview?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">health probes</a> for your Azure Load Balancer to regularly check the health of backend pods or nodes.</li>
<li><strong>Load Balancer rules</strong>‚ÄîConfigure <a href="https://learn.microsoft.com/azure/load-balancer/manage-rules-how-to?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">load balancing rules</a> to distribute traffic efficiently.</li>
<li><strong>Backend pool scaling</strong>‚ÄîAdjust the <a href="https://learn.microsoft.com/azure/load-balancer/backend-pool-management?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">backend pool scaling</a> based on traffic patter</li>
<li><strong>Network security rules</strong>‚ÄîImplement <a href="https://learn.microsoft.com/security/benchmark/azure/baselines/azure-load-balancer-security-baseline?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">network security groups (NSGs)</a> to control inbound and outbound traffic to and from the Load Balancer.</li>
<li><strong>Azure monitoring and diagnostics</strong>‚ÄîSet up <a href="https://learn.microsoft.com/azure/aks/monitor-aks?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">monitoring and diagnostics</a> to gain insights into the Load Balancer‚Äôs performance and traffic distribution.</li>
<li><strong>Backup and Recovery</strong>‚ÄîImplement <a href="https://learn.microsoft.com/azure/backup/azure-kubernetes-service-backup-overview?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">backup and disaster recovery</a> strategies for your AKS cluster and Load Balancer configurations.</li>
<li><strong>Scaling and autoscaling</strong>‚ÄîUse <a href="https://learn.microsoft.com/azure/aks/concepts-scale?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">AKS horizontal Pod autoscaling</a> for your applications to adjust the number of pods automatically based on resource usage.</li>
</ul>
<p>You can <a href="https://learn.microsoft.com/azure/aks/load-balancer-standard?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">explore this topic further</a> on Microsoft Learn.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercise">Exercise<a href="#exercise" class="hash-link" aria-label="Direct link to Exercise" title="Direct link to Exercise">‚Äã</a></h2>
<ul>
<li>Complete this <strong>hands-on sample</strong> <a href="https://github.com/contentlab-io/Microsoft-Using-Azure-Kubernetes-Service-to-Deploy-an-Intelligent-App-for-Analyzing-Images-3/tree/main/Microsoft_21_Code/Deployment" target="_blank" rel="noopener noreferrer">project code</a> to scale and monitor your intelligent app on AKS</li>
<li>Register for the <strong><a href="https://learn.microsoft.com/en-us/events/learn-events/learnlive-intelligent-apps-with-azure-kubernetes-service/?WT.mc_id=javascript-99907-ninarasi" target="_blank" rel="noopener noreferrer">Learn Live: Kubernetes Edition</a></strong> starting Oct 12 - a live SME guided walkthrough on a reference architecture to build intelligent apps with AKS and Azure Open AI</li>
<li>Register for <strong><a href="https://reactor.microsoft.com/en-us/reactor/series/S-1037/" target="_blank" rel="noopener noreferrer">Ask the Expert: Azure Kubernetes Service</a></strong> session for live Q&amp;A with the Product Engineering team on building intelligent serverless apps.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">‚Äã</a></h2>
<p>In the <a href="https://azure.github.io/Cloud-Native/30daysofIA/scaling-intelligent-apps-on-azure-kubernetes-services-2" target="_blank" rel="noopener noreferrer">next blog</a>, continue exploring monitoring Azure Kubernetes Service clusters and deep dive into real world uses cases for scaling and designing high availability in intelligent apps.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/build-intelligent-apps">Build-Intelligent-Apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/30-days-of-ia">30-days-of-IA</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/learn-live">learn-live</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/hack-together">hack-together</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/community-buzz">community-buzz</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/ask-the-expert">ask-the-expert</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/azure-kubernetes-service">azure-kubernetes-service</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/azure-functions">azure-functions</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/azure-openai">azure-openai</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/azure-container-apps">azure-container-apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/azure-cosmos-db">azure-cosmos-db</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/github-copilot">github-copilot</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/github-codespaces">github-codespaces</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/30DaysOfIA/tags/github-actions">github-actions</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Cloud-Native/30DaysOfIA/tags/community-buzz/page/11"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Cloud-Native/30DaysOfIA/tags/community-buzz/page/13"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://learn.microsoft.com/ai?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">AI</a><span class="footer__link-separator">¬∑</span><a href="https://azure.microsoft.com/solutions/cloud-native-apps/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud-Native</a><span class="footer__link-separator">¬∑</span><a href="https://azure.microsoft.com/solutions/serverless/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Serverless</a><span class="footer__link-separator">¬∑</span><a href="https://aka.ms/CNNY/collection?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Collection</a><span class="footer__link-separator">¬∑</span><a href="https://developer.microsoft.com/java/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Java</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/javascript/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaScript</a><span class="footer__link-separator">¬∑</span><a href="https://dotnet.microsoft.com/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">.NET</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/azure/developer/python/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python</a></div></div></div></footer><footer><div></div></footer></div>
</body>
</html>