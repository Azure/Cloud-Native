<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/blog/rss.xml" title="Building Cloud Native Apps RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/blog/atom.xml" title="Building Cloud Native Apps Atom Feed">




<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/d61n997vq9",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><title data-rh="true">12 posts tagged with &quot;azure-container-apps&quot; | Building Cloud Native Apps</title><meta data-rh="true" property="og:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta data-rh="true" property="og:url" content="https://azure.github.io/Cloud-Native/blog/tags/azure-container-apps/page/7"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="12 posts tagged with &quot;azure-container-apps&quot; | Building Cloud Native Apps"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="twitter:url" content="https://azure.github.io/Cloud-Native/blog/11-scaling-container-apps"><meta data-rh="true" name="twitter:title" content="#30DaysOfServerless: Scaling Your Container Apps"><meta data-rh="true" name="twitter:description" content="#30DaysOfServerless: Scaling Your Container Apps"><meta data-rh="true" name="twitter:image" content="http://localhost:3000/Cloud-Native/assets/images/banner-3e6ce6ac4f59bb1c536972dced457df3.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@nitya"><meta data-rh="true" name="twitter:site" content="@AzureAdvocates"><link data-rh="true" rel="icon" href="/Cloud-Native/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/azure-container-apps/page/7" hreflang="en"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/azure-container-apps/page/7" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://azure.github.io/Cloud-Native/blog/11-scaling-container-apps"><link rel="stylesheet" href="/Cloud-Native/assets/css/styles.775e7648.css">
<link rel="preload" href="/Cloud-Native/assets/js/runtime~main.a608ce52.js" as="script">
<link rel="preload" href="/Cloud-Native/assets/js/main.f52649f9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#ffb900;color:#000000" role="banner"><div class="announcementBarContent_xLdY"><b> Take the <a href="https://docs.microsoft.com/learn/challenges?id=b950cd7a-d456-46ab-81ba-3bd1ad86dc1c&WT.mc_id=javascript-74010-ninarasi"><b>Cloud Skills Challenge!</b></a> - Give us <a href="https://github.com/azure/cloud-native"><b>üåü on GitHub</b></a> </b> </div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Cloud-Native/"><div class="navbar__logo"><img src="/Cloud-Native/img/logo.png" alt="Azure Cloud Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Cloud-Native/img/logo.png" alt="Azure Cloud Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cloud Native</b></a><a class="navbar__item navbar__link" href="/Cloud-Native/serverless-september/">üçÇ #ServerlessSeptember</a><a class="navbar__item navbar__link" href="/Cloud-Native/calendar/">Events</a><a href="https://aka.ms/serverless-september/videos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Videos</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Cloud-Native/blog">Blog</a><a href="https://github.com/Azure/Cloud-Native/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussions</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Sitemap</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/serverless-september/ServerlessHacks">1. Serverless Hacks</a></li><li><a class="dropdown__link" href="/Cloud-Native/serverless-september/CloudSkills">2. Cloud Skills Challenge</a></li><li><a class="dropdown__link" href="/Cloud-Native/serverless-september/ZeroToHero">3. Zero To Hero</a></li><li><a class="dropdown__link" href="/Cloud-Native/serverless-september/AskTheExpert">4. Ask The Expert</a></li><li><a class="dropdown__link" href="/Cloud-Native/serverless-september/CommunityBuzz">5. Community Buzz</a></li><li><a class="dropdown__link" href="/Cloud-Native/serverless-september/30DaysOfServerless">6. #30DaysOfServerless</a></li><li><a class="dropdown__link" href="/Cloud-Native/blog">7. Blog</a></li><li><a class="dropdown__link" href="/Cloud-Native/docs/videos/intro">8. Videos</a></li><li><a class="dropdown__link" href="/Cloud-Native/docs/resources/intro">9. Resources</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Archives</a><ul class="dropdown__menu"><li><a href="https://dev.to/azure/serverlessseptember-2020-content-collection-443k" target="_blank" rel="noopener noreferrer" class="dropdown__link">2020 Content<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://dev.to/azure/serverless-september-content-collection-2fhb" target="_blank" rel="noopener noreferrer" class="dropdown__link">2019 Content<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/azure/cloud-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent Articles</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/welcome">Hello, ServerlessSeptember</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/students">Welcome Students!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/01-kickoff">01. It&#x27;s 30DaysOfServerless!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/02-functions-intro">02. Learn Core Concepts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/03-functions-quickstart">03. Build Your First Function</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/04-functions-java">04. Functions For Java Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/05-functions-js">05. Functions for JS Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-01">üöÄ | Go Cloud Native with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-02">üöÄ | Durable Entities Walkthrough</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/06-functions-dotnet">06. Functions for .NET Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/07-functions-python">07. Functions for Python Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/08-functions-azure">08. Functions + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/09-aca-fundamentals">09. Hello, Azure Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/microservices-10">10. Microservices Communication</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/11-scaling-container-apps">11. Scaling Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-04">üöÄ | Journey to the Cloud With ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-03">üöÄ | Use Custom Handlers For Go</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/12-build-with-dapr">12. Build With Dapr!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/13-aca-managed-id">13. Secrets + Managed Identity</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-06">üöÄ | Observability with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-05">üöÄ | Error Handling w/ Apache Kafka</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-07">üöÄ | Monitor + Troubleshoot Apps</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>12 posts tagged with &quot;azure-container-apps&quot;</h1><a href="/Cloud-Native/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://azure.github.io/Cloud-Native/assets/images/banner-3e6ce6ac4f59bb1c536972dced457df3.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/Cloud-Native/blog/11-scaling-container-apps">11. Scaling Container Apps</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-11T00:00:00.000Z" itemprop="datePublished">September 11, 2022</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pauldotyu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pauldotyu.png" alt="Paul Yu"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/pauldotyu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Paul Yu</span></a></div><small class="avatar__subtitle" itemprop="description">Cloud Native Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><hr><p>Welcome to <code>Day 11</code> of #30DaysOfServerless!</p><p>Yesterday we explored Azure Container Concepts related to environments, networking and microservices communication - and illustrated these with a deployment example. Today, we turn our attention to <em>scaling</em> your container apps with demand.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>What makes ACA Serverless?</li><li>What is Keda?</li><li>Scaling Your ACA</li><li>ACA Scaling In Action</li><li>Exercise: Explore <a href="https://aka.ms/oss-labs" target="_blank" rel="noopener noreferrer">azure-opensource-labs</a> examples</li><li>Resources: For self-study!</li></ul><p><img loading="lazy" src="/Cloud-Native/assets/images/banner-3e6ce6ac4f59bb1c536972dced457df3.png" width="1600" height="672" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-what-makes-azure-container-apps-serverless">So, what makes Azure Container Apps &quot;serverless&quot;?<a class="hash-link" href="#so-what-makes-azure-container-apps-serverless" title="Direct link to heading">‚Äã</a></h2><p>Today we are going to focus on what makes Azure Container Apps (ACA) a &quot;serverless&quot; offering. But what does the term &quot;<em>serverless</em>&quot; really mean? As much as we&#x27;d like to think there aren&#x27;t any servers involved, that is certainly not the case. In general, &quot;serverless&quot; means that most (if not all) server maintenance has been abstracted away from you.</p><p>With serverless, you don&#x27;t spend any time managing and patching servers. This concern is offloaded to Azure and you simply focus on adding business value through application delivery. In addition to operational efficiency, cost efficiency can be achieved with serverless on-demand pricing models. Your workload horizontally scales out based on need and you only pay for what you use. To me, this is <strong>serverless</strong>, and my teammate <a href="https://github.com/smurawski" target="_blank" rel="noopener noreferrer">@StevenMurawski</a> said it best... &quot;<em>being able to <strong>scale to zero </strong>is what gives ACA it&#x27;s serverless magic</em>.&quot;</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scaling-your-container-apps">Scaling your Container Apps<a class="hash-link" href="#scaling-your-container-apps" title="Direct link to heading">‚Äã</a></h2><p>If you don&#x27;t know by now, ACA is built on a solid open-source foundation. Behind the scenes, it runs on a managed Kubernetes cluster and includes several open-source components out-of-the box including <a href="https://dapr.io/" target="_blank" rel="noopener noreferrer">Dapr</a> to help you build and run microservices, <a href="https://www.envoyproxy.io/" target="_blank" rel="noopener noreferrer">Envoy Proxy</a> for ingress capabilities, and <a href="https://keda.sh/" target="_blank" rel="noopener noreferrer">KEDA</a> for event-driven autoscaling. Again, you do not need to install these components yourself. All you need to be concerned with is enabling and/or configuring your container app to leverage these components.</p><p>Let&#x27;s take a closer look at autoscaling in ACA to help you optimize your container app.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-keda">What is KEDA?<a class="hash-link" href="#what-is-keda" title="Direct link to heading">‚Äã</a></h3><p>KEDA stands for <strong>K</strong>ubernetes <strong>E</strong>vent-<strong>D</strong>riven <strong>A</strong>utoscaler. It is an open-source project initially started by Microsoft and Red Hat and has been donated to the <a href="https://www.cncf.io/" target="_blank" rel="noopener noreferrer">Cloud Native Computing Foundation (CNCF)</a>. It is being maintained by a <a href="https://keda.sh/community/" target="_blank" rel="noopener noreferrer">community of 200+ contributors and adopted by many large organizations</a>. In terms of its status as a CNCF project it is currently in the <a href="https://github.com/cncf/toc/blob/main/process/graduation_criteria.md#incubating-stage" target="_blank" rel="noopener noreferrer"><strong>Incubating Stage</strong></a> which means the project has gone through significant due diligence and on its way towards the <a href="https://github.com/cncf/toc/blob/main/process/graduation_criteria.md#graduation-stage" target="_blank" rel="noopener noreferrer"><strong>Graduation Stage</strong></a>.</p><p>Prior to KEDA, horizontally scaling your Kubernetes deployment was achieved through the <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" target="_blank" rel="noopener noreferrer">Horizontal Pod Autoscaler (HPA)</a> which relies on resource metrics such as CPU and memory to determine when additional replicas should be deployed. Being limited to CPU and memory falls a bit short for certain workloads. This is especially true for apps that need to processes messages from a queue or HTTP-based apps that can handle a specific amount of incoming HTTP requests at a time. KEDA aims to fill that gap and provides a much more robust framework for scaling by working in conjunction with HPA. It offers many <a href="https://keda.sh/docs/scalers/" target="_blank" rel="noopener noreferrer">scalers</a> for you to implement and even allows your deployments to <strong>scale to zero</strong>! ü•≥</p><p><img loading="lazy" alt="KEDA architecture" src="/Cloud-Native/assets/images/keda-arch-78fe1c48e2a47e18e6a933d96b90450a.png" width="1183" height="966" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-aca-scale-rules">Configuring ACA scale rules<a class="hash-link" href="#configuring-aca-scale-rules" title="Direct link to heading">‚Äã</a></h3><p>As I mentioned above, ACA&#x27;s autoscaling feature leverages KEDA and gives you the ability to configure the number of replicas to deploy based on rules (event triggers). The number of replicas can be configured as a static number or a range (minimum and maximum). So if you need your containers to run 24/7, set the min and max to be the same value. By default, when you deploy a container app, it is set to scale from 0 to 10 replicas. The default scaling rule uses <strong>HTTP scaling</strong> and defaults to a <a href="https://docs.microsoft.com/azure/container-apps/scale-app#http" target="_blank" rel="noopener noreferrer">minimum of 10 concurrent requests</a> per second. Once the threshold of 10 concurrent request per second is met, another replica will be deployed until it reaches the maximum number of replicas.</p><blockquote><p>At the time of this writing, a container app can have up to 30 replicas.</p></blockquote><p><img loading="lazy" alt="Default autoscaler" src="/Cloud-Native/assets/images/default-autoscaler-0be6a2dc11199a7e41b54c6902c80cf1.png" width="908" height="724" class="img_ev3q"></p><p>As a best practice, if you have a <strong>Min / max replicas</strong> range configured, you should configure a scaling rule even if it is just explicitly setting the default values.</p><p><img loading="lazy" alt="Adding HTTP scaling rule" src="/Cloud-Native/assets/images/http-rule-0bab06ac77d779fb39cb439bd5e8d40f.png" width="896" height="723" class="img_ev3q"></p><p>In addition to <strong>HTTP scaling</strong>, you can also configure an <strong>Azure queue</strong> rule, which allows you to use <a href="https://docs.microsoft.com/azure/storage/queues/storage-queues-introduction" target="_blank" rel="noopener noreferrer">Azure Storage Queues</a> as an event data source.</p><p><img loading="lazy" alt="Adding Azure Queue scaling rule" src="/Cloud-Native/assets/images/queue-rule-3405f4470633607d27599bedf3698d3f.png" width="890" height="725" class="img_ev3q"></p><p>The most flexibility comes with the <strong>Custom</strong> rule type. This opens up a LOT more options for scaling. All of <a href="https://keda.sh/docs/scalers/" target="_blank" rel="noopener noreferrer">KEDA&#x27;s event-based scalers</a> are supported with this option üöÄ</p><p><img loading="lazy" alt="Adding Custom scaling rule" src="/Cloud-Native/assets/images/custom-rule-8b8243abebed96f7510e03e130741648.png" width="894" height="723" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="translating-keda-templates-to-azure-templates">Translating KEDA templates to Azure templates<a class="hash-link" href="#translating-keda-templates-to-azure-templates" title="Direct link to heading">‚Äã</a></h3><p>When you implement <strong>Custom</strong> rules, you need to become familiar with translating KEDA templates to <a href="https://docs.microsoft.com/azure/container-apps/azure-resource-manager-api-spec?tabs=arm-template" target="_blank" rel="noopener noreferrer">Azure Resource Manager templates</a> or <a href="https://docs.microsoft.com/azure/container-apps/azure-resource-manager-api-spec?tabs=yaml" target="_blank" rel="noopener noreferrer">ACA YAML manifests</a>. The <a href="https://keda.sh/docs/scalers/" target="_blank" rel="noopener noreferrer">KEDA scaler</a> documentation is great and it should be simple to translate KEDA template <code>metadata</code> to an ACA rule <code>metadata</code>.</p><p>The images below shows how to translated a scaling rule which uses Azure Service Bus as an event data source. The custom rule type is set to <code>azure-servicebus</code> and details of the service bus is added to the Metadata section. One important thing to note here is that the connection string to the service bus was added as a secret on the container app and the trigger parameter must be set to <code>connection</code>.</p><p><img loading="lazy" alt="Azure Container App custom rule metadata" src="/Cloud-Native/assets/images/keda-metadata-cb6407e6b7c4f9265d18904fd60f417a.png" width="1169" height="885" class="img_ev3q"></p><p><img loading="lazy" alt="Azure Container App custom rule metadata" src="/Cloud-Native/assets/images/aca-metadata-0e2c72a8f725a134927c493dde7d6c3e.png" width="1167" height="888" class="img_ev3q"></p><p>Additional examples of KEDA scaler conversion can be found in the resources section and example video below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="see-container-app-scaling-in-action">See Container App scaling in action<a class="hash-link" href="#see-container-app-scaling-in-action" title="Direct link to heading">‚Äã</a></h2><p>Now that we&#x27;ve built up some foundational knowledge on how ACA autoscaling is implemented and configured, let&#x27;s look at a few examples.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="autoscaling-based-on-http-traffic-load">Autoscaling based on HTTP traffic load<a class="hash-link" href="#autoscaling-based-on-http-traffic-load" title="Direct link to heading">‚Äã</a></h3><div style="padding:56.25% 0 0 0;position:relative"><iframe src="https://player.vimeo.com/video/746678347?h=8f5ada4431&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" style="position:absolute;top:0;left:0;width:100%;height:100%" title="http-scaling"></iframe></div><script src="https://player.vimeo.com/api/player.js"></script><h3 class="anchor anchorWithStickyNavbar_LWe7" id="autoscaling-based-on-azure-service-bus-message-queues">Autoscaling based on Azure Service Bus message queues<a class="hash-link" href="#autoscaling-based-on-azure-service-bus-message-queues" title="Direct link to heading">‚Äã</a></h3><div style="padding:56.25% 0 0 0;position:relative"><iframe src="https://player.vimeo.com/video/746678266?h=89701121ed&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" style="position:absolute;top:0;left:0;width:100%;height:100%" title="event-driven-scaling.mp4"></iframe></div><script src="https://player.vimeo.com/api/player.js"></script><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">‚Äã</a></h2><p>ACA brings you a true serverless experience and gives you the ability to configure autoscaling rules based on KEDA scaler templates. This gives you flexibility to scale based on a wide variety of data sources in an event-driven manner. With the amount built-in scalers currently available, there is probably a scaler out there for all your use cases. If not, I encourage you to get involved with the <a href="https://keda.sh/community/" target="_blank" rel="noopener noreferrer">KEDA community</a> and help make it better!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercise">Exercise<a class="hash-link" href="#exercise" title="Direct link to heading">‚Äã</a></h2><p>By now, you&#x27;ve probably read and seen enough and now ready to give this autoscaling thing a try. The example I walked through in the videos above can be found at the <a href="https://aka.ms/oss-labs" target="_blank" rel="noopener noreferrer">azure-opensource-labs</a> repo. I highly encourage you to head over to the <a href="https://github.com/Azure-Samples/azure-opensource-labs/tree/main/cloud-native/containerapps-terraform" target="_blank" rel="noopener noreferrer">containerapps-terraform</a> folder and try the lab out. There you&#x27;ll find instructions which will cover all the steps and tools you&#x27;ll need implement autoscaling container apps within your own Azure subscription.</p><p>If you have any questions or feedback, please let us know in the comments below or reach out on Twitter <a href="https://twitter.com/pauldotyu" target="_blank" rel="noopener noreferrer">@pauldotyu</a></p><p>Have fun scaling your containers!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://docs.microsoft.com/azure/container-apps/scale-app" target="_blank" rel="noopener noreferrer">Set scaling rules in Azure Container Apps</a></li><li><a href="https://keda.sh/" target="_blank" rel="noopener noreferrer">Kubernetes Event-driven Autoscaling (KEDA)</a></li><li><a href="https://keda.sh/docs/scalers/" target="_blank" rel="noopener noreferrer">KEDA Scalers</a></li><li><a href="https://docs.microsoft.com/azure/container-apps/scale-app#keda-scalers-conversion" target="_blank" rel="noopener noreferrer">KEDA scalers conversion</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/serverless-september">serverless-september</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/30-days-of-serverless">30-days-of-serverless</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/azure-container-apps">azure-container-apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/keda">keda</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/autoscaling">autoscaling</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Cloud-Native/blog/tags/azure-container-apps/page/6"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Cloud-Native/blog/tags/azure-container-apps/page/8"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://azure.microsoft.com/solutions/cloud-native-apps/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Native</a><span class="footer__link-separator">¬∑</span><a href="https://azure.microsoft.com/solutions/serverless/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Serverless</a><span class="footer__link-separator">¬∑</span><a href="https://aka.ms/30DaysOf" target="_blank" rel="noopener noreferrer" class="footer__link-item">#30DaysOf</a><span class="footer__link-separator">¬∑</span><a href="https://developer.microsoft.com/java/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Java</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/javascript/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaScript</a><span class="footer__link-separator">¬∑</span><a href="https://dotnet.microsoft.com/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">.NET</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/azure/developer/python/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python</a><span class="footer__link-separator">¬∑</span><a href="https://privacy.microsoft.com/privacystatement" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Statement </a><span class="footer__link-separator">¬∑</span><a href="https://microsoft.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Copyright ¬© 2022 Microsoft</a></div></div></div></footer></div>
<script src="/Cloud-Native/assets/js/runtime~main.a608ce52.js"></script>
<script src="/Cloud-Native/assets/js/main.f52649f9.js"></script>
</body>
</html>