<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">20 posts tagged with &quot;30-days-of-serverless&quot; | Build Intelligent Apps On Azure</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta data-rh="true" property="og:url" content="https://azure.github.io/Cloud-Native/blog/tags/30-days-of-serverless/page/6"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:title" content="#IntelligentApps start today | Microsoft Azure"><meta data-rh="true" name="og:description" content="Develop adaptive, responsive, and personalized experiences by building and modernizing intelligent applications with Azure!"><meta data-rh="true" name="og:url" content="https://aka.ms/FallForIA"><meta data-rh="true" name="awa-env" content="Production"><meta data-rh="true" property="og:title" content="20 posts tagged with &quot;30-days-of-serverless&quot; | Build Intelligent Apps On Azure"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="twitter:url" content="https://azure.github.io/Cloud-Native/blog/18-cloudmail"><meta data-rh="true" name="twitter:title" content="#30DaysOfServerless: Logic Apps + Computer Vision"><meta data-rh="true" name="twitter:description" content="#30DaysOfServerless: Logic Apps + Computer Vision"><meta data-rh="true" name="twitter:image" content="https://azure.github.io/Cloud-Native/img/banners/post-kickoff.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@nitya"><meta data-rh="true" name="twitter:site" content="@AzureAdvocates"><link data-rh="true" rel="icon" href="/Cloud-Native/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/30-days-of-serverless/page/6" hreflang="en"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/30-days-of-serverless/page/6" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://azure.github.io/Cloud-Native/blog/18-cloudmail"><link rel="alternate" type="application/rss+xml" href="/Cloud-Native/blog/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/blog/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">





<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/cnny-2023/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/cnny-2023/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/30DaysOfIA/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/30DaysOfIA/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/60DaysOfIA/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/60DaysOfIA/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/30-days-of-ia-2024/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/30-days-of-ia-2024/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/d61n997vq9",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js"></script><link rel="stylesheet" href="/Cloud-Native/assets/css/styles.7dd1929c.css">
<script src="/Cloud-Native/assets/js/runtime~main.693d3221.js" defer="defer"></script>
<script src="/Cloud-Native/assets/js/main.9cf645b3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><header><div></div></header><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/Cloud-Native/"></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="announcementBarBackground_Iz1u"><div class="container"><div class="row"><div class="col col--8 col--offset-2 announcementBarContainer_QNjo"><div class="col-demo"><p class="announcementBarContent_tvcd">Learn to use <a class="announcementLink_qKCm" target="_blank" href="https://developer.microsoft.com/reactor/events/23599/?ocid=biafy25h1_cn_webpage_azuremktg" data-bi-area="AnnouncementBar" data-bi-name="Announcement">Azure Functions OpenAI to ingest your own content</a> | Give us a ðŸŒŸ <a class="announcementLink_qKCm" target="_blank" href="https://github.com/azure/cloud-native" data-bi-area="AnnouncementBar" data-bi-name="Give us a star on GitHub">on GitHub</a></p></div></div><div class="col col--2 announcementBarIconContainer_GQot"><div class="col-demo"><a href="https://github.com/azure/cloud-native" target="_blank" class="icon_QeTG" aria-label="Visit us on GitHub"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a href="https://azure.github.io/Cloud-Native/60DaysOfIA/rss.xml" target="_blank" class="icon_QeTG" aria-label="Subscribe to RSS"><svg width="24" height="24" viewBox="0 0 333333 333333" xmlns="http://www.w3.org/2000/svg" fill="#f49c4f"><path d="M166667 0c92048 0 166667 74619 166667 166667s-74619 166667-166667 166667S0 258715 0 166667 74619 0 166667 0zm-57698 203357c-11551 0-20938 9418-20938 20897 0 11537 9386 20857 20938 20857 11587 0 20967-9320 20967-20857 0-11479-9378-20897-20967-20897zm-20918-61899v30148c19632 0 38081 7677 51977 21585 13883 13868 21548 32406 21548 52114h30276c0-57254-46585-103838-103801-103838v-9zm38-53431v30154c70007 0 126979 57031 126979 127116l30235 3c0-86697-70539-157270-157212-157270l-2-3z"></path></svg></a><svg viewBox="0 0 24 24" width="24" height="24" class="icon_Kj6K"><path fill="white" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg></div></div></div></div></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">#30DaysOfServerless</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/29-awesome-azd">Oct | `awesome-azd` Templates</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/serverless-status-post">Serverless September - In a Nutshell</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/29-azure-developer-cli">29. Code to Cloud with `azd`</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/28-where-am-i">28. Serverless + Power Platforms</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-07">ðŸš€ | Monitor + Troubleshoot Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/25-aca-java">25. Deploy Spring Boot App to ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/24-aca-dotnet">24. Deploy ASP.NET app to ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/21-cloudevents-via-event-grid">21. CloudEvents with Event Grid</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/20-events-graph">20. Integrate with Microsoft Graph</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-05">ðŸš€ | Error Handling w/ Apache Kafka</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-06">ðŸš€ | Observability with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/18-cloudmail">18. Logic Apps + Computer Vision</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/17-integrate-cosmosdb">17. Logic Apps + Cosmos DB</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/15-microservices-azure">15. ACA + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/14-dapr-aca-quickstart">14. Build ACA with Dapr</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/13-aca-managed-id">13. Secrets + Managed Identity</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/12-build-with-dapr">12. Build With Dapr!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-03">ðŸš€ | Use Custom Handlers For Go</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-04">ðŸš€ | Journey to the Cloud With ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/11-scaling-container-apps">11. Scaling Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/microservices-10">10. Microservices Communication</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/09-aca-fundamentals">09. Hello, Azure Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/08-functions-azure">08. Functions + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/07-functions-python">07. Functions for Python Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/06-functions-dotnet">06. Functions for .NET Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-02">ðŸš€ | Durable Entities Walkthrough</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-01">ðŸš€ | Go Cloud-Native with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/05-functions-js">05. Functions for JS Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/04-functions-java">04. Functions For Java Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/03-functions-quickstart">03. Build Your First Function</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/02-functions-intro">02. Learn Core Concepts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/01-kickoff">01. It&#x27;s 30DaysOfServerless!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/students">Welcome Students!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/welcome">Hello, ServerlessSeptember</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>20 posts tagged with &quot;30-days-of-serverless&quot;</h1><a href="/Cloud-Native/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="&lt;FIXME&gt;"><link itemprop="image" href="https://azure.github.io/Cloud-Native/assets/images/banner-e7cc7a75c1dd0c42170942a9186aeee3.png"><meta itemprop="keywords" content="azure,functions,serverless,concepts,storage,cosmosdb,computervision"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/Cloud-Native/blog/18-cloudmail">18. Logic Apps + Computer Vision</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-18T00:00:00.000Z" itemprop="datePublished">September 18, 2022</time> Â· <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/bbenz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/bbenz.png" alt="Brian Benz" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/bbenz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brian Benz</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<hr>
<p>Welcome to <code>Day 18</code> of #30DaysOfServerless!</p>
<p>Yesterday my Serverless September post introduced you to making Azure Logic Apps and Azure Cosmos DB work together with a sample application that collects weather data.  Today I&#x27;m sharing a more robust solution that actually reads my mail.  Let&#x27;s learn about <strong>Teaching the cloud to read your mail!</strong></p>
<p>Ready? Let&#x27;s go!</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We&#x27;ll Cover<a href="#what-well-cover" class="hash-link" aria-label="Direct link to What We&#x27;ll Cover" title="Direct link to What We&#x27;ll Cover">â€‹</a></h2>
<ul>
<li>Introduction to the ReadMail solution</li>
<li>Setting up Azure storage, Cosmos DB and Computer Vision</li>
<li>Connecting it all together with a Logic App</li>
<li>Resources: For self-study!</li>
</ul>
<p><img loading="lazy" src="/Cloud-Native/assets/images/banner-e7cc7a75c1dd0c42170942a9186aeee3.png" width="1600" height="672" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introducing-the-readmail-solution">Introducing the ReadMail solution<a href="#introducing-the-readmail-solution" class="hash-link" aria-label="Direct link to Introducing the ReadMail solution" title="Direct link to Introducing the ReadMail solution">â€‹</a></h2>
<p>The US Postal system offers <a href="https://informeddelivery.usps.com/" target="_blank" rel="noopener noreferrer">a subscription service</a> that sends you images of mail it will be delivering to your home.  I decided it would be cool to try getting Azure to collect data based on these images, so that I could categorize my mail and track the types of mail that I received.</p>
<p>To do this, I used Azure storage, Cosmos DB, Logic Apps, and computer vision.  When a new email comes in from the US Postal service (USPS), it triggers a logic app that:</p>
<ul>
<li>Posts attachments to Azure storage</li>
<li>Triggers Azure Computer vision to perform an OCR function on attachments</li>
<li>Extracts any results into a JSON document</li>
<li>Writes the JSON document to Cosmos DB</li>
</ul>
<p><img loading="lazy" alt="workflow for the readmail solution" src="/Cloud-Native/assets/images/readmailworkflow-e456d7ecabffc87c26955a45333118e5.png" width="2573" height="744" class="img_ev3q"></p>
<p>In this post I&#x27;ll walk you through setting up the solution for yourself.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Prerequisites</div><div class="admonitionContent_BuS1"><ul>
<li>Contributor or Owner permissions on an active Azure subscription.<!-- -->
<ul>
<li>Don&#x27;t have one? <a href="https://azure.microsoft.com/free/" target="_blank" rel="noopener noreferrer">Create an account for free</a>.</li>
</ul>
</li>
<li>A <a href="https://informeddelivery.usps.com/" target="_blank" rel="noopener noreferrer">USPS Informed Delivery account</a>.<!-- -->
<ul>
<li>Alternatively, any service that sends attached images via email</li>
</ul>
</li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-azure-services">Setup Azure Services<a href="#setup-azure-services" class="hash-link" aria-label="Direct link to Setup Azure Services" title="Direct link to Setup Azure Services">â€‹</a></h2>
<p>First, we&#x27;ll create all of the target environments we need to be used by our Logic App, then we;ll create the Logic App.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-azure-storage">1. Azure Storage<a href="#1-azure-storage" class="hash-link" aria-label="Direct link to 1. Azure Storage" title="Direct link to 1. Azure Storage">â€‹</a></h3>
<p>We&#x27;ll be using Azure storage to collect attached images from emails as they arrive.  Adding images to Azure storage will also trigger a workflow that performs OCR on new attached images and stores the OCR data in Cosmos DB.</p>
<p>To create a new Azure storage account from the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">portal dashboard</a>, Select <strong>Create a resource &gt; Storage account &gt; Create</strong>.</p>
<p>The <strong>Basics</strong> tab covers all of the features and information that we will need for this solution:</p>
<table><thead><tr><th>Section</th><th>Field</th><th>Required or optional</th><th>Description</th></tr></thead><tbody><tr><td>Project details</td><td>Subscription</td><td>Required</td><td>Select the subscription for the new storage account.</td></tr><tr><td>Project details</td><td>Resource group</td><td>Required</td><td>Create a new resource group that you will use for storage, Cosmos DB, Computer Vision and the Logic App.</td></tr><tr><td>Instance details</td><td>Storage account name</td><td>Required</td><td>Choose a unique name for your storage account. Storage account names must be between 3 and 24 characters in length and may contain numbers and lowercase letters only.</td></tr><tr><td>Instance details</td><td>Region</td><td>Required</td><td>Select the appropriate region for your storage account.</td></tr><tr><td>Instance details</td><td>Performance</td><td>Required</td><td>Select <strong>Standard</strong> performance for general-purpose v2 storage accounts (default).</td></tr><tr><td>Instance details</td><td>Redundancy</td><td>Required</td><td>Select <strong>locally-redundant Storage (LRS)</strong> for this example.</td></tr></tbody></table>
<p>Select <strong>Review + create</strong> to accept the remaining default options, then validate and create the account.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-azure-cosmosdb">2. Azure CosmosDB<a href="#2-azure-cosmosdb" class="hash-link" aria-label="Direct link to 2. Azure CosmosDB" title="Direct link to 2. Azure CosmosDB">â€‹</a></h3>
<p>CosmosDB will be used to store the JSON documents returned by the COmputer Vision OCR process.</p>
<blockquote>
<p>See more details and screen shots for setting up CosmosDB in yesterday&#x27;s Serverless September post - <strong>Using Logic Apps with Cosmos DB</strong></p>
</blockquote>
<p>To get started with Cosmos DB, you create an account, then a database, then a container to store JSON documents. To create a new Cosmos DB account from the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">portal dashboard</a>, Select <strong>Create a resource &gt; Azure Cosmos DB &gt; Create</strong>.  Choose <strong>core SQL</strong> for the API.</p>
<p>Select your subscription, then for simplicity use the same resource group you created when you set up storage.  Enter an account name and choose a location, select provisioned throughput capacity mode and apply the free tier discount. From here you can select <strong>Review and Create</strong>, then <strong>Create</strong></p>
<p>Next, create a new database and container. Go to the <strong>Data Explorer</strong> in your new Cosmos DB account, and choose <strong>New Container</strong>.  Name the database, and keep all the other defaults except:</p>
<table><thead><tr><th>Setting</th><th>Action</th></tr></thead><tbody><tr><td>Container ID</td><td>id</td></tr><tr><td>Container partition</td><td>/id</td></tr></tbody></table>
<p>Press <strong>OK</strong> to create a database and container</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-azure-computer-vision">3. Azure Computer Vision<a href="#3-azure-computer-vision" class="hash-link" aria-label="Direct link to 3. Azure Computer Vision" title="Direct link to 3. Azure Computer Vision">â€‹</a></h3>
<p>Azure Cognitive Services&#x27; <a href="https://azure.microsoft.com/products/cognitive-services/computer-vision/" target="_blank" rel="noopener noreferrer">Computer Vision</a> will perform an OCR process on each image attachment that is stored in Azure storage.</p>
<p>From the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">portal dashboard</a>, Select <strong>Create a resource &gt; AI + Machine Learning &gt; Computer Vision &gt; Create</strong>.</p>
<p>The <strong>Basics</strong> and <strong>Identity</strong> tabs cover all of the features and information that we will need for this solution:</p>
<p><strong>Basics Tab</strong></p>
<table><thead><tr><th>Section</th><th>Field</th><th>Required or optional</th><th>Description</th></tr></thead><tbody><tr><td>Project details</td><td>Subscription</td><td>Required</td><td>Select the subscription for the new service.</td></tr><tr><td>Project details</td><td>Resource group</td><td>Required</td><td>Use the same resource group that you used for Azure storage and Cosmos DB.</td></tr><tr><td>Instance details</td><td>Region</td><td>Required</td><td>Select the appropriate region for your Computer Vision service.</td></tr><tr><td>Instance details</td><td>Name</td><td>Required</td><td>Choose a unique name for your Computer Vision service.</td></tr><tr><td>Instance details</td><td>Pricing</td><td>Required</td><td>Select the free tier for this example.</td></tr></tbody></table>
<p><strong>Identity Tab</strong></p>
<table><thead><tr><th>Section</th><th>Field</th><th>Required or optional</th><th>Description</th></tr></thead><tbody><tr><td>System assigned managed identity</td><td>Status</td><td>Required</td><td>Enable system assigned identity to grant the resource access to other existing resources.</td></tr></tbody></table>
<p>Select <strong>Review + create</strong> to accept the remaining default options, then validate and create the account.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connect-it-all-with-a-logic-app">Connect it all with a Logic App<a href="#connect-it-all-with-a-logic-app" class="hash-link" aria-label="Direct link to Connect it all with a Logic App" title="Direct link to Connect it all with a Logic App">â€‹</a></h2>
<p>Now we&#x27;re ready to put this all together in a Logic App workflow!</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>1. Create Logic App</div></div>
<p>From the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">portal dashboard</a>, Select <strong>Create a resource &gt; Integration &gt; Logic App &gt; Create</strong>.  Name your Logic App and select a location, the rest of the settings can be left at their defaults.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>2. Create Workflow: Add Trigger</div></div>
<p>Once the Logic App is created, select <strong>Create a workflow from designer</strong>.</p>
<blockquote>
<p>A workflow is a series of steps that defines a task or process. Each workflow starts with a single trigger, after which you must add one or more actions.</p>
</blockquote>
<p>When in designer, search for <strong>outlook.com</strong> on the right under <strong>Add a trigger</strong>.  Choose <strong>outlook.com</strong>.  Choose
<strong>When a new email arrives</strong> as the trigger.</p>
<blockquote>
<p>A trigger is always the first step in any workflow and specifies the condition for running any further steps in that workflow.</p>
</blockquote>
<p>Set the following values:</p>
<table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Folder</td><td>Inbox</td></tr><tr><td>Importance</td><td>Any</td></tr><tr><td>Only With Attachments</td><td>Yes</td></tr><tr><td>Include Attachments</td><td>Yes</td></tr></tbody></table>
<p>Then add a new parameter:</p>
<table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>From</td><td>Add the email address that sends you the email with attachments</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>3. Create Workflow: Add Action (for Trigger)</div></div>
<p>Choose <strong>add an action</strong> and choose <strong>control &gt; for-each</strong>.</p>
<p><img loading="lazy" alt="logic app for each" src="/Cloud-Native/assets/images/logicappforeach-3b1e9d6ff4b39773b7d6b66aaf1a3445.png" width="1088" height="861" class="img_ev3q"></p>
<p>Inside the for-each action, in <strong>Select an output from previous steps</strong>, choose <strong>attachments</strong>.  Then, again inside the  for-each action, add the <strong>create blob</strong> action:</p>
<p>Set the following values:</p>
<table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Folder Path</td><td>/mailreaderinbox</td></tr><tr><td>Blob Name</td><td>Attachments Name</td></tr><tr><td>Blob Content</td><td>Attachments Content</td></tr></tbody></table>
<p>This extracts attachments from the email and created a new blob for each attachment.</p>
<p>Next, inside the same for-each action, add the <strong>get blob content</strong> action.</p>
<p>Set the following values:</p>
<table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Blob</td><td>id</td></tr><tr><td>Infer content type</td><td>Yes</td></tr></tbody></table>
<blockquote>
<p>We create and read from a blob for each attachment because Computer Vision needs a non-virtual source to read from when performing an OCR process. Because we enabled system assigned identity to grant Computer Vision to other existing resources, it can access the blob but not the outlook.com attachment.  Also, we pass the ID of the blob to use as a unique ID when writing to Cosmos DB.</p>
</blockquote>
<p><img loading="lazy" alt="create blob from attachments" src="/Cloud-Native/assets/images/createblobfromattachments-973aec90c10abe51b785a2353f4e1992.png" width="1225" height="1529" class="img_ev3q"></p>
<p>Next, inside the same for-each action, choose <strong>add an action</strong> and choose <strong>control &gt; condition</strong>. Set the value to <strong>Media Type &gt; is equal to &gt; image/JPEG</strong></p>
<blockquote>
<p>The USPS sends attachments of multiple types, but we only want to scan attachments that have images of our mail, which are always JPEG images. If the condition is true, we will process the image with Computer Vision OCR and write the results to a JSON document in CosmosDB.</p>
</blockquote>
<p>In the <strong>True</strong> section of the condition, add an action and choose <strong>Computer Vision API &gt; Optical Character Recognition (OCR) to JSON</strong>.</p>
<p>Set the following values:</p>
<table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Image Source</td><td>Image Content</td></tr><tr><td>Image content</td><td>File Content</td></tr></tbody></table>
<p>In the same <strong>True</strong> section of the condition, choose <strong>add an action</strong> and choose Cosmos DB.  Choose <strong>Create or Update Document</strong> from the actions.  Select <strong>Access Key</strong>, and provide the primary read-write key (found under keys in Cosmos DB), and the Cosmos DB account ID (without &#x27;documents.azure.com&#x27;).</p>
<p>Next, fill in your Cosmos DB Database ID and Collection ID.  Create a JSON document by selecting dynamic content elements and wrapping JSON formatting around them.</p>
<blockquote>
<p>Be sure to use the ID passed from blob storage as your unique ID for CosmosDB.  That way you can troubleshoot and JSON or OCR issues by tracing back the JSON document in Cosmos Db to the blob in Azure storage.  Also, include the Computer Vision JSON response, as it contains the results of the Computer Vision OCR scan.  all other elements are optional.</p>
</blockquote>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>4. TEST WORKFLOW</div></div>
<p>When complete, you should have an action the Logic App designer that looks something like this:</p>
<p><img loading="lazy" alt="Logic App workflow create or update document in cosmosdb" src="/Cloud-Native/assets/images/cosmoscreateorupdatedocument-359018e398dfed9dd6f41991a6b600f2.png" width="2042" height="1401" class="img_ev3q"></p>
<p>Save the workflow and test the connections by clicking <strong>Run Trigger &gt; Run</strong>.  If connections are working, you should see documents flowing into Cosmos DB each time that an email arrives with image attachments.</p>
<p>Check the data in Cosmos Db by opening the Data explorer, then choosing the container you created and selecting <strong>items</strong>.  You should see documents similar to this:</p>
<p><img loading="lazy" alt="Logic App workflow with trigger and action" src="/Cloud-Native/assets/images/readmailfinalresults-cf50ccd6301f2feebab1e9e7df3d4d70.png" width="2357" height="1325" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>1. Congratulations</div><div class="admonitionContent_BuS1"><p>You just built your personal ReadMail solution with Logic Apps! ðŸŽ‰</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources-for-self-study">Resources: For self-study!<a href="#resources-for-self-study" class="hash-link" aria-label="Direct link to Resources: For self-study!" title="Direct link to Resources: For self-study!">â€‹</a></h2>
<p>Once you have an understanding of the basics in ths post, there is so much more to learn!</p>
<ul>
<li>Check out the other <a href="https://azure.github.io/Cloud-Native/blog" target="_blank" rel="noopener noreferrer">Serverless September posts</a>.</li>
<li>For more detail about Cosmos DB, see the docs at <a href="https://learn.microsoft.com/azure/cosmos-db/" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/azure/cosmos-db/</a></li>
<li>For more info on Logic Apps, see the docs at <a href="https://learn.microsoft.com/azure/logic-apps/" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/azure/logic-apps/</a></li>
<li>For details on Azure Cognitive Services and Computer Vision, see <a href="https://azure.microsoft.com/products/cognitive-services/computer-vision/" target="_blank" rel="noopener noreferrer">https://azure.microsoft.com/products/cognitive-services/computer-vision/</a>.</li>
</ul>
<p>Thanks for stopping by!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/serverless-september">serverless-september</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/30-days-of-serverless">30-days-of-serverless</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/azure-container-apps">azure-container-apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/dapr">dapr</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/microservices">microservices</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Cloud-Native/blog/tags/30-days-of-serverless/page/5"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Cloud-Native/blog/tags/30-days-of-serverless/page/7"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer><div></div></footer></div>
</body>
</html>