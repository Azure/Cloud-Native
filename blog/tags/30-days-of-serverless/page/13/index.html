<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">20 posts tagged with &quot;30-days-of-serverless&quot; | Build Intelligent Apps On Azure</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta data-rh="true" property="og:url" content="https://azure.github.io/Cloud-Native/blog/tags/30-days-of-serverless/page/13"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:title" content="#IntelligentApps start today | Microsoft Azure"><meta data-rh="true" name="og:description" content="Develop adaptive, responsive, and personalized experiences by building and modernizing intelligent applications with Azure!"><meta data-rh="true" name="og:url" content="https://aka.ms/FallForIA"><meta data-rh="true" name="awa-env" content="Production"><meta data-rh="true" property="og:title" content="20 posts tagged with &quot;30-days-of-serverless&quot; | Build Intelligent Apps On Azure"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="twitter:url" content="https://azure.github.io/Cloud-Native/blog/microservices-10"><meta data-rh="true" name="twitter:title" content="#30DaysOfServerless: Microservices Communications with Azure Container Apps"><meta data-rh="true" name="twitter:description" content="#30DaysOfServerless: Microservices Communications with Azure Container Apps"><meta data-rh="true" name="twitter:image" content="https://azure.github.io/Cloud-Native/img/banners/post-kickoff.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@nitya"><meta data-rh="true" name="twitter:site" content="@AzureAdvocates"><link data-rh="true" rel="icon" href="/Cloud-Native/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/30-days-of-serverless/page/13" hreflang="en"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/30-days-of-serverless/page/13" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://azure.github.io/Cloud-Native/blog/microservices-10"><link rel="alternate" type="application/rss+xml" href="/Cloud-Native/blog/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/blog/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">





<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/cnny-2023/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/cnny-2023/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/30DaysOfIA/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/30DaysOfIA/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/60DaysOfIA/rss.xml" title="Build Intelligent Apps On Azure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/60DaysOfIA/atom.xml" title="Build Intelligent Apps On Azure Atom Feed">
<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/d61n997vq9",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js"></script><link rel="stylesheet" href="/Cloud-Native/assets/css/styles.f3055625.css">
<script src="/Cloud-Native/assets/js/runtime~main.2a340d79.js" defer="defer"></script>
<script src="/Cloud-Native/assets/js/main.7db8dfd7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><header><div></div></header><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Cloud-Native/"><div class="navbar__logo"><img src="/Cloud-Native/img/logo-2024.png" alt="Azure Cloud Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Cloud-Native/img/logo-2024.png" alt="Azure Cloud Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Cloud-Native</b></a><a class="navbar__item navbar__link" href="/Cloud-Native/Build-IA/">Home</a><a class="navbar__item navbar__link" href="/Cloud-Native/60DaysOfIA">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Intelligent Apps</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/Build-IA/">Build Intelligent Apps | 2024</a></li><li><a class="dropdown__link" href="/Cloud-Native/60DaysOfIA">#60DaysOfIA</a></li><li><a class="dropdown__link" href="/Cloud-Native/30DaysOfIA">#30DaysOfIA</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Cloud Native</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/New-Year/">ü•≥ | New Year 2023</a></li><li><a class="dropdown__link" href="/Cloud-Native/cnny-2023">#30DaysOfCloudNative</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Serverless</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/serverless-september">üçÇ September | 2022</a></li><li><a href="https://dev.to/azure/serverlessseptember-2020-content-collection-443k" target="_blank" rel="noopener noreferrer" class="dropdown__link">üçÇ September | 2020<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://dev.to/azure/serverless-september-content-collection-2fhb" target="_blank" rel="noopener noreferrer" class="dropdown__link">üçÇ September | 2019<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/Cloud-Native/blog">#30DaysOfServerless</a></li></ul></div><a href="https://github.com/azure/cloud-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://azure.github.io/Cloud-Native/60DaysOfIA/rss.xml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-rss-link" aria-label="Subscribe to RSS"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="announcementBarContainer_QNjo"><div class="announcementBarContent_tvcd">Meet the Azure team at <a class="announcementLink_qKCm" target="_blank" href="https://aka.ms/aks-day" data-bi-area="AnnouncementBar" data-bi-name="KubeCon + Azure Day">KubeCon + Azure Day</a> - Give us a üåü <a class="announcementLink_qKCm" target="_blank" href="https://github.com/azure/cloud-native" data-bi-area="AnnouncementBar" data-bi-name="Give us a star on GitHub">on GitHub</a></div></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">#30DaysOfServerless</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/29-awesome-azd">Oct | `awesome-azd` Templates</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/serverless-status-post">Serverless September - In a Nutshell</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/29-azure-developer-cli">29. Code to Cloud with `azd`</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/28-where-am-i">28. Serverless + Power Platforms</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-07">üöÄ | Monitor + Troubleshoot Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/25-aca-java">25. Deploy Spring Boot App to ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/24-aca-dotnet">24. Deploy ASP.NET app to ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/21-cloudevents-via-event-grid">21. CloudEvents with Event Grid</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/20-events-graph">20. Integrate with Microsoft Graph</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-05">üöÄ | Error Handling w/ Apache Kafka</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-06">üöÄ | Observability with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/18-cloudmail">18. Logic Apps + Computer Vision</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/17-integrate-cosmosdb">17. Logic Apps + Cosmos DB</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/15-microservices-azure">15. ACA + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/14-dapr-aca-quickstart">14. Build ACA with Dapr</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/13-aca-managed-id">13. Secrets + Managed Identity</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/12-build-with-dapr">12. Build With Dapr!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-03">üöÄ | Use Custom Handlers For Go</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-04">üöÄ | Journey to the Cloud With ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/11-scaling-container-apps">11. Scaling Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/microservices-10">10. Microservices Communication</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/09-aca-fundamentals">09. Hello, Azure Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/08-functions-azure">08. Functions + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/07-functions-python">07. Functions for Python Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/06-functions-dotnet">06. Functions for .NET Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-02">üöÄ | Durable Entities Walkthrough</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-01">üöÄ | Go Cloud-Native with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/05-functions-js">05. Functions for JS Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/04-functions-java">04. Functions For Java Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/03-functions-quickstart">03. Build Your First Function</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/02-functions-intro">02. Learn Core Concepts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/01-kickoff">01. It&#x27;s 30DaysOfServerless!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/students">Welcome Students!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/welcome">Hello, ServerlessSeptember</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>20 posts tagged with &quot;30-days-of-serverless&quot;</h1><a href="/Cloud-Native/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Continuing our journey into Azure Container Apps with a look at microservices hosting, and how they communicate with each other in the context of Azure Container Apps!"><link itemprop="image" href="https://azure.github.io/Cloud-Native/assets/images/banner-011f28077c2b653cb428e81b3645ca5b.png"><meta itemprop="keywords" content="azure,serverless,containers,microservices"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/Cloud-Native/blog/microservices-10">10. Microservices Communication</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-10T00:00:00.000Z" itemprop="datePublished">September 10, 2022</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pauldotyu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pauldotyu.png" alt="Paul Yu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/pauldotyu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Paul Yu</span></a></div><small class="avatar__subtitle" itemprop="description">Cloud-Native Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<hr>
<p>Welcome to <code>Day 10</code> of #30DaysOfServerless!</p>
<p>We continue our exploraton into Azure Container Apps, with today&#x27;s focus being <em>communication</em> between microservices, and how to configure your Azure Container Apps environment in the context of a deployment example.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We&#x27;ll Cover<a href="#what-well-cover" class="hash-link" aria-label="Direct link to What We&#x27;ll Cover" title="Direct link to What We&#x27;ll Cover">‚Äã</a></h2>
<ul>
<li>ACA Environments &amp; Virtual Networking</li>
<li>Basic Microservices Communications</li>
<li>Walkthrough: ACA Deployment Example</li>
<li>Summary and Next Steps</li>
<li>Exercise: Try this yourself!</li>
<li>Resources: For self-study!</li>
</ul>
<p><img loading="lazy" src="/Cloud-Native/assets/images/banner-011f28077c2b653cb428e81b3645ca5b.png" width="1600" height="672" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">‚Äã</a></h2>
<p>In yesterday&#x27;s post, we learned what the Azure Container Apps (ACA) service is and the problems it aims to solve. It is considered to be a Container-as-a-Service platform since much of the complex implementation details of running a Kubernetes cluster is managed for you.</p>
<p>Some of the use cases for ACA include event-driven processing jobs and background tasks, but this article will focus on hosting microservices, and how they can communicate with each other within the ACA service. At the end of this article, you will have a solid understanding of how networking and communication is handled and will leave you with a few tutorials to try.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environments-and-virtual-networking-in-aca">Environments and virtual networking in ACA<a href="#environments-and-virtual-networking-in-aca" class="hash-link" aria-label="Direct link to Environments and virtual networking in ACA" title="Direct link to Environments and virtual networking in ACA">‚Äã</a></h2>
<p>Before we jump into microservices communication, we should review how networking works within ACA. With ACA being a managed service, Azure will take care of most of your underlying infrastructure concerns. As you provision an ACA resource, Azure provisions an Environment to deploy Container Apps into. This environment is your isolation boundary.</p>
<p><img loading="lazy" src="https://docs.microsoft.com/azure/container-apps/media/environments/azure-container-apps-environments.png" alt="Azure Container Apps Environment" class="img_ev3q"></p>
<p>By default, Azure creates and manages a new Virtual Network (VNET) for you and the VNET is associated with the environment. As you deploy container apps, they are deployed into the same VNET and the environment is assigned a static public IP address which allows your apps to be accessible over the internet. This VNET is not visible or manageable.</p>
<p>If you need control of the networking flows within the VNET, you can pre-provision one and tell Azure to deploy an environment within it. This &quot;bring-your-own&quot; VNET model allows you to deploy an environment in either <strong>External</strong> or <strong>Internal</strong> modes. Deploying an environment in <strong>External</strong> mode gives you the flexibility of managing your own VNET, while still allowing your containers to be accessible from outside the environment; a static public IP address is assigned to the environment. When deploying in <strong>Internal</strong> mode, your containers are accessible within the environment and/or VNET but not accessible from the internet.</p>
<p>Bringing your own VNET will require some planning and you will need dedicate an empty subnet which will be used exclusively by the ACA environment. The size of your subnet will be dependant on how many containers you plan on deploying and your scaling requirements and one requirement to know is that the subnet address range must have have a <code>/23</code> CIDR prefix at minimum. You will also need to think about your deployment strategy since ACA has the concept of <strong>Revisions</strong> which will also consume IPs from your subnet.</p>
<p>Some additional restrictions to consider when planning your subnet address space is listed in the Resources section below and can be addressed in future posts, so be sure to follow us on <a href="https://dev.to/azure" target="_blank" rel="noopener noreferrer">dev.to</a> and bookmark the <a href="https://aka.ms/serverless-september" target="_blank" rel="noopener noreferrer">ServerlessSeptember</a> site.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-microservices-communication-in-aca">Basic microservices communication in ACA<a href="#basic-microservices-communication-in-aca" class="hash-link" aria-label="Direct link to Basic microservices communication in ACA" title="Direct link to Basic microservices communication in ACA">‚Äã</a></h2>
<p>When it comes to communications between containers, ACA addresses this concern with its <strong>Ingress</strong> capabilities. With <strong>HTTP Ingress</strong> enabled on your container app, you can expose your app on a HTTPS endpoint.</p>
<p>If your environment is deployed using default networking and your containers needs to be accessible from outside the environment, you will need to set the <strong>Ingress traffic</strong> option to <strong>Accepting traffic from anywhere</strong>. This will generate a Full-Qualified Domain Name (FQDN) which you can use to access your app right away. The ingress feature also generates and assigns a Secure Socket Layer (SSL) certificate for the FQDN.</p>
<p><img loading="lazy" alt="External ingress on Container App" src="/Cloud-Native/assets/images/external-ingress-a58989faae5a9d1d6dd0367a2bab4aa6.png" width="1145" height="961" class="img_ev3q"></p>
<p>If your environment is deployed using default networking and your containers only need to communicate with other containers in the environment, you&#x27;ll need to set the <strong>Ingress traffic</strong> option to <strong>Limited to Container Apps Environment</strong>. You get a FQDN here as well, but in the section below we&#x27;ll see how that changes.</p>
<p><img loading="lazy" alt="Internal ingress on Container App" src="/Cloud-Native/assets/images/internal-ingress-3213762a354d70c030a4f78f805d3d5b.png" width="1141" height="954" class="img_ev3q"></p>
<p>As mentioned in the networking section above, if you deploy your ACA environment into a VNET in <strong>internal</strong> mode, your options will be <strong>Limited to Container Apps Environment</strong> or <strong>Limited to VNet</strong>.</p>
<p><img loading="lazy" alt="Ingress on internal virtual network" src="/Cloud-Native/assets/images/internal-vnet-ingress-bc30bf6819a1bd37aa60f3f8f5f23001.png" width="2072" height="1596" class="img_ev3q"></p>
<blockquote>
<p>Note how the <strong>Accepting traffic from anywhere</strong> option is greyed out. If your VNET is deployed in <strong>external</strong> mode, then the option will be available.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lets-walk-though-an-example-aca-deployment">Let&#x27;s walk though an example ACA deployment<a href="#lets-walk-though-an-example-aca-deployment" class="hash-link" aria-label="Direct link to Let&#x27;s walk though an example ACA deployment" title="Direct link to Let&#x27;s walk though an example ACA deployment">‚Äã</a></h2>
<p>The diagram below illustrates a simple microservices application that I deployed to ACA. The three container apps all have ingress enabled. The <code>greeting-service</code> app calls two backend services; a <code>hello-service</code> that returns the text <strong>Hello</strong> (in random casing) and a <code>world-service</code> that returns the text <strong>World</strong> (in a few random languages). The greeting-service concatenates the two strings together and returns <strong>Hello World</strong> to the browser. The greeting-service is the only service accessible via external ingress while two backend services are only accessible via internal ingress.</p>
<p><img loading="lazy" alt="Greeting Service overview" src="/Cloud-Native/assets/images/greeting-service-overview-82b526122516cb01180da2f93577dde2.png" width="975" height="718" class="img_ev3q"></p>
<p>With ingress enabled, let&#x27;s take a quick look at the FQDN structures. Here is the FQDN of the <strong>external</strong> greeting-service.</p>
<p><code>https://greeting-service.victoriouswave-3749d046.eastus.azurecontainerapps.io</code></p>
<p>We can break it down into these components:</p>
<p><code>https://</code><strong>[YOUR-CONTAINER-APP-NAME]</strong><code>.</code><strong>[RANDOM-NAME]</strong><code>-</code><strong>[RANDOM-CHARACTERS]</strong><code>.</code><strong>[AZURE-REGION]</strong><code>.containerapps.io</code></p>
<p>And here is the FQDN of the <strong>internal</strong> hello-service.</p>
<p><code>https://hello-service.internal.victoriouswave-3749d046.eastus.azurecontainerapps.io</code></p>
<p>Can you spot the difference between FQDNs?</p>
<p>That was too easy üòâ... the word <code>internal</code> is added as a subdomain in the FQDN between your container app name and the random name for all internal ingress endpoints.</p>
<p><code>https://</code><strong>[YOUR-CONTAINER-APP-NAME]</strong><code>.internal.</code><strong>[RANDOM-NAME]</strong><code>-</code><strong>[RANDOM-CHARACTERS]</strong><code>.</code><strong>[AZURE-REGION]</strong><code>.containerapps.io</code></p>
<p>Now that we know the internal service FQDNs, we use them in the greeting-service app to achieve basic service-to-service communications.</p>
<p>So we can inject FQDNs of downstream APIs to upstream apps using environment variables, but the downside to this approach is that need to deploy downstream containers ahead of time and this dependency will need to be planned for during your deployment process. There are ways around this and one option is to leverage the auto-injected environment variables within your app code.</p>
<p>If I use the Console blade for the hello-service container app and run the <code>env</code> command, you will see environment variables named <code>CONTAINER_APP_NAME</code> and <code>CONTAINER_APP_ENV_DNS_SUFFIX</code>. You can use these values to determine FQDNs within your upstream app.</p>
<p><img loading="lazy" alt="hello-service environment variables" src="/Cloud-Native/assets/images/hello-service-b70e9c9ef34aac8e97e71d35d60a74bb.png" width="2342" height="1992" class="img_ev3q"></p>
<p>Back in the <code>greeting-service</code> container I can invoke the hello-service container&#x27;s <code>sayhello</code> method. I know the container app name is hello-service and this service is exposed over an internal ingress, therefore, if I add the <code>internal</code> subdomain to the <code>CONTAINER_APP_ENV_DNS_SUFFIX</code> I can invoke a HTTP request to the hello-service from my greeting-service container.</p>
<p><img loading="lazy" alt="Invoke the sayHello method from the greeting-service container" src="/Cloud-Native/assets/images/say-hello-5da6958b9234cb77ac10233e86aa8c35.png" width="1133" height="955" class="img_ev3q"></p>
<p>As you can see, the ingress feature enables communications to other container apps over HTTP/S and ACA will inject environment variables into our container to help determine what the ingress FQDNs would be. All we need now is a little bit of code modification in the greeting-service app and build the FQDNs of our backend APIs by retrieving these environment variables.</p>
<p><img loading="lazy" alt="Greeting service code" src="/Cloud-Native/assets/images/greeting-service-code-1cd635977624067366d2a9956fcb86ee.png" width="764" height="468" class="img_ev3q"></p>
<p>... and now we have a working microservices app on ACA! üéâ</p>
<p><img loading="lazy" alt="Hello World" src="/Cloud-Native/assets/images/aca-microservice-52095d278f64dc70345877580846389e.png" width="683" height="422" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary-and-next-steps">Summary and next steps<a href="#summary-and-next-steps" class="hash-link" aria-label="Direct link to Summary and next steps" title="Direct link to Summary and next steps">‚Äã</a></h2>
<p>We&#x27;ve covered Container Apps networking and the basics of how containers communicate with one another. However, there is a better way to address service-to-service invocation using Dapr, which is an open-source framework for building microservices. It is natively integrated into the ACA service and in a future post, you&#x27;ll learn how to enable it in your Container App to address microservices concerns and more. So stay tuned!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Direct link to Exercises" title="Direct link to Exercises">‚Äã</a></h2>
<p>As a takeaway for today&#x27;s post, I encourage you to complete this <a href="https://docs.microsoft.com/azure/container-apps/communicate-between-microservices?tabs=bash&amp;pivots=acr-remote" target="_blank" rel="noopener noreferrer">tutorial</a> and if you&#x27;d like to deploy the sample app that was presented in this article, my teammate <a href="https://github.com/smurawski" target="_blank" rel="noopener noreferrer">@StevenMurawski</a> is hosting a <a href="https://github.com/smurawski/docker-compose-examples" target="_blank" rel="noopener noreferrer">docker-compose-examples</a> repo which includes samples for deploying to ACA using Docker Compose files. To learn more about the <code>az containerapp compose</code> command, a link to his blog articles are listed in the Resources section below.</p>
<p>If you have any questions or feedback, please let us know in the comments below or reach out on Twitter <a href="https://twitter.com/pauldotyu" target="_blank" rel="noopener noreferrer">@pauldotyu</a></p>
<p>Have fun packing and shipping containers! See you in the next post!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">‚Äã</a></h2>
<ul>
<li><a href="https://docs.microsoft.com/azure/container-apps/communicate-between-microservices?tabs=bash&amp;pivots=acr-remote" target="_blank" rel="noopener noreferrer">Tutorial: Communication between microservices in Azure Container Apps</a></li>
<li><a href="https://github.com/smurawski/docker-compose-examples/tree/main/nodejs_greet" target="_blank" rel="noopener noreferrer">Tutorial: greeting-service (docker-compose-example)</a></li>
<li><a href="https://docs.microsoft.com/azure/container-apps/environment" target="_blank" rel="noopener noreferrer">Concept: Azure Container App Environments</a></li>
<li><a href="https://docs.microsoft.com/azure/container-apps/networking#http-edge-proxy-behavior" target="_blank" rel="noopener noreferrer">Concept: Azure Container App Ingress</a></li>
<li><a href="https://docs.microsoft.com/azure/container-apps/networking#restrictions" target="_blank" rel="noopener noreferrer">Concept: Azure Container App VNET Restrictions</a></li>
<li><a href="https://techcommunity.microsoft.com/t5/apps-on-azure-blog/accelerating-azure-container-apps-with-the-azure-cli-and-compose/ba-p/3516636" target="_blank" rel="noopener noreferrer">Blog: Accelerating Azure Container Apps with the Azure CLI and Compose Files</a></li>
<li><a href="https://techcommunity.microsoft.com/t5/apps-on-azure-blog/more-fun-with-azure-container-apps-and-compose-files/ba-p/3570234" target="_blank" rel="noopener noreferrer">Blog: More Fun with Azure Container Apps and Compose Files</a></li>
</ul>
<blockquote>
<p>The sample app presented here was inspired by services demonstrated in the book <a href="https://www.amazon.com/Introducing-Distributed-Application-Runtime-Dapr/dp/1484269977" target="_blank" rel="noopener noreferrer">Introducing Distributed Application Runtime (Dapr): Simplifying Microservices Applications Development Through Proven and Reusable Patterns and Practices</a>. Go check it out to leran more about Dapr!</p>
</blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/serverless-september">serverless-september</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/30-days-of-serverless">30-days-of-serverless</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/azure-container-apps">azure-container-apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/microservices">microservices</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/docker-compose">docker-compose</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Cloud-Native/blog/tags/30-days-of-serverless/page/12"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Cloud-Native/blog/tags/30-days-of-serverless/page/14"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://learn.microsoft.com/ai?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">AI</a><span class="footer__link-separator">¬∑</span><a href="https://azure.microsoft.com/solutions/cloud-native-apps/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud-Native</a><span class="footer__link-separator">¬∑</span><a href="https://azure.microsoft.com/solutions/serverless/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Serverless</a><span class="footer__link-separator">¬∑</span><a href="https://aka.ms/CNNY/collection?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Collection</a><span class="footer__link-separator">¬∑</span><a href="https://developer.microsoft.com/java/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Java</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/javascript/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaScript</a><span class="footer__link-separator">¬∑</span><a href="https://dotnet.microsoft.com/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">.NET</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/azure/developer/python/?ocid=buildia24_website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python</a></div></div></div></footer><footer><div></div></footer></div>
</body>
</html>