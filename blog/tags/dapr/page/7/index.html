<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/blog/rss.xml" title="Building Cloud-Native Apps RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/blog/atom.xml" title="Building Cloud-Native Apps Atom Feed">




<link rel="alternate" type="application/rss+xml" href="/Cloud-Native/cnny-2023/rss.xml" title="Building Cloud-Native Apps RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Cloud-Native/cnny-2023/atom.xml" title="Building Cloud-Native Apps Atom Feed">
<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/d61n997vq9",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><title data-rh="true">16 posts tagged with &quot;dapr&quot; | Building Cloud-Native Apps</title><meta data-rh="true" property="og:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"><meta data-rh="true" property="og:url" content="https://azure.github.io/Cloud-Native/blog/tags/dapr/page/7"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="16 posts tagged with &quot;dapr&quot; | Building Cloud-Native Apps"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="twitter:url" content="https://azure.github.io/Cloud-Native/blog/17-integrate-cosmosdb"><meta data-rh="true" name="twitter:title" content="#30DaysOfServerless: Azure Functions Fundamentals"><meta data-rh="true" name="twitter:description" content="#30DaysOfServerless: Azure Functions Fundamentals"><meta data-rh="true" name="twitter:image" content="https://azure.github.io/Cloud-Native/img/banners/post-kickoff.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@nitya"><meta data-rh="true" name="twitter:site" content="@AzureAdvocates"><link data-rh="true" rel="icon" href="/Cloud-Native/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/dapr/page/7" hreflang="en"><link data-rh="true" rel="alternate" href="https://azure.github.io/Cloud-Native/blog/tags/dapr/page/7" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://azure.github.io/Cloud-Native/blog/17-integrate-cosmosdb"><link rel="stylesheet" href="/Cloud-Native/assets/css/styles.fba8750f.css">
<link rel="preload" href="/Cloud-Native/assets/js/runtime~main.1d7f1b27.js" as="script">
<link rel="preload" href="/Cloud-Native/assets/js/main.ec60e08b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#0D032C;color:#ffffff" role="banner"><div class="announcementBarContent_xLdY"><b> Take the <a href="https://learn.microsoft.com/training/challenges?id=a0e385b9-f970-4182-b2e2-3b4619b6c356&WT.mc_id=javascript-84290-ninarasi"><b>Cloud Skills Challenge!</b></a> - Give us <a href="https://github.com/azure/cloud-native"><b>üåü on GitHub</b></a> </b> </div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Cloud-Native/"><div class="navbar__logo"><img src="/Cloud-Native/img/cnny23/logo.svg" alt="Azure Cloud Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Cloud-Native/img/cnny23/logo.svg" alt="Azure Cloud Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cloud-Native</b></a><a class="navbar__item navbar__link" href="/Cloud-Native/New-Year/">ü•≥ #CloudNativeNewYear</a><a class="navbar__item navbar__link" href="/Cloud-Native/cnny-2023">Blog</a><a class="navbar__item navbar__link" href="/Cloud-Native/New-Year/calendar">Calendar</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">üçÇ #ServerlessSeptember</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Cloud-Native/serverless-september">2022 Website</a></li><li><a href="https://dev.to/azure/serverlessseptember-2020-content-collection-443k" target="_blank" rel="noopener noreferrer" class="dropdown__link">2020 Content<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://dev.to/azure/serverless-september-content-collection-2fhb" target="_blank" rel="noopener noreferrer" class="dropdown__link">2019 Content<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/azure/cloud-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">#30DaysOfServerless</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/29-awesome-azd">Oct | `awesome-azd` Templates</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/serverless-status-post">Serverless September - In a Nutshell</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/29-azure-developer-cli">29. Code to Cloud with `azd`</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/28-where-am-i">28. Serverless + Power Platforms</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-07">üöÄ | Monitor + Troubleshoot Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/25-aca-java">25. Deploy Spring Boot App to ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/24-aca-dotnet">24. Deploy ASP.NET app to ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/21-cloudevents-via-event-grid">21. CloudEvents with Event Grid</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/20-events-graph">20. Integrate with Microsoft Graph</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-05">üöÄ | Error Handling w/ Apache Kafka</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-06">üöÄ | Observability with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/18-cloudmail">18. Logic Apps + Computer Vision</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/17-integrate-cosmosdb">17. Logic Apps + Cosmos DB</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/15-microservices-azure">15. ACA + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/14-dapr-aca-quickstart">14. Build ACA with Dapr</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/13-aca-managed-id">13. Secrets + Managed Identity</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/12-build-with-dapr">12. Build With Dapr!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-03">üöÄ | Use Custom Handlers For Go</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-04">üöÄ | Journey to the Cloud With ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/11-scaling-container-apps">11. Scaling Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/microservices-10">10. Microservices Communication</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/09-aca-fundamentals">09. Hello, Azure Container Apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/08-functions-azure">08. Functions + Serverless On Azure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/07-functions-python">07. Functions for Python Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/06-functions-dotnet">06. Functions for .NET Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-func-02">üöÄ | Durable Entities Walkthrough</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/zero2hero-aca-01">üöÄ | Go Cloud-Native with ACA</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/05-functions-js">05. Functions for JS Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/04-functions-java">04. Functions For Java Devs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/03-functions-quickstart">03. Build Your First Function</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/02-functions-intro">02. Learn Core Concepts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/01-kickoff">01. It&#x27;s 30DaysOfServerless!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/students">Welcome Students!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Cloud-Native/blog/welcome">Hello, ServerlessSeptember</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>16 posts tagged with &quot;dapr&quot;</h1><a href="/Cloud-Native/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://azure.github.io/Cloud-Native/assets/images/banner-285b55411e45272a99069fd37ec84557.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/Cloud-Native/blog/17-integrate-cosmosdb">17. Logic Apps + Cosmos DB</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-17T00:00:00.000Z" itemprop="datePublished">September 17, 2022</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/bbenz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/bbenz.png" alt="Brian Benz"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/bbenz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Brian Benz</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Cloud Advocate @Microsoft</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><hr><p>Welcome to <code>Day 17</code> of #30DaysOfServerless!</p><p>In past weeks, we&#x27;ve covered serverless technologies that provide core capabilities (functions, containers, microservices) for building serverless solutions. This week we&#x27;re looking at technologies that make <strong>service integrations</strong> more seamless, starting with <strong>Logic Apps</strong>. Let&#x27;s look at one usage example today!</p><p>Ready? Let&#x27;s Go!</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">‚Äã</a></h2><ul><li>Introduction to Logic Apps</li><li>Settng up Cosmos DB for Logic Apps</li><li>Setting up a Logic App connection and event</li><li>Writing data to Cosmos DB from a Logic app</li><li>Resources: For self-study!</li></ul><p><img loading="lazy" src="/Cloud-Native/assets/images/banner-285b55411e45272a99069fd37ec84557.png" width="1600" height="672" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-logic-apps">Introduction to Logic Apps<a class="hash-link" href="#introduction-to-logic-apps" title="Direct link to heading">‚Äã</a></h2><p>Previously in Serverless September, we&#x27;ve covered Azure Functions, where the event triggers code. In Logic Apps, the event triggers a workflow that you design. Logic Apps enable serverless applications to connect to external sources for data then automate business processes via workflows.</p><p>In this post I&#x27;ll walk you through setting up a Logic App that works with Cosmos DB.  For this example, we&#x27;ll connect to the MSN weather service, an design a logic app workflow that collects data when weather changes, and writes the data to Cosmos DB.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>PREREQUISITES</div><div class="admonitionContent_S0QG"><ul><li>An active Azure subscription (with Contributor or Owner permissions).</li><li>Don&#x27;t have one? <a href="https://azure.microsoft.com/free/" target="_blank" rel="noopener noreferrer">Create an account for free</a>.</li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-cosmos-db-for-logic-apps">Setup Cosmos DB for Logic Apps<a class="hash-link" href="#setup-cosmos-db-for-logic-apps" title="Direct link to heading">‚Äã</a></h2><p>Cosmos DB has <a href="https://learn.microsoft.com/azure/cosmos-db/choose-api" target="_blank" rel="noopener noreferrer">many APIs to choose from</a>, but to use the <a href="https://docs.microsoft.com/connectors/documentdb/" target="_blank" rel="noopener noreferrer">default Logic App connection</a>, we need to choose the a Cosmos DB SQL API.  We&#x27;ll set this up via the Azure Portal. </p><p>To get started with Cosmos DB, you create an account, then a database, then a container to store JSON documents. To create a new Cosmos DB account from the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">portal dashboard</a>, Select <strong>Create a resource &gt; Azure Cosmos DB &gt; Create</strong>.  Choose <strong>core SQL</strong> for the API.</p><p><img loading="lazy" src="/Cloud-Native/assets/images/cosmosdbapiselection-573c0193332958da1c5090a29c6a7941.png" width="2976" height="1478" class="img_ev3q"></p><p>Select your subscription, then create a new resource group called <strong>CosmosWeather</strong>.  Enter an account name and choose a location, select provisioned throughput capacity mode and apply the free tier discount. From here you can select <strong>Review and Create</strong>, then <strong>Create</strong> </p><blockquote><p>Azure Cosmos DB is available in two different capacity modes: provisioned throughput and <a href="https://docs.microsoft.com/azure/cosmos-db/throughput-serverless" target="_blank" rel="noopener noreferrer">serverless</a>. You can perform the same database operations in both modes, but the way you get billed for these operations is different. We wil be using provisioned throughput and the free tier for this example.</p></blockquote><p><img loading="lazy" alt="Setup the CosmosDB account" src="/Cloud-Native/assets/images/cosmosdbaccount-6ea06e0494167d6441438aca97437d71.png" width="2455" height="1705" class="img_ev3q"></p><p>Next, create a new database and container. Go to the <strong>Data Explorer</strong> in your new Cosmos DB account, and choose <strong>New Container</strong>.  Name the database, and keep all the orher defaults except:  </p><table><thead><tr><th>Setting</th><th>Action</th></tr></thead><tbody><tr><td>Container ID</td><td>id</td></tr><tr><td>Container partition</td><td>/id</td></tr></tbody></table><p>Press <strong>OK</strong> to create a database and container</p><blockquote><p>A database is analogous to a traditional DBMS namespace. It&#x27;s used to organize one or more containers.</p></blockquote><p><img loading="lazy" alt="Setup the CosmosDB Container" src="/Cloud-Native/assets/images/cosmosdbcontainer-c65af0651e4633b0a779c276b6eb3ae8.png" width="2424" height="1767" class="img_ev3q"></p><p>Now we&#x27;re ready to set up our logic app an write to Cosmos DB!  </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-logic-app-connection--event">Setup Logic App connection + event<a class="hash-link" href="#setup-logic-app-connection--event" title="Direct link to heading">‚Äã</a></h2><p>Once the Cosmos DB SQL API account is created, we can set up our Logic App.  From the <a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">portal dashboard</a>, Select <strong>Create a resource &gt; Integration &gt; Logic App &gt; Create</strong>.  Name your Logic App and select a location, the rest fo the settings can be left at their defaults.  Once you new Logic App is created, select <strong>Create a workflow from designer</strong> to get started.  </p><blockquote><p>A workflow is a series of steps that defines a task or process. Each workflow starts with a single trigger, after which you must add one or more actions.</p></blockquote><p>When in designer, search for <strong>weather</strong> on the right under <strong>Add a trigger</strong>.  Choose <strong>MSN Weather</strong>.  Choose
<strong>When the current conditions change</strong> as the trigger.  </p><blockquote><p>A trigger is always the first step in any workflow and specifies the condition for running any further steps in that workflow. </p></blockquote><p>Add a location.  Valid locations are City, Region, State, Country, Landmark, Postal Code, latitude and longitude.  This triggers a new workflow when the conditions change for a location.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="write-data-from-logic-app-to-cosmos-db">Write data from Logic App to Cosmos DB<a class="hash-link" href="#write-data-from-logic-app-to-cosmos-db" title="Direct link to heading">‚Äã</a></h2><p>Now we are ready to set up the action to write data to Cosmos DB.  Choose <strong>add an action</strong> and choose Cosmos DB.  </p><blockquote><p>An action is each step in a workflow after the trigger. Every action runs some operation in a workflow.</p></blockquote><p>In this case, we will be writing a JSON document to the Cosmos DB container we created earlier.  Choose <strong>Create or Update Document</strong> from the actions.  At this point you should have a workflow in designer that looks something like this: </p><p><img loading="lazy" alt="Logic App workflow with trigger" src="/Cloud-Native/assets/images/logicappworkflow1-f6bd9943b7239df52a2f6143b5cc5d46.png" width="1145" height="856" class="img_ev3q"></p><p>Start wth the connection for set up the Cosmos DB action.  Select <strong>Access Key</strong>, and provide the primary read-write key (found under keys in Cosmos DB), and the Cosmos DB account ID (without &#x27;documents.azure.com&#x27;). </p><p>Next, fill in your Cosmos DB Database ID and Collection ID.  Create a JSON document bt selecting dynamic content elements and wrapping JSON formatting around them.  </p><p>You will need a unique ID for each document that you write to Cosmos DB, for that you can use an expression.  Because we declared <strong>id</strong> to be our unique ID in Cosmos DB, we will use use that for the name.  Under expressions, type <code>guid()</code> and press enter to add a unique ID to the JSON document.  When complete, you should have a workflow in designer that looks something like this:  </p><p><img loading="lazy" alt="Logic App workflow with trigger and action" src="/Cloud-Native/assets/images/logicappworkflow2-f2d7cbaa73c21f5f7552db112dd7bb33.png" width="1906" height="1530" class="img_ev3q"></p><p>Save the workflow and test the connections by clicking <strong>Run Trigger &gt; Run</strong>.  If connections are working, you should see documents flowing into Cosmos DB over the next few minutes.   </p><p>Check the data in Cosmos Db by opening the Data explorer, then choosing the container you created and selecting <strong>items</strong>.  You should see documents similar to this: </p><p><img loading="lazy" alt="Logic App workflow with trigger and action" src="/Cloud-Native/assets/images/cosmosdresults-cd7ecf449f4cf9aa49ec2d3343a774ac.png" width="2712" height="1761" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources-for-self-study">Resources: For self-study!<a class="hash-link" href="#resources-for-self-study" title="Direct link to heading">‚Äã</a></h2><p>Once you&#x27;ve grasped the basics in ths post, there is so much more to learn!  </p><ul><li>Check out the other <a href="https://azure.github.io/Cloud-Native/blog" target="_blank" rel="noopener noreferrer">Serverless September posts</a>.  </li><li>For more detail about Cosmos DB, see the docs at <a href="https://learn.microsoft.com/azure/cosmos-db/" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/azure/cosmos-db/</a></li><li>For more info on Logic Apps, see the docs at <a href="https://learn.microsoft.com/azure/logic-apps/" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/azure/logic-apps/</a></li></ul><p>Thanks for stopping by!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/serverless-september">serverless-september</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/30-days-of-serverless">30-days-of-serverless</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/azure-container-apps">azure-container-apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/dapr">dapr</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Cloud-Native/blog/tags/microservices">microservices</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Cloud-Native/blog/tags/dapr/page/6"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Cloud-Native/blog/tags/dapr/page/8"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://azure.microsoft.com/solutions/cloud-native-apps/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud-Native</a><span class="footer__link-separator">¬∑</span><a href="https://azure.microsoft.com/solutions/serverless/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Serverless</a><span class="footer__link-separator">¬∑</span><a href="https://aka.ms/CNNY/collection" target="_blank" rel="noopener noreferrer" class="footer__link-item">Collection</a><span class="footer__link-separator">¬∑</span><a href="https://developer.microsoft.com/java/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Java</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/javascript/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">JavaScript</a><span class="footer__link-separator">¬∑</span><a href="https://dotnet.microsoft.com/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">.NET</a><span class="footer__link-separator">¬∑</span><a href="https://docs.microsoft.com/azure/developer/python/?WT.mc_id=javascript-74010-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python</a><span class="footer__link-separator">¬∑</span><a href="https://privacy.microsoft.com/privacystatement" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Statement </a><span class="footer__link-separator">¬∑</span><a href="https://microsoft.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Copyright ¬© 2023 Microsoft</a></div></div></div></footer></div>
<script src="/Cloud-Native/assets/js/runtime~main.1d7f1b27.js"></script>
<script src="/Cloud-Native/assets/js/main.ec60e08b.js"></script>
</body>
</html>